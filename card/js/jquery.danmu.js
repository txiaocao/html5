(function(n){n.jQueryPlugin=function(t){n.fn[t]=function(i){var r=Array.prototype.slice.call(arguments,1);if(this.length)return this.each(function(){var u=n.data(this,t)||n.data(this,t,new cyntax.plugins[t](this,i)._init());typeof i=="string"&&(i=i.replace(/^_/,""),u[i]&&u[i].apply(u,r))})}}})(jQuery);var cyntax={plugins:{}};
/*!
 * Pause jQuery plugin v0.1
 *
 * Copyright 2010 by Tobia Conforto <tobia.conforto@gmail.com>
 *
 * Based on Pause-resume-animation jQuery plugin by Joe Weitzel
 *
 * This program is free software; you can redistribute it and/or modify it
 * under the terms of the GNU General Public License as published by the Free
 * Software Foundation; either version 2 of the License, or(at your option)
 * any later version.
 *
 * This program is distributed in the hope that it will be useful, but WITHOUT
 * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for
 * more details.
 *
 * You should have received a copy of the GNU General Public License along with
 * this program; if not, write to the Free Software Foundation, Inc., 51
 * Franklin Street, Fifth Floor, Boston, MA 02110-1301, USA.
 */
(function(){function u(){return(new Date).getTime()}var n=jQuery,t="jQuery.pause",r=1,f=n.fn.animate,i={};n.fn.animate=function(e,o,s,h){var c=n.speed(o,s,h);return c.complete=c.old,this.each(function(){this[t]||(this[t]=r++);var o=n.extend({},c);f.apply(n(this),[e,n.extend({},o)]);i[this[t]]={run:!0,prop:e,opt:o,start:u(),done:0}})};n.fn.pause=function(){return this.each(function(){this[t]||(this[t]=r++);var f=i[this[t]];f&&f.run&&(f.done+=u()-f.start,f.done>f.opt.duration?delete i[this[t]]:(n(this).stop(),f.run=!1))})};n.fn.resume=function(){return this.each(function(){this[t]||(this[t]=r++);var e=i[this[t]];e&&!e.run&&(e.opt.duration-=e.done,e.done=0,e.run=!0,e.start=u(),f.apply(n(this),[e.prop,n.extend({},e.opt)]))})}})(),function(n){cyntax.plugins.timer=function(t,i){this.$this=n(t);this.options=n.extend({},this.defaults,i);this.timer_info={id:null,index:null,state:0}};cyntax.plugins.timer.prototype={defaults:{delay:1e3,repeat:!1,autostart:!0,callback:null,url:"",post:""},_init:function(){return this.options.autostart&&(this.timer_info.state=1,this.timer_info.id=setTimeout(n.proxy(this._timer_fn,this),this.options.delay)),this},_timer_fn:function(){typeof this.options.callback=="function"?n.proxy(this.options.callback,this.$this).call(this,++this.timer_info.index):typeof this.options.url=="string"&&(ajax_options={url:this.options.url,context:this,type:typeof this.options.post=="string"&&typeof this.options.post!=""==""?"POST":"GET",success:function(n){this.$this.html(n)}},typeof this.options.post=="string"&&typeof this.options.post!=""&&(ajax_options.data=this.options.post),n.ajax(ajax_options));this.options.repeat&&this.timer_info.state==1&&(typeof this.options.repeat=="boolean"||parseInt(this.options.repeat)>this.timer_info.index)?this.timer_info.id=setTimeout(n.proxy(this._timer_fn,this),this.options.delay):this.timer_id=null},start:function(){this.timer_info.state==0&&(this.timer_info.index=0,this.timer_info.state=1,this.timer_id=setTimeout(n.proxy(this._timer_fn,this),this.options.delay))},stop:function(){this.timer_info.state==1&&this.timer_info.id&&(clearTimeout(this.timer_info.id),this.timer_id=null);this.timer_info.state=0},pause:function(){this.timer_info.state==1&&this.timer_info.id&&clearTimeout(this.timer_info.id);this.timer_info.state=0},resume:function(){this.timer_info.state=1;this.timer_id=setTimeout(n.proxy(this._timer_fn,this),this.options.delay)}};n.jQueryPlugin("timer")}(jQuery);
/*!
 *弹幕引擎核心
 *
 * Copyright 2015 by Liyawei Of AcGit.cc 
 * @license MIT
 */
(function(n){function i(i,r){return this.each(function(){var f=n(this),o=n.extend({},t.DEFAULTS,typeof i=="object"&&i),u=f.data("danmu"),e=typeof i=="string"?i:NaN;u||f.data("danmu",u=new t(this,o));e&&u[e](r)})}var t=function(t,i){this.$element=n(t);this.options=i;n(t).data("nowtime",0);n(t).data("danmu_array",i.danmuss);n(t).data("opacity",i.opacity);n(t).data("paused",1);n(t).data("topspace",0);n(t).data("bottomspace",0);this.$element.css({position:"absolute",left:this.options.left,top:this.options.top,width:this.options.width,height:this.options.height,"z-index":this.options.zindex,color:i.default_font_color,overflow:"hidden"});var r=this.$element.height(),u=parseInt(r/i.font_size_big),f=[];n("<div class='timer71452'><\/div>").appendTo(this.$element);this.$timer=n(".timer71452");this.$timer.timer({delay:100,repeat:i.sumtime,autostart:!1,callback:function(){var o,e,a,s,v,l,h,c;if(r=n(t).height(),n(t).data("danmu_array")[n(t).data("nowtime")])for(o=n(t).data("danmu_array")[n(t).data("nowtime")],e=0;e<o.length;e++)if(a="<div class='flying flying2' id='linshi'><\/div>",n(t).append(a),n("#linshi").text(o[e].text),n("#linshi").css({color:o[e].color,"text-shadow":" 0px 0px 2px #000000","-moz-opacity":n(t).data("opacity"),opacity:n(t).data("opacity"),"white-space":"nowrap","font-weight":"bold","font-family":"SimHei","font-size":i.font_size_big}),o[e].color<"#777777"&&n("#linshi").css({"text-shadow":" 0px 0px 2px #FFFFFF"}),o[e].hasOwnProperty("isnew")&&n("#linshi").css({border:"2px solid "+o[e].color}),o[e].size==0&&n("#linshi").css("font-size",i.font_size_small),o[e].position==0){for(s=parseInt(u*Math.random());f.indexOf(s)>=0;)s=parseInt(u*Math.random());f.push(s);f.length==u&&(f=[],u=parseInt(r/i.font_size_big));v=s*i.font_size_big;n("#linshi").css({position:"absolute",top:v,left:i.width});l="fly"+parseInt(r*Math.random()).toString();n("#linshi").attr("id",l);n("#"+l).animate({left:-n(this).width()*3},i.speed,function(){n(this).remove()})}else o[e].position==1?(h="top"+parseInt(1e4*Math.random()).toString(),n("#linshi").attr("id",h),n("#"+h).css({width:i.width,"text-align":"center",position:"absolute",top:5+n(t).data("topspace")}),n(t).data("topspace",n(t).data("topspace")+i.font_size_big),n("#"+h).fadeTo(i.top_botton_danmu_time,n(t).data("opacity"),function(){n(this).remove();n(t).data("topspace",n(t).data("topspace")-i.font_size_big)})):o[e].position==2&&(c="top"+parseInt(1e4*Math.random()).toString(),n("#linshi").attr("id",c),n("#"+c).css({width:i.width,"text-align":"center",position:"absolute",bottom:0+n(t).data("bottomspace")}),n(t).data("bottomspace",n(t).data("bottomspace")+i.font_size_big),n("#"+c).fadeTo(i.top_botton_danmu_time,n(t).data("opacity"),function(){n(this).remove();n(t).data("bottomspace",n(t).data("bottomspace")-i.font_size_big)}));n(t).data("nowtime",n(t).data("nowtime")+1)}})};t.DEFAULTS={left:0,top:0,height:360,width:640,zindex:100,speed:2e4,sumtime:65535,danmuss:{},default_font_color:"#FFFFFF",font_size_small:16,font_size_big:24,opacity:"0.9",top_botton_danmu_time:6e3};t.prototype.danmu_start=function(){this.$timer.timer("start");this.$element.data("paused",0)};t.prototype.danmu_stop=function(){this.$timer.timer("stop");n(".flying").remove();nowtime=0;this.$element.data("paused",1);this.$element.data("nowtime",0)};t.prototype.danmu_pause=function(){this.$timer.timer("pause");n(".flying").pause();this.$element.data("paused",1)};t.prototype.danmu_resume=function(){this.$timer.timer("resume");n(".flying").resume();this.$element.data("paused",0)};t.prototype.danmu_hideall=function(){n(".flying").css({opacity:0})};t.prototype.add_danmu=function(n){this.$element.data("danmu_array")[n.time]?this.$element.data("danmu_array")[n.time].push(n):(this.$element.data("danmu_array")[n.time]=[],this.$element.data("danmu_array")[n.time].push(n))};n.fn.danmu=i;n.fn.danmu.Constructor=t})(jQuery)