/*! Copyright (c) Microsoft Corporation.  All Rights Reserved. Licensed under the MIT License. See License.txt in the project root for license information. */
(function(){var n=typeof window!="undefined"?window:typeof self!="undefined"?self:typeof global!="undefined"?global:{};(function(t){typeof define=="function"&&define.amd?define([],t):(n.msWriteProfilerMark&&msWriteProfilerMark("WinJS.4.0 4.0.1.winjs.2015.6.10 base.js,StartTM"),typeof module!="undefined"?t():t(n.WinJS),n.msWriteProfilerMark&&msWriteProfilerMark("WinJS.4.0 4.0.1.winjs.2015.6.10 base.js,StopTM"))})(function(){var i,t;return function(){"use strict";function r(n,t){n=n||"";var i=n.split("/");return i.pop(),t.map(function(n){if(n[0]==="."){var r=n.split("/"),t=i.slice(0);return r.forEach(function(n){n===".."?t.pop():n!=="."&&t.push(n)}),t.join("/")}return n})}function f(t,f,e){return t.map(function(t){if(t==="exports")return e;if(t==="require")return function(n,t){i(r(f,n),t)};var o=n[t];if(!o)throw new Error("Undefined dependency: "+t);return o.resolved||(o.resolved=u(o.dependencies,o.factory,t,o.exports),typeof o.resolved=="undefined"&&(o.resolved=o.exports)),o.resolved})}function u(n,t,i,r){var u=f(n,i,r);return t&&t.apply?t.apply(null,u):t}var n={};t=function(t,i,u){Array.isArray(i)||(u=i,i=[]);var f={dependencies:r(t,i),factory:u};i.indexOf("exports")!==-1&&(f.exports={});n[t]=f};i=function(n,t){Array.isArray(n)||(n=[n]);u(n,t)}}(),t("amd",function(){}),t("WinJS/Core/_WinJS",{}),t("WinJS/Core/_Global",[],function(){"use strict";return typeof window!="undefined"?window:typeof self!="undefined"?self:typeof global!="undefined"?global:{}}),t("WinJS/Core/_BaseCoreUtils",["./_Global"],function(n){"use strict";function i(n){return n.supportedForProcessing=!0,n}var t=!!n.Windows;return{hasWinRT:t,markSupportedForProcessing:i,_setImmediate:n.setImmediate?n.setImmediate.bind(n):function(t){n.setTimeout(t,0)}}}),t("WinJS/Core/_WriteProfilerMark",["./_Global"],function(n){"use strict";return n.msWriteProfilerMark||function(){}}),t("WinJS/Core/_Base",["./_WinJS","./_Global","./_BaseCoreUtils","./_WriteProfilerMark"],function(n,t,i,r){"use strict";function u(n,t,i){for(var s=Object.keys(t),h=Array.isArray(n),u,e=0,c=s.length;e<c;e++){var f=s[e],o=f.charCodeAt(0)!==95,r=t[f];if(r&&typeof r=="object"&&(r.value!==undefined||typeof r.get=="function"||typeof r.set=="function")){r.enumerable===undefined&&(r.enumerable=o);i&&r.setName&&typeof r.setName=="function"&&r.setName(i+"."+f);u=u||{};u[f]=r;continue}if(!o){u=u||{};u[f]={value:r,enumerable:o,configurable:!0,writable:!0};continue}h?n.forEach(function(n){n[f]=r}):n[f]=r}u&&(h?n.forEach(function(n){Object.defineProperties(n,u)}):Object.defineProperties(n,u))}return function(){function e(i,r){var u=i||{},f,e,s,o;if(r)for(f=r.split("."),u===t&&f[0]==="WinJS"&&(u=n,f.splice(0,1)),e=0,s=f.length;e<s;e++)o=f[e],u[o]||Object.defineProperty(u,o,{value:{},writable:!1,enumerable:!0,configurable:!0}),u=u[o];return u}function o(n,t,i){var r=e(n,t);return i&&u(r,i,t||"<ANONYMOUS>"),r}function s(n,i){return o(t,n,i)}function h(n){var f,t=i.uninitialized,u;return{setName:function(n){f=n},get:function(){switch(t){case i.initialized:return u;case i.uninitialized:t=i.working;try{r("WinJS.Namespace._lazy:"+f+",StartTM");u=n()}finally{r("WinJS.Namespace._lazy:"+f+",StopTM");t=i.uninitialized}return n=null,t=i.initialized,u;case i.working:throw"Illegal: reentrancy on initialization";default:throw"Illegal";}},set:function(n){switch(t){case i.working:throw"Illegal: reentrancy on initialization";default:t=i.initialized;u=n}},enumerable:!0,configurable:!0}}function c(n,i,r){var o=[n],f=null;return i&&(f=e(t,i),o.push(f)),u(o,r,i||"<ANONYMOUS>"),f}var f=n,i;f.Namespace||(f.Namespace=Object.create(Object.prototype));i={uninitialized:1,working:2,initialized:3};Object.defineProperties(f.Namespace,{defineWithParent:{value:o,writable:!0,enumerable:!0,configurable:!0},define:{value:s,writable:!0,enumerable:!0,configurable:!0},_lazy:{value:h,writable:!0,enumerable:!0,configurable:!0},_moduleDefine:{value:c,writable:!0,enumerable:!0,configurable:!0}})}(),function(){function t(n,t,r){return n=n||function(){},i.markSupportedForProcessing(n),t&&u(n.prototype,t),r&&u(n,r),n}function r(n,r,f,e){if(n){r=r||function(){};var o=n.prototype;return r.prototype=Object.create(o),i.markSupportedForProcessing(r),Object.defineProperty(r.prototype,"constructor",{value:r,writable:!0,configurable:!0,enumerable:!0}),f&&u(r.prototype,f),e&&u(r,e),r}return t(r,f,e)}function f(n){n=n||function(){};for(var t=1,i=arguments.length;t<i;t++)u(n.prototype,arguments[t]);return n}n.Namespace.define("WinJS.Class",{define:t,derive:r,mix:f})}(),{Namespace:n.Namespace,Class:n.Class}}),t("WinJS/Core/_ErrorFromName",["./_Base"],function(n){"use strict";var t=n.Class.derive(Error,function(n,t){this.name=n;this.message=t||n},{},{supportedForProcessing:!1});return n.Namespace.define("WinJS",{ErrorFromName:t}),t}),t("WinJS/Core/_WinRT",["exports","./_Global","./_Base",],function(n,t,i){"use strict";n.msGetWeakWinRTProperty=t.msGetWeakWinRTProperty;n.msSetWeakWinRTProperty=t.msSetWeakWinRTProperty;["Windows.ApplicationModel.DesignMode.designModeEnabled","Windows.ApplicationModel.Resources.Core.ResourceContext","Windows.ApplicationModel.Resources.Core.ResourceManager","Windows.ApplicationModel.Search.SearchQueryLinguisticDetails","Windows.Data.Text.SemanticTextQuery","Windows.Foundation.Collections.CollectionChange","Windows.Foundation.Diagnostics","Windows.Foundation.Uri","Windows.Globalization.ApplicationLanguages","Windows.Globalization.Calendar","Windows.Globalization.DateTimeFormatting","Windows.Globalization.Language","Windows.Phone.UI.Input.HardwareButtons","Windows.Storage.ApplicationData","Windows.Storage.CreationCollisionOption","Windows.Storage.BulkAccess.FileInformationFactory","Windows.Storage.FileIO","Windows.Storage.FileProperties.ThumbnailType","Windows.Storage.FileProperties.ThumbnailMode","Windows.Storage.FileProperties.ThumbnailOptions","Windows.Storage.KnownFolders","Windows.Storage.Search.FolderDepth","Windows.Storage.Search.IndexerOption","Windows.Storage.Streams.RandomAccessStreamReference","Windows.UI.ApplicationSettings.SettingsEdgeLocation","Windows.UI.ApplicationSettings.SettingsCommand","Windows.UI.ApplicationSettings.SettingsPane","Windows.UI.Core.AnimationMetrics","Windows.UI.Input.EdgeGesture","Windows.UI.Input.EdgeGestureKind","Windows.UI.Input.PointerPoint","Windows.UI.ViewManagement.HandPreference","Windows.UI.ViewManagement.InputPane","Windows.UI.ViewManagement.UIColorType","Windows.UI.ViewManagement.UISettings","Windows.UI.WebUI.Core.WebUICommandBar","Windows.UI.WebUI.Core.WebUICommandBarBitmapIcon","Windows.UI.WebUI.Core.WebUICommandBarClosedDisplayMode","Windows.UI.WebUI.Core.WebUICommandBarIconButton","Windows.UI.WebUI.Core.WebUICommandBarSymbolIcon","Windows.UI.WebUI.WebUIApplication",].forEach(function(r){var u=r.split("."),f={};f[u[u.length-1]]={get:function(){return u.reduce(function(n,t){return n?n[t]:null},t)}};i.Namespace.defineWithParent(n,u.slice(0,-1).join("."),f)})}),t("WinJS/Core/_Events",["exports","./_Base"],function(n,t){"use strict";function i(n){var t="_on"+n+"state";return{get:function(){var n=this[t];return n&&n.userHandler},set:function(i){var r=this[t];i?(r||(r={wrapper:function(n){return r.userHandler(n)},userHandler:i},Object.defineProperty(this,t,{value:r,enumerable:!1,writable:!0,configurable:!0}),this.addEventListener(n,r.wrapper,!1)),r.userHandler=i):r&&(this.removeEventListener(n,r.wrapper,!1),this[t]=null)},enumerable:!0}}function r(){for(var r={},t,n=0,u=arguments.length;n<u;n++)t=arguments[n],r["on"+t]=i(t);return r}var u=t.Class.define(function(n,t,i){this.detail=t;this.target=i;this.timeStamp=Date.now();this.type=n},{bubbles:{value:!1,writable:!1},cancelable:{value:!1,writable:!1},currentTarget:{get:function(){return this.target}},defaultPrevented:{get:function(){return this._preventDefaultCalled}},trusted:{value:!1,writable:!1},eventPhase:{value:0,writable:!1},target:null,timeStamp:null,type:null,preventDefault:function(){this._preventDefaultCalled=!0},stopImmediatePropagation:function(){this._stopImmediatePropagationCalled=!0},stopPropagation:function(){}},{supportedForProcessing:!1}),f={_listeners:null,addEventListener:function(n,t,i){var r,u,e,f;for(i=i||!1,this._listeners=this._listeners||{},r=this._listeners[n]=this._listeners[n]||[],u=0,e=r.length;u<e;u++)if(f=r[u],f.useCapture===i&&f.listener===t)return;r.push({listener:t,useCapture:i})},dispatchEvent:function(n,t){var i=this._listeners&&this._listeners[n],r,f,e;if(i){for(r=new u(n,t,this),i=i.slice(0,i.length),f=0,e=i.length;f<e&&!r._stopImmediatePropagationCalled;f++)i[f].listener(r);return r.defaultPrevented||!1}return!1},removeEventListener:function(n,t,i){var r,u,e,f;if(i=i||!1,r=this._listeners&&this._listeners[n],r)for(u=0,e=r.length;u<e;u++)if(f=r[u],f.listener===t&&f.useCapture===i){r.splice(u,1);r.length===0&&delete this._listeners[n];break}}};t.Namespace._moduleDefine(n,"WinJS.Utilities",{_createEventProperty:i,createEventProperties:r,eventMixin:f})}),t("require-json",{load:function(n){throw new Error("Dynamic load not allowed: "+n);}}),t("require-json!strings/en-us/Microsoft.WinJS.resjson",{"ui/appBarAriaLabel":"App Bar","ui/appBarCommandAriaLabel":"App Bar Item","ui/appBarOverflowButtonAriaLabel":"View more","ui/autoSuggestBoxAriaLabel":"Autosuggestbox","ui/autoSuggestBoxAriaLabelInputNoPlaceHolder":"Autosuggestbox, enter to submit query, esc to clear text","ui/autoSuggestBoxAriaLabelInputPlaceHolder":"Autosuggestbox, {0}, enter to submit query, esc to clear text","ui/autoSuggestBoxAriaLabelQuery":"Suggestion: {0}","_ui/autoSuggestBoxAriaLabelQuery.comment":"Suggestion: query text (example: Suggestion: contoso)","ui/autoSuggestBoxAriaLabelSeparator":"Separator: {0}","_ui/autoSuggestBoxAriaLabelSeparator.comment":"Separator: separator text (example: Separator: People or Separator: Apps)","ui/autoSuggestBoxAriaLabelResult":"Result: {0}, {1}","_ui/autoSuggestBoxAriaLabelResult.comment":"Result: text, detailed text (example: Result: contoso, www.contoso.com)","ui/averageRating":"Average Rating","ui/backbuttonarialabel":"Back","ui/chapterSkipBackMediaCommandDisplayText":"Chapter back","ui/chapterSkipForwardMediaCommandDisplayText":"Chapter forward","ui/clearYourRating":"Clear your rating","ui/closedCaptionsLabelNone":"Off","ui/closedCaptionsMediaCommandDisplayText":"Closed captioning","ui/closeOverlay":"Close","ui/commandingSurfaceAriaLabel":"CommandingSurface","ui/commandingSurfaceOverflowButtonAriaLabel":"View more","ui/datePicker":"Date Picker","ui/fastForwardMediaCommandDisplayText":"Fast forward","ui/fastForwardFeedbackDisplayText":" {0}X","ui/fastForwardFeedbackSlowMotionDisplayText":"0.5X","ui/flipViewPanningContainerAriaLabel":"Scrolling Container","ui/flyoutAriaLabel":"Flyout","ui/goToFullScreenButtonLabel":"Go full screen","ui/goToLiveMediaCommandDisplayText":"LIVE","ui/hubViewportAriaLabel":"Scrolling Container","ui/listViewViewportAriaLabel":"Scrolling Container","ui/mediaErrorAborted":"Playback was interrupted. Please try again.","ui/mediaErrorNetwork":"There was a network connection error.","ui/mediaErrorDecode":"The content could not be decoded","ui/mediaErrorSourceNotSupported":"This content type is not supported.","ui/mediaErrorUnknown":"There was an unknown error.","ui/mediaPlayerAudioTracksButtonLabel":"Audio tracks","ui/mediaPlayerCastButtonLabel":"Cast","ui/mediaPlayerChapterSkipBackButtonLabel":"Previous","ui/mediaPlayerChapterSkipForwardButtonLabel":"Next","ui/mediaPlayerClosedCaptionsButtonLabel":"Closed captions","ui/mediaPlayerFastForwardButtonLabel":"Fast forward","ui/mediaPlayerFullscreenButtonLabel":"Fullscreen","ui/mediaPlayerLiveButtonLabel":"LIVE","ui/mediaPlayerNextTrackButtonLabel":"Next","ui/mediaPlayerOverlayActiveOptionIndicator":"(On)","ui/mediaPlayerPauseButtonLabel":"Pause","ui/mediaPlayerPlayButtonLabel":"Play","ui/mediaPlayerPlayFromBeginningButtonLabel":"Replay","ui/mediaPlayerPlayRateButtonLabel":"Playback rate","ui/mediaPlayerPreviousTrackButtonLabel":"Previous","ui/mediaPlayerRewindButtonLabel":"Rewind","ui/mediaPlayerStopButtonLabel":"Stop","ui/mediaPlayerTimeSkipBackButtonLabel":"8 second replay","ui/mediaPlayerTimeSkipForwardButtonLabel":"30 second skip","ui/mediaPlayerToggleSnapButtonLabel":"Snap","ui/mediaPlayerVolumeButtonLabel":"Volume","ui/mediaPlayerZoomButtonLabel":"Zoom","ui/menuCommandAriaLabel":"Menu Item","ui/menuAriaLabel":"Menu","ui/navBarContainerViewportAriaLabel":"Scrolling Container","ui/nextTrackMediaCommandDisplayText":"Next track","ui/off":"Off","ui/on":"On","ui/pauseMediaCommandDisplayText":"Pause","ui/playFromBeginningMediaCommandDisplayText":"Play again","ui/playbackRateHalfSpeedLabel":"0.5x","ui/playbackRateNormalSpeedLabel":"Normal","ui/playbackRateOneAndHalfSpeedLabel":"1.5x","ui/playbackRateDoubleSpeedLabel":"2x","ui/playMediaCommandDisplayText":"Play","ui/pivotAriaLabel":"Pivot","ui/pivotViewportAriaLabel":"Scrolling Container","ui/replayMediaCommandDisplayText":"Play again","ui/rewindMediaCommandDisplayText":"Rewind","ui/rewindFeedbackDisplayText":" {0}X","ui/rewindFeedbackSlowMotionDisplayText":"0.5X","ui/searchBoxAriaLabel":"Searchbox","ui/searchBoxAriaLabelInputNoPlaceHolder":"Searchbox, enter to submit query, esc to clear text","ui/searchBoxAriaLabelInputPlaceHolder":"Searchbox, {0}, enter to submit query, esc to clear text","ui/searchBoxAriaLabelButton":"Click to submit query","ui/seeMore":"See more","ui/selectAMPM":"Select A.M P.M","ui/selectDay":"Select Day","ui/selectHour":"Select Hour","ui/selectMinute":"Select Minute","ui/selectMonth":"Select Month","ui/selectYear":"Select Year","ui/settingsFlyoutAriaLabel":"Settings Flyout","ui/stopMediaCommandDisplayText":"Stop","ui/tentativeRating":"Tentative Rating","ui/timePicker":"Time Picker","ui/timeSeparator":":","ui/timeSkipBackMediaCommandDisplayText":"Skip back","ui/timeSkipForwardMediaCommandDisplayText":"Skip forward","ui/toolbarAriaLabel":"ToolBar","ui/toolbarOverflowButtonAriaLabel":"View more","ui/unrated":"Unrated","ui/userRating":"User Rating","ui/zoomMediaCommandDisplayText":"Zoom","ui/appBarIcons/previous":"","_ui/appBarIcons/previous.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/next":"","_ui/appBarIcons/next.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/play":"","_ui/appBarIcons/play.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/pause":"","_ui/appBarIcons/pause.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/edit":"","_ui/appBarIcons/edit.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/save":"","_ui/appBarIcons/save.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/clear":"","_ui/appBarIcons/clear.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/delete":"","_ui/appBarIcons/delete.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/remove":"","_ui/appBarIcons/remove.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/add":"","_ui/appBarIcons/add.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/cancel":"","_ui/appBarIcons/cancel.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/accept":"","_ui/appBarIcons/accept.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/more":"","_ui/appBarIcons/more.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/redo":"","_ui/appBarIcons/redo.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/undo":"","_ui/appBarIcons/undo.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/home":"","_ui/appBarIcons/home.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/up":"","_ui/appBarIcons/up.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/forward":"","_ui/appBarIcons/forward.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/right":"","_ui/appBarIcons/right.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/back":"","_ui/appBarIcons/back.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/left":"","_ui/appBarIcons/left.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/favorite":"","_ui/appBarIcons/favorite.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/camera":"","_ui/appBarIcons/camera.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/settings":"","_ui/appBarIcons/settings.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/video":"","_ui/appBarIcons/video.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/sync":"","_ui/appBarIcons/sync.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/download":"","_ui/appBarIcons/download.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/mail":"","_ui/appBarIcons/mail.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/find":"","_ui/appBarIcons/find.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/help":"","_ui/appBarIcons/help.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/upload":"","_ui/appBarIcons/upload.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/emoji":"","_ui/appBarIcons/emoji.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/twopage":"","_ui/appBarIcons/twopage.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/leavechat":"","_ui/appBarIcons/leavechat.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/mailforward":"","_ui/appBarIcons/mailforward.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/clock":"","_ui/appBarIcons/clock.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/send":"","_ui/appBarIcons/send.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/crop":"","_ui/appBarIcons/crop.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/rotatecamera":"","_ui/appBarIcons/rotatecamera.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/people":"","_ui/appBarIcons/people.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/closepane":"","_ui/appBarIcons/closepane.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/openpane":"","_ui/appBarIcons/openpane.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/world":"","_ui/appBarIcons/world.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/flag":"","_ui/appBarIcons/flag.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/previewlink":"","_ui/appBarIcons/previewlink.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/globe":"","_ui/appBarIcons/globe.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/trim":"","_ui/appBarIcons/trim.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/attachcamera":"","_ui/appBarIcons/attachcamera.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/zoomin":"","_ui/appBarIcons/zoomin.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/bookmarks":"","_ui/appBarIcons/bookmarks.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/document":"","_ui/appBarIcons/document.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/protecteddocument":"","_ui/appBarIcons/protecteddocument.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/page":"","_ui/appBarIcons/page.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/bullets":"","_ui/appBarIcons/bullets.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/comment":"","_ui/appBarIcons/comment.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/mail2":"","_ui/appBarIcons/mail2.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/contactinfo":"","_ui/appBarIcons/contactinfo.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/hangup":"","_ui/appBarIcons/hangup.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/viewall":"","_ui/appBarIcons/viewall.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/mappin":"","_ui/appBarIcons/mappin.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/phone":"","_ui/appBarIcons/phone.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/videochat":"","_ui/appBarIcons/videochat.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/switch":"","_ui/appBarIcons/switch.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/contact":"","_ui/appBarIcons/contact.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/rename":"","_ui/appBarIcons/rename.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/pin":"","_ui/appBarIcons/pin.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/musicinfo":"","_ui/appBarIcons/musicinfo.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/go":"","_ui/appBarIcons/go.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/keyboard":"","_ui/appBarIcons/keyboard.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/dockleft":"","_ui/appBarIcons/dockleft.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/dockright":"","_ui/appBarIcons/dockright.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/dockbottom":"","_ui/appBarIcons/dockbottom.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/remote":"","_ui/appBarIcons/remote.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/refresh":"","_ui/appBarIcons/refresh.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/rotate":"","_ui/appBarIcons/rotate.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/shuffle":"","_ui/appBarIcons/shuffle.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/list":"","_ui/appBarIcons/list.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/shop":"","_ui/appBarIcons/shop.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/selectall":"","_ui/appBarIcons/selectall.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/orientation":"","_ui/appBarIcons/orientation.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/import":"","_ui/appBarIcons/import.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/importall":"","_ui/appBarIcons/importall.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/browsephotos":"","_ui/appBarIcons/browsephotos.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/webcam":"","_ui/appBarIcons/webcam.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/pictures":"","_ui/appBarIcons/pictures.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/savelocal":"","_ui/appBarIcons/savelocal.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/caption":"","_ui/appBarIcons/caption.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/stop":"","_ui/appBarIcons/stop.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/showresults":"","_ui/appBarIcons/showresults.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/volume":"","_ui/appBarIcons/volume.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/repair":"","_ui/appBarIcons/repair.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/message":"","_ui/appBarIcons/message.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/page2":"","_ui/appBarIcons/page2.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/calendarday":"","_ui/appBarIcons/calendarday.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/calendarweek":"","_ui/appBarIcons/calendarweek.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/calendar":"","_ui/appBarIcons/calendar.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/characters":"","_ui/appBarIcons/characters.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/mailreplyall":"","_ui/appBarIcons/mailreplyall.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/read":"","_ui/appBarIcons/read.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/link":"","_ui/appBarIcons/link.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/accounts":"","_ui/appBarIcons/accounts.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/showbcc":"","_ui/appBarIcons/showbcc.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/hidebcc":"","_ui/appBarIcons/hidebcc.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/cut":"","_ui/appBarIcons/cut.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/attach":"","_ui/appBarIcons/attach.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/paste":"","_ui/appBarIcons/paste.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/filter":"","_ui/appBarIcons/filter.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/copy":"","_ui/appBarIcons/copy.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/emoji2":"","_ui/appBarIcons/emoji2.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/important":"","_ui/appBarIcons/important.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/mailreply":"","_ui/appBarIcons/mailreply.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/slideshow":"","_ui/appBarIcons/slideshow.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/sort":"","_ui/appBarIcons/sort.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/manage":"","_ui/appBarIcons/manage.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/allapps":"","_ui/appBarIcons/allapps.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/disconnectdrive":"","_ui/appBarIcons/disconnectdrive.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/mapdrive":"","_ui/appBarIcons/mapdrive.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/newwindow":"","_ui/appBarIcons/newwindow.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/openwith":"","_ui/appBarIcons/openwith.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/contactpresence":"","_ui/appBarIcons/contactpresence.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/priority":"","_ui/appBarIcons/priority.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/uploadskydrive":"","_ui/appBarIcons/uploadskydrive.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/gototoday":"","_ui/appBarIcons/gototoday.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/font":"","_ui/appBarIcons/font.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/fontcolor":"","_ui/appBarIcons/fontcolor.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/contact2":"","_ui/appBarIcons/contact2.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/folder":"","_ui/appBarIcons/folder.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/audio":"","_ui/appBarIcons/audio.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/placeholder":"","_ui/appBarIcons/placeholder.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/view":"","_ui/appBarIcons/view.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/setlockscreen":"","_ui/appBarIcons/setlockscreen.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/settile":"","_ui/appBarIcons/settile.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/cc":"","_ui/appBarIcons/cc.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/stopslideshow":"","_ui/appBarIcons/stopslideshow.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/permissions":"","_ui/appBarIcons/permissions.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/highlight":"","_ui/appBarIcons/highlight.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/disableupdates":"","_ui/appBarIcons/disableupdates.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/unfavorite":"","_ui/appBarIcons/unfavorite.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/unpin":"","_ui/appBarIcons/unpin.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/openlocal":"","_ui/appBarIcons/openlocal.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/mute":"","_ui/appBarIcons/mute.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/italic":"","_ui/appBarIcons/italic.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/underline":"","_ui/appBarIcons/underline.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/bold":"","_ui/appBarIcons/bold.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/movetofolder":"","_ui/appBarIcons/movetofolder.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/likedislike":"","_ui/appBarIcons/likedislike.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/dislike":"","_ui/appBarIcons/dislike.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/like":"","_ui/appBarIcons/like.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/alignright":"","_ui/appBarIcons/alignright.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/aligncenter":"","_ui/appBarIcons/aligncenter.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/alignleft":"","_ui/appBarIcons/alignleft.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/zoom":"","_ui/appBarIcons/zoom.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/zoomout":"","_ui/appBarIcons/zoomout.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/openfile":"","_ui/appBarIcons/openfile.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/otheruser":"","_ui/appBarIcons/otheruser.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/admin":"","_ui/appBarIcons/admin.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/street":"","_ui/appBarIcons/street.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/map":"","_ui/appBarIcons/map.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/clearselection":"","_ui/appBarIcons/clearselection.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/fontdecrease":"","_ui/appBarIcons/fontdecrease.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/fontincrease":"","_ui/appBarIcons/fontincrease.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/fontsize":"","_ui/appBarIcons/fontsize.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/cellphone":"","_ui/appBarIcons/cellphone.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/reshare":"","_ui/appBarIcons/reshare.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/tag":"","_ui/appBarIcons/tag.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/repeatone":"","_ui/appBarIcons/repeatone.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/repeatall":"","_ui/appBarIcons/repeatall.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/outlinestar":"","_ui/appBarIcons/outlinestar.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/solidstar":"","_ui/appBarIcons/solidstar.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/calculator":"","_ui/appBarIcons/calculator.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/directions":"","_ui/appBarIcons/directions.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/target":"","_ui/appBarIcons/target.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/library":"","_ui/appBarIcons/library.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/phonebook":"","_ui/appBarIcons/phonebook.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/memo":"","_ui/appBarIcons/memo.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/microphone":"","_ui/appBarIcons/microphone.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/postupdate":"","_ui/appBarIcons/postupdate.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/backtowindow":"","_ui/appBarIcons/backtowindow.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/fullscreen":"","_ui/appBarIcons/fullscreen.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/newfolder":"","_ui/appBarIcons/newfolder.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/calendarreply":"","_ui/appBarIcons/calendarreply.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/unsyncfolder":"","_ui/appBarIcons/unsyncfolder.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/reporthacked":"","_ui/appBarIcons/reporthacked.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/syncfolder":"","_ui/appBarIcons/syncfolder.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/blockcontact":"","_ui/appBarIcons/blockcontact.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/switchapps":"","_ui/appBarIcons/switchapps.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/addfriend":"","_ui/appBarIcons/addfriend.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/touchpointer":"","_ui/appBarIcons/touchpointer.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/gotostart":"","_ui/appBarIcons/gotostart.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/zerobars":"","_ui/appBarIcons/zerobars.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/onebar":"","_ui/appBarIcons/onebar.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/twobars":"","_ui/appBarIcons/twobars.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/threebars":"","_ui/appBarIcons/threebars.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/fourbars":"","_ui/appBarIcons/fourbars.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/scan":"","_ui/appBarIcons/scan.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/preview":"","_ui/appBarIcons/preview.comment":"{Locked:qps-ploc,qps-plocm}","ui/appBarIcons/hamburger":"","_ui/appBarIcons/hamburger.comment":"{Locked:qps-ploc,qps-plocm}"}),t("WinJS/Core/_Resources",["exports","./_Global","./_WinRT","./_Base","./_Events","require-json!strings/en-us/Microsoft.WinJS.resjson",],function(n,t,i,r,u,f){"use strict";function a(n){var t=c("ms-resource:///Microsoft.WinJS/"+n);return t.empty&&(t=p(n)),t}function p(n){var t=f[n];return typeof t=="string"&&(t={value:t}),t||{value:n,empty:!0}}function l(n){var t=arguments;return t.length>1&&(n=n.replace(/({{)|(}})|{(\d+)}|({)|(})/g,function(n,i,r,u,f,e){if(f||e)throw l(k.malformedFormatStringInput,f||e);return i&&"{"||r&&"}"||t[(u|0)+1]})),n}var e,v=!1,s="contextchanged",h,w=r.Class.mix(r.Class.define(null,{},{supportedForProcessing:!1}),u.eventMixin),o=new w,b=u._createEventProperty,k={get malformedFormatStringInput(){return"Malformed, did you mean to escape your '{0}'?"}},y,c;r.Namespace.define("WinJS.Resources",{_getWinJSString:a});r.Namespace._moduleDefine(n,"WinJS.Resources",{addEventListener:function(t,r,u){if(i.Windows.ApplicationModel.Resources.Core.ResourceManager&&!v&&t===s)try{var f=n._getResourceContext();f?f.qualifierValues.addEventListener("mapchanged",function(t){n.dispatchEvent(s,{qualifier:t.key,changed:t.target[t.key]})},!1):i.Windows.ApplicationModel.Resources.Core.ResourceManager.current.defaultContext.qualifierValues.addEventListener("mapchanged",function(t){n.dispatchEvent(s,{qualifier:t.key,changed:t.target[t.key]})},!1);v=!0}catch(e){}o.addEventListener(t,r,u)},removeEventListener:o.removeEventListener.bind(o),dispatchEvent:o.dispatchEvent.bind(o),_formatString:l,_getStringWinRT:function(t){var f,r,s,u,o;if(!e){f=i.Windows.ApplicationModel.Resources.Core.ResourceManager.current.mainResourceMap;try{e=f.getSubtree("Resources")}catch(h){}e||(e=f)}try{o=n._getResourceContext();u=o?e.getValue(t,o):e.getValue(t);u&&(r=u.valueAsString,r===undefined&&(r=u.toString()))}catch(h){}if(!r)return n._getStringJS(t);try{s=u.getQualifierValue("Language")}catch(h){return{value:r}}return{value:r,lang:s}},_getStringJS:function(n){var i=t.strings&&t.strings[n];return typeof i=="string"&&(i={value:i}),i||{value:n,empty:!0}},_getResourceContext:function(){if(t.document&&typeof h=="undefined"){var n=i.Windows.ApplicationModel.Resources.Core.ResourceContext;h=n.getForCurrentView?n.getForCurrentView():null}return h},oncontextchanged:b(s)});y=i.Windows.ApplicationModel.Resources.Core.ResourceManager?n._getStringWinRT:n._getStringJS;c=function(n){return y(n)};r.Namespace._moduleDefine(n,null,{_formatString:l,_getWinJSString:a});r.Namespace._moduleDefine(n,"WinJS.Resources",{getString:{get:function(){return c},set:function(n){c=n}}})}),t("WinJS/Core/_Trace",["./_Global"],function(n){"use strict";function t(n){return n}return{_traceAsyncOperationStarting:n.Debug&&n.Debug.msTraceAsyncOperationStarting&&n.Debug.msTraceAsyncOperationStarting.bind(n.Debug)||t,_traceAsyncOperationCompleted:n.Debug&&n.Debug.msTraceAsyncOperationCompleted&&n.Debug.msTraceAsyncOperationCompleted.bind(n.Debug)||t,_traceAsyncCallbackStarting:n.Debug&&n.Debug.msTraceAsyncCallbackStarting&&n.Debug.msTraceAsyncCallbackStarting.bind(n.Debug)||t,_traceAsyncCallbackCompleted:n.Debug&&n.Debug.msTraceAsyncCallbackCompleted&&n.Debug.msTraceAsyncCallbackCompleted.bind(n.Debug)||t}}),t("WinJS/Promise/_StateMachine",["../Core/_Global","../Core/_BaseCoreUtils","../Core/_Base","../Core/_ErrorFromName","../Core/_Events","../Core/_Trace"],function(n,t,i,r,u,f){"use strict";function e(){}function g(n,t){var i;i=t&&typeof t=="object"&&typeof t.then=="function"?p:dt;n._value=t;n._setState(i)}function nt(n,t,i,r,u,f){return{exception:n,error:t,promise:i,handler:f,id:r,parent:u}}function tt(n,t,i,r){var u=i._isException,f=i._errorId;return nt(u?t:null,u?null:t,n,f,i,r)}function gt(n,t,i){var r=i._isException,u=i._errorId;return vt(n,u,r),nt(r?t:null,r?null:t,n,u,i)}function ni(n,t){var i=++ht;return vt(n,i),nt(null,t,n,i)}function ti(n,t){var i=++ht;return vt(n,i,!0),nt(t,null,n,i)}function it(n,t,i,r){var u=f._traceAsyncOperationStarting("WinJS.Promise.done");at(n,{c:t,e:i,p:r,asyncOpID:u})}function rt(n,t,i,r){n._value=t;l(n,t,i,r);n._setState(lt)}function ii(t,i){var l=t._value,u=t._listeners,e,s;if(u)for(t._listeners=null,e=0,s=Array.isArray(u)?u.length:1;e<s;e++){var o=s===1?u:u[e],h=o.c,r=o.promise;if(f._traceAsyncOperationCompleted(o.asyncOpID,n.Debug&&n.Debug.MS_ASYNC_OP_STATUS_SUCCESS),r){f._traceAsyncCallbackStarting(o.asyncOpID);try{r._setCompleteValue(h?h(l):l)}catch(a){r._setExceptionValue(a)}finally{f._traceAsyncCallbackCompleted()}r._state!==p&&r._listeners&&i.push(r)}else c.prototype.done.call(t,h)}}function ri(t,i){var u=t._value,e=t._listeners,s,c,v;if(e)for(t._listeners=null,s=0,c=Array.isArray(e)?e.length:1;s<c;s++){var h=c===1?e:e[s],o=h.e,r=h.promise,w=n.Debug&&(u&&u.name===y?n.Debug.MS_ASYNC_OP_STATUS_CANCELED:n.Debug.MS_ASYNC_OP_STATUS_ERROR);if(f._traceAsyncOperationCompleted(h.asyncOpID,w),r){v=!1;try{o?(f._traceAsyncCallbackStarting(h.asyncOpID),v=!0,o.handlesOnError||l(r,u,tt,t,o),r._setCompleteValue(o(u))):r._setChainedErrorValue(u,t)}catch(b){r._setExceptionValue(b)}finally{v&&f._traceAsyncCallbackCompleted()}r._state!==p&&r._listeners&&i.push(r)}else a.prototype.done.call(t,null,o)}}function l(n,t,i,r,u){if(v._listeners[st]){if(t instanceof Error&&t.message===y)return;v.dispatchEvent(st,i(n,t,r,u))}}function ut(n,t){var r=n._listeners,u,f,i,e;if(r)for(u=0,f=Array.isArray(r)?r.length:1;u<f;u++){if(i=f===1?r:r[u],e=i.p,e)try{e(t)}catch(o){}i.c||i.e||!i.promise||i.promise._progress(t)}}function at(n,t){var i=n._listeners;i?(i=Array.isArray(i)?i:[i],i.push(t)):i=t;n._listeners=i}function vt(n,t,i){n._isException=i||!1;n._errorId=t}function ft(n,t,i,r){n._value=t;l(n,t,i,r);n._setState(k)}function et(n,t){var i;i=t&&typeof t=="object"&&typeof t.then=="function"?p:b;n._value=t;n._setState(i)}function ot(n,t,i,r){var u=new yt(n),e=f._traceAsyncOperationStarting("WinJS.Promise.then");return at(n,{promise:u,c:t,e:i,p:r,asyncOpID:e}),u}function ei(i){var r;return new o(function(u){i?r=n.setTimeout(u,i):t._setImmediate(u)},function(){r&&n.clearTimeout(r)})}function oi(n,t){var r=function(){t.cancel()},i=function(){n.cancel()};return n.then(r),t.then(i,i),t}var pt,v,ht,w,wt,p,bt,kt,ct,dt,b,lt,k,d,fi,o;n.Debug&&(n.Debug.setNonUserCodeExceptions=!0);pt=i.Class.mix(i.Class.define(null,{},{supportedForProcessing:!1}),u.eventMixin);v=new pt;v._listeners={};var st="error",y="Canceled",s=!1,h={promise:1,thenPromise:2,errorPromise:4,exceptionPromise:8,completePromise:16};h.all=h.promise|h.thenPromise|h.errorPromise|h.exceptionPromise|h.completePromise;ht=1;w={name:"created",enter:function(n){n._setState(wt)},cancel:e,done:e,then:e,_completed:e,_error:e,_notify:e,_progress:e,_setCompleteValue:e,_setErrorValue:e};wt={name:"working",enter:e,cancel:function(n){n._setState(kt)},done:it,then:ot,_completed:g,_error:rt,_notify:e,_progress:ut,_setCompleteValue:et,_setErrorValue:ft};p={name:"waiting",enter:function(n){var t=n._value,i;t instanceof yt&&t._state!==k&&t._state!==b?at(t,{promise:n}):(i=function(r){t._errorId?n._chainedError(r,t):(l(n,r,tt,t,i),n._error(r))},i.handlesOnError=!0,t.then(n._completed.bind(n),i,n._progress.bind(n)))},cancel:function(n){n._setState(bt)},done:it,then:ot,_completed:g,_error:rt,_notify:e,_progress:ut,_setCompleteValue:et,_setErrorValue:ft};bt={name:"waiting_canceled",enter:function(n){n._setState(ct);var t=n._value;t.cancel&&t.cancel()},cancel:e,done:it,then:ot,_completed:g,_error:rt,_notify:e,_progress:ut,_setCompleteValue:et,_setErrorValue:ft};kt={name:"canceled",enter:function(n){n._setState(ct);n._cancelAction()},cancel:e,done:it,then:ot,_completed:g,_error:rt,_notify:e,_progress:ut,_setCompleteValue:et,_setErrorValue:ft};ct={name:"canceling",enter:function(n){var t=new Error(y);t.name=t.message;n._value=t;n._setState(lt)},cancel:e,done:e,then:e,_completed:e,_error:e,_notify:e,_progress:e,_setCompleteValue:e,_setErrorValue:e};dt={name:"complete_notify",enter:function(n){if(n.done=c.prototype.done,n.then=c.prototype.then,n._listeners)for(var t=[n],i;t.length;)i=t.shift(),i._state._notify(i,t);n._setState(b)},cancel:e,done:null,then:null,_completed:e,_error:e,_notify:ii,_progress:e,_setCompleteValue:e,_setErrorValue:e};b={name:"success",enter:function(n){n.done=c.prototype.done;n.then=c.prototype.then;n._cleanupAction()},cancel:e,done:null,then:null,_completed:e,_error:e,_notify:ii,_progress:e,_setCompleteValue:e,_setErrorValue:e};lt={name:"error_notify",enter:function(n){if(n.done=a.prototype.done,n.then=a.prototype.then,n._listeners)for(var t=[n],i;t.length;)i=t.shift(),i._state._notify(i,t);n._setState(k)},cancel:e,done:null,then:null,_completed:e,_error:e,_notify:ri,_progress:e,_setCompleteValue:e,_setErrorValue:e};k={name:"error",enter:function(n){n.done=a.prototype.done;n.then=a.prototype.then;n._cleanupAction()},cancel:e,done:null,then:null,_completed:e,_error:e,_notify:ri,_progress:e,_setCompleteValue:e,_setErrorValue:e};d=i.Class.define(null,{_listeners:null,_nextState:null,_state:null,_value:null,cancel:function(){this._state.cancel(this);this._run()},done:function(n,t,i){this._state.done(this,n,t,i)},then:function(n,t,i){return this._state.then(this,n,t,i)},_chainedError:function(n,t){var i=this._state._error(this,n,gt,t);return this._run(),i},_completed:function(n){var t=this._state._completed(this,n);return this._run(),t},_error:function(n){var t=this._state._error(this,n,ni);return this._run(),t},_progress:function(n){this._state._progress(this,n)},_setState:function(n){this._nextState=n},_setCompleteValue:function(n){this._state._setCompleteValue(this,n);this._run()},_setChainedErrorValue:function(n,t){var i=this._state._setErrorValue(this,n,gt,t);return this._run(),i},_setExceptionValue:function(n){var t=this._state._setErrorValue(this,n,ti);return this._run(),t},_run:function(){while(this._nextState)this._state=this._nextState,this._nextState=null,this._state.enter(this)}},{supportedForProcessing:!1});var yt=i.Class.derive(d,function(n){s&&(s===!0||s&h.thenPromise)&&(this._stack=o._getStack());this._creator=n;this._setState(w);this._run()},{_creator:null,_cancelAction:function(){this._creator&&this._creator.cancel()},_cleanupAction:function(){this._creator=null}},{supportedForProcessing:!1}),a=i.Class.define(function(n){s&&(s===!0||s&h.errorPromise)&&(this._stack=o._getStack());this._value=n;l(this,n,ni)},{cancel:function(){},done:function(n,t){var i=this._value,r;if(t)try{t.handlesOnError||l(null,i,tt,this,t);r=t(i);r&&typeof r=="object"&&typeof r.done=="function"&&r.done();return}catch(u){i=u}i instanceof Error&&i.message===y||o._doneHandler(i)},then:function(n,t){if(!t)return this;var i,r=this._value;try{t.handlesOnError||l(null,r,tt,this,t);i=new c(t(r))}catch(u){i=u===r?this:new ui(u)}return i}},{supportedForProcessing:!1}),ui=i.Class.derive(a,function(n){s&&(s===!0||s&h.exceptionPromise)&&(this._stack=o._getStack());this._value=n;l(this,n,ti)},{},{supportedForProcessing:!1}),c=i.Class.define(function(n){if(s&&(s===!0||s&h.completePromise)&&(this._stack=o._getStack()),n&&typeof n=="object"&&typeof n.then=="function"){var t=new yt(null);return t._setCompleteValue(n),t}this._value=n},{cancel:function(){},done:function(n){if(n)try{var t=n(this._value);t&&typeof t=="object"&&typeof t.done=="function"&&t.done()}catch(i){o._doneHandler(i)}},then:function(n){try{var t=n?n(this._value):this._value;return t===this._value?this:new c(t)}catch(i){return new ui(i)}}},{supportedForProcessing:!1});return o=i.Class.derive(d,function(n,t){s&&(s===!0||s&h.promise)&&(this._stack=o._getStack());this._oncancel=t;this._setState(w);this._run();try{var i=this._completed.bind(this),r=this._error.bind(this),u=this._progress.bind(this);n(i,r,u)}catch(f){this._setExceptionValue(f)}},{_oncancel:null,_cancelAction:function(){if(this._oncancel)try{this._oncancel()}catch(n){}},_cleanupAction:function(){this._oncancel=null}},{addEventListener:function(n,t,i){v.addEventListener(n,t,i)},any:function(n){return new o(function(t,i){var r=Object.keys(n),u;r.length===0&&t();u=0;r.forEach(function(f){o.as(n[f]).then(function(){t({key:f,value:n[f]})},function(e){if(e instanceof Error&&e.name===y){++u===r.length&&t(o.cancel);return}i({key:f,value:n[f]})})})},function(){var t=Object.keys(n);t.forEach(function(t){var i=o.as(n[t]);typeof i.cancel=="function"&&i.cancel()})})},as:function(n){return n&&typeof n=="object"&&typeof n.then=="function"?n:new c(n)},cancel:{get:function(){return fi=fi||new a(new r(y))}},dispatchEvent:function(n,t){return v.dispatchEvent(n,t)},is:function(n){return n&&typeof n=="object"&&typeof n.then=="function"},join:function(n){return new o(function(t,i,r){var f=Object.keys(n),u=Array.isArray(n)?[]:{},e=Array.isArray(n)?[]:{},h=0,s=f.length,c=function(n){var h,c;--s==0?(h=Object.keys(u).length,h===0?t(e):(c=0,f.forEach(function(n){var t=u[n];t instanceof Error&&t.name===y&&c++}),c===h?t(o.cancel):i(u))):r({Key:n,Done:!0})};if(f.forEach(function(t){var i=n[t];i===undefined?h++:o.then(i,function(n){e[t]=n;c(t)},function(n){u[t]=n;c(t)})}),s-=h,s===0){t(e);return}},function(){Object.keys(n).forEach(function(t){var i=o.as(n[t]);typeof i.cancel=="function"&&i.cancel()})})},removeEventListener:function(n,t,i){v.removeEventListener(n,t,i)},supportedForProcessing:!1,then:function(n,t,i,r){return o.as(n).then(t,i,r)},thenEach:function(n,t,i,r){var u=Array.isArray(n)?[]:{};return Object.keys(n).forEach(function(f){u[f]=o.as(n[f]).then(t,i,r)}),o.join(u)},timeout:function(n,t){var i=ei(n);return t?oi(i,t):i},wrap:function(n){return new c(n)},wrapError:function(n){return new a(n)},_veryExpensiveTagWithStack:{get:function(){return s},set:function(n){s=n}},_veryExpensiveTagWithStack_tag:h,_getStack:function(){if(n.Debug&&n.Debug.debuggerEnabled)try{throw new Error;}catch(t){return t.stack}},_cancelBlocker:function(n,t){if(!o.is(n))return o.wrap(n);var i,r,u=new o(function(n,t){i=n;r=t},function(){i=null;r=null;t&&t()});return n.then(function(n){i&&i(n)},function(n){r&&r(n)}),u}}),Object.defineProperties(o,u.createEventProperties(st)),o._doneHandler=function(n){t._setImmediate(function(){throw n;})},{PromiseStateMachine:d,Promise:o,state_created:w}}),t("WinJS/Promise",["./Core/_Base","./Promise/_StateMachine"],function(n,t){"use strict";return n.Namespace.define("WinJS",{Promise:t.Promise}),t.Promise}),t("WinJS/Core/_Log",["exports","./_Global","./_Base",],function(n,t,i){"use strict";function o(n,t,i){var u=n;return typeof u=="function"&&(u=u()),(i&&f.test(i)?"":i?i+": ":"")+(t?t.replace(r,":")+": ":"")+u}function s(i,r,u){var e=n.formatLog(i,r,u);t.console&&t.console[u&&f.test(u)?u:"log"](e)}function u(n){return n.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&")}var r=/\s+/g,f=/^(error|warn|info|log)$/,e=null;i.Namespace._moduleDefine(n,"WinJS.Utilities",{startLog:function(t){var i;t=t||{};typeof t=="string"&&(t={tags:t});var f=t.type&&new RegExp("^("+u(t.type).replace(r," ").split(" ").join("|")+")$"),e=t.excludeTags&&new RegExp("(^|\\s)("+u(t.excludeTags).replace(r," ").split(" ").join("|")+")(\\s|$)","i"),o=t.tags&&new RegExp("(^|\\s)("+u(t.tags).replace(r," ").split(" ").join("|")+")(\\s|$)","i"),h=t.action||s;if(!f&&!e&&!o&&!n.log){n.log=h;return}i=function(n,t,r){f&&!f.test(r)||e&&e.test(t)||o&&!o.test(t)||h(n,t,r);i.next&&i.next(n,t,r)};i.next=n.log;n.log=i},stopLog:function(){n.log=null},formatLog:o});i.Namespace._moduleDefine(n,"WinJS",{log:{get:function(){return e},set:function(n){e=n}}})}),t("WinJS/Scheduler",["exports","./Core/_Global","./Core/_Base","./Core/_ErrorFromName","./Core/_Log","./Core/_Resources","./Core/_Trace","./Core/_WriteProfilerMark","./Promise"],function(n,t,i,r,u,f,e,o,s){"use strict";function ii(n){var r={},t="_prev"+n,i="_next"+n;return r["_remove"+n]=function(){var n=this[t],r=this[i];r&&(r[t]=n);n&&(n[i]=r);this[t]=null;this[i]=null},r["_insert"+n+"Before"]=function(n){var r=this[t];return r&&(r[i]=n),n[i]=this,n[t]=r,this[t]=n,n},r["_insert"+n+"After"]=function(n){var r=this[i];return this[i]=n,n[i]=r,n[t]=this,r&&(r[t]=n),n},r}function fi(n,t,i){return i!==undefined?"("+n+";"+t+";"+i+")":t!==undefined?"("+n+";"+t+")":n!==undefined?"("+n+")":""}function tt(n,t,i,r){o("WinJS.Scheduler:"+n+fi(i,r)+","+t)}function v(n,t,i,r,u){var f=n.name||r!==undefined||u!==undefined;o("WinJS.Scheduler:"+t+":"+n.id+(f?fi(n.name,r,u):"")+","+i)}function c(){return!1}function ft(n){throw"Illegal call by job("+n.id+") in state: "+this.name;}function g(n){return function(t,i,r){t._setState(n,i,r)}}function wt(n,t){n._setPriority(t)}function lr(n,t){function f(n,t){u.log&&u.log(t+": MARKER: "+n.name,"winjs scheduler","log")}function e(n,t){u.log&&u.log(t+": JOB("+n.id+"): state: "+(n._state?n._state.name:"")+(n.name?", name: "+n.name:""),"winjs scheduler","log")}u.log&&u.log("highWaterMark: "+a,"winjs scheduler","log");var r=0,o=t?bt[bt.length-1]:bt[0],i=o;do i instanceof h&&f(i,r),i instanceof it&&e(i,r),r++,i=t?i["_prev"+n]:i["_next"+n];while(i)}function ar(){function u(t,i){n+="    "+(i?"*":" ")+"id: "+t.id+", priority: "+w(t.priority).name+(t.name?", name: "+t.name:"")+"\n"}var n="",t,r,i,f;for(n+="Jobs:\n",t=w(a),r=0,pt&&(u(pt,!0),r++);t.priority>=p.min;)t instanceof it&&(u(t,!1),r++),t=t._nextJob;for(r===0&&(n+="     None\n"),n+="Drain requests:\n",i=0,f=y.length;i<f;i++)n+="    "+(i===0?"*":" ")+"priority: "+w(y[i].priority).name+", name: "+y[i].name+"\n";return y.length===0&&(n+="     None\n"),n}function vr(){var n=bt[0];do{if(n instanceof it)return!1;n=n._nextJob}while(n);return!0}function rr(){return y.length===0?null:y[0].priority}function si(n){tt("drain","StartTM",n.name,w(n.priority).name)}function ur(n,t){t&&tt("drain-canceled","info",n.name,w(n.priority).name);tt("drain","StopTM",n.name,w(n.priority).name)}function yr(n,t,i){y.push({priority:n,complete:t,name:i});y.length===1&&(si(y[0]),n>a&&(a=n,ct=!0))}function pr(n,t){for(var r=y.length,i=0;i<r;i++)if(y[i].complete===n){i===0&&(ur(y[0],t),y[1]&&si(y[1]));y.splice(i,1);break}}function wr(){var n=y.shift();n&&(ur(n),y[0]&&si(y[0]),n.complete())}function fr(){var t=!1,n;if(!!y.length)for(n=rr();+n===n&&n>a;)kt=n,wr(),t=!0,n=rr();return t}function gt(n){return n>=p.aboveNormal+1?l.HIGH:n>=p.belowNormal?l.NORMAL:l.IDLE}function kr(n,t){return lt[n]>=lt[t]}function dr(n,t){return lt[n]>lt[t]}function er(n){switch(n){case l.HIGH:return!1;case l.NORMAL:return l.isTaskScheduledAtPriorityOrHigher(l.HIGH);case l.IDLE:return l.isTaskScheduledAtPriorityOrHigher(l.NORMAL)}}function gr(n,t){var i=w(t);i.priority>a&&(a=i.priority,ct=!0);i._insertJobAfter(n)}function ci(n,t){var i=w(t);i.priority>a&&(a=i.priority,ct=!0);i._nextMarker._insertJobBefore(n)}function li(n){return n=n|0,n=Math.max(n,cr),Math.min(n,tr)}function w(n){return n=li(n),bt[-1*(n-tr)]}function nu(n){var c,s,e,b;ni=!0;tt("timeslice","StartTM");var r,u=!0,t,i,o=!1,f=!1;ct=!1;try{for(var k=ai(),d=k+ir,h=function(){return(o=!1,ct)?!0:er(gt(a))?!0:!y.length?ai()>d?(o=!0,!0):!1:!1};a>=p.min&&!h()&&!f;){r=!1;t=w(a)._nextJob;do kt=t.priority,t instanceof it?(i!==t.priority&&(+i===i&&tt("priority","StopTM",w(i).name),tt("priority","StartTM",w(t.priority).name),i=t.priority),r=!0,u=!1,pt=t,v(pt,"job-running","StartTM",w(kt).name),t._execute(h),v(pt,"job-running","StopTM",w(kt).name),pt=null,u=!0):(c=gt(a),a=t.priority,r=fr(),s=gt(a),dr(c,s)&&(!dt||l.isTaskScheduledAtPriorityOrHigher(s))&&(f=!0)),t=t._nextJob;while(t&&!r&&!f&&!er(gt(a)));ct=!1}}finally{for(pt=null,u||(v(t,"job-error","info"),v(t,"job-running","StopTM",w(kt).name),t.cancel()),+i===i&&tt("priority","StopTM",w(i).name),e=!1;a>=p.min&&!e;){r=!1;t=w(a)._nextJob;do t instanceof it?e=!0:(a=t.priority,r=fr()),t=t._nextJob;while(t&&!r&&!e)}b=u?o?"timeslice exhausted":a<p.min?"jobs exhausted":f?"reached WWA priority boundary":"WWA host work":"job error";n&&(ui=null);ni=!1;a>=p.min&&pi();tt("yielding","info",b);tt("timeslice","StopTM")}}function pi(n){var t,i,r;(+n!==n&&(n=a),t=gt(n),ni)||ui&&(!dt||kr(ui,t))||(i=++vi,r=function(){yi<i&&(yi=vi,nu(!0))},l.execAsyncAtPriority(r,t),ui=t)}function tu(n,t){var u=hr++,i,r;return t===undefined&&(t="Drain Request "+u),n=+n===n?n:p.min,n=li(n),r=new s(function(r){i=r;yr(n,i,t)},function(){pr(i,!0)}),ni||pi(),r}function iu(n){return l.execAtPriority(n,l.HIGH)}function ru(){return new ki}function or(n,t,i,r){t=t||p.normal;i=i||null;var u=++sr,f=e._traceAsyncOperationStarting("WinJS.Utilities.Scheduler.schedule: "+u+fi(r));return r=r||"",new it(u,n,t,i,r,f)}function uu(){if(ni)return kt;switch(l.getCurrentPriority()){case l.HIGH:return p.high;case l.NORMAL:return p.normal;case l.IDLE:return p.idle}}function ti(n){return function(t,i){var r;return new s(function(u){r=or(function(){u(t)},n,null,i)},function(){r.cancel()})}}var wi,it,h,lt,ai,vi,yi;i.Namespace.define("WinJS.Utilities",{_linkedListMixin:ii});wi={get jobInfoIsNoLongerValid(){return"The job info object can only be used while the job is running"}};it=i.Class.define(function(n,t,i,r,u,f){this._id=n;this._work=t;this._context=r;this._name=u;this._asyncOpID=f;this._setPriority(i);this._setState(di);v(this,"job-scheduled","info")},{completed:{get:function(){return!!this._state.completed}},id:{get:function(){return this._id}},name:{get:function(){return this._name},set:function(n){this._name=n}},owner:{get:function(){return this._owner},set:function(n){this._owner&&this._owner._remove(this);this._owner=n;this._owner&&this._owner._add(this)}},priority:{get:function(){return this._priority},set:function(n){n=li(n);this._state.setPriority(this,n)}},cancel:function(){this._state.cancel(this)},pause:function(){this._state.pause(this)},resume:function(){this._state.resume(this)},_execute:function(n){this._state.execute(this,n)},_executeDone:function(n){return this._state.executeDone(this,n)},_blockedDone:function(n){return this._state.blockedDone(this,n)},_setPriority:function(n){+this._priority===this._priority&&this._priority!==n&&v(this,"job-priority-changed","info",w(this._priority).name,w(n).name);this._priority=n},_setState:function(n,t,i){this._state&&u.log&&u.log("Transitioning job ("+this.id+") from: "+this._state.name+" to: "+n.name,"winjs scheduler","log");this._state=n;this._state.enter(this,t,i)}});i.Class.mix(it,ii("Job"));var k={complete:1,"continue":2,block:3},bi=i.Class.define(function(n,t){this._job=t;this._result=null;this._yieldPolicy=k.complete;this._shouldYield=n},{job:{get:function(){return this._throwIfDisabled(),this._job}},shouldYield:{get:function(){return this._throwIfDisabled(),this._shouldYield()}},setPromise:function(n){this._throwIfDisabled();this._result=n;this._yieldPolicy=k.block},setWork:function(n){this._throwIfDisabled();this._result=n;this._yieldPolicy=k.continue},_disablePublicApi:function(){this._publicApiDisabled=!0},_throwIfDisabled:function(){if(this._publicApiDisabled)throw new r("WinJS.Utilities.Scheduler.JobInfoIsNoLongerValid",wi.jobInfoIsNoLongerValid);}}),ki=i.Class.define(function(){this._jobs={}},{cancelAll:function(){var t=this._jobs,i=Object.keys(t),n,r;for(this._jobs={},n=0,r=i.length;n<r;n++)t[i[n]].cancel()},_add:function(n){this._jobs[n.id]=n},_remove:function(n){delete this._jobs[n.id]}});var b=i.Class.define(function(n){this.name=n;this.enter=ft;this.execute=ft;this.executeDone=ft;this.blockedDone=ft;this.cancel=ft;this.pause=ft;this.resume=ft;this.setPriority=ft}),di=new b("created"),rt=new b("scheduled"),at=new b("paused"),d=new b("canceled"),vt=new b("running"),et=new b("running_paused"),yt=new b("running_resumed"),ut=new b("running_canceled"),gi=new b("running_canceled_blocked"),ri=new b("cooperative_yield"),ei=new b("cooperative_yield_paused"),oi=new b("blocked"),ot=new b("blocked_waiting"),nr=new b("blocked_paused"),st=new b("blocked_paused_waiting"),ht=new b("blocked_canceled"),nt=new b("complete");di.enter=function(n){ci(n,n.priority);n._setState(rt)};rt.enter=function(){pi()};rt.execute=g(vt);rt.cancel=g(d);rt.pause=g(at);rt.resume=c;rt.setPriority=function(n,t){n.priority!==t&&(n._setPriority(t),n.pause(),n.resume())};at.enter=function(n){v(n,"job-paused","info");n._removeJob()};at.cancel=g(d);at.pause=c;at.resume=function(n){v(n,"job-resumed","info");ci(n,n.priority);n._setState(rt)};at.setPriority=wt;d.enter=function(n){v(n,"job-canceled","info");e._traceAsyncOperationCompleted(n._asyncOpID,t.Debug&&t.Debug.MS_ASYNC_OP_STATUS_CANCELED);n._removeJob();n._work=null;n._context=null;n.owner=null};d.cancel=c;d.pause=c;d.resume=c;d.setPriority=c;vt.enter=function(n,t){var i,f;n._removeJob();var r=n.priority,o=n._work,u=n._context;n._work=null;n._context=null;i=new bi(t,n);e._traceAsyncCallbackStarting(n._asyncOpID);try{l.execAtPriority(function(){o.call(u,i)},gt(r))}finally{e._traceAsyncCallbackCompleted();i._disablePublicApi()}n._context=u;f=n._executeDone(i._yieldPolicy);n._setState(f,i._result,r)};vt.executeDone=function(n,t){switch(t){case k.complete:return nt;case k.continue:return ri;case k.block:return oi}};vt.cancel=function(n){ct=!0;n._setState(ut)};vt.pause=function(n){ct=!0;n._setState(et)};vt.resume=c;vt.setPriority=wt;et.enter=c;et.executeDone=function(n,t){switch(t){case k.complete:return nt;case k.continue:return ei;case k.block:return nr}};et.cancel=g(ut);et.pause=c;et.resume=g(yt);et.setPriority=wt;yt.enter=c;yt.executeDone=function(n,t){switch(t){case k.complete:return nt;case k.continue:return ri;case k.block:return oi}};yt.cancel=g(ut);yt.pause=g(et);yt.resume=c;yt.setPriority=wt;ut.enter=c;ut.executeDone=function(n,t){switch(t){case k.complete:case k.continue:return d;case k.block:return gi}};ut.cancel=c;ut.pause=c;ut.resume=c;ut.setPriority=c;gi.enter=function(n,t){t.cancel();n._setState(d)};ri.enter=function(n,t,i){v(n,"job-yielded","info");i===n.priority?gr(n,n.priority):ci(n,n.priority);n._work=t;n._setState(rt)};ei.enter=function(n,t){v(n,"job-yielded","info");n._work=t;n._setState(at)};oi.enter=function(n,t,i){v(n,"job-blocked","StartTM");n._work=t;n._setState(ot);t.done(function(t){v(n,"job-blocked","StopTM");var r=n._blockedDone(t);n._setState(r,t,i)},function(t){return t&&t.name==="Canceled"||v(n,"job-error","info"),v(n,"job-blocked","StopTM"),n._setState(d),s.wrapError(t)})};ot.enter=c;ot.blockedDone=function(n,t){return typeof t=="function"?ri:nt};ot.cancel=g(ht);ot.pause=g(st);ot.resume=c;ot.setPriority=wt;nr.enter=function(n,t,i){v(n,"job-blocked","StartTM");n._work=t;n._setState(st);t.done(function(t){v(n,"job-blocked","StopTM");var r=n._blockedDone(t);n._setState(r,t,i)},function(t){return t&&t.name==="Canceled"||v(n,"job-error","info"),v(n,"job-blocked","StopTM"),n._setState(d),s.wrapError(t)})};st.enter=c;st.blockedDone=function(n,t){return typeof t=="function"?ei:nt};st.cancel=g(ht);st.pause=c;st.resume=g(ot);st.setPriority=wt;ht.enter=function(n){n._work.cancel();n._work=null};ht.blockedDone=function(){return d};ht.cancel=c;ht.pause=c;ht.resume=c;ht.setPriority=c;nt.completed=!0;nt.enter=function(n){e._traceAsyncOperationCompleted(n._asyncOpID,t.Debug&&t.Debug.MS_ASYNC_OP_STATUS_SUCCESS);n._work=null;n._context=null;n.owner=null;v(n,"job-completed","info")};nt.cancel=c;nt.pause=c;nt.resume=c;nt.setPriority=c;h=i.Class.define(function(n,t){this.priority=n;this.name=t},{});i.Class.mix(h,ii("Job"),ii("Marker"));var sr=0,hr=0,cr=-15,tr=15,p={max:15,high:13,aboveNormal:9,normal:0,belowNormal:-9,idle:-13,min:-15},bt=[new h(15,"max"),new h(14,"14"),new h(13,"high"),new h(12,"12"),new h(11,"11"),new h(10,"10"),new h(9,"aboveNormal"),new h(8,"8"),new h(7,"7"),new h(6,"6"),new h(5,"5"),new h(4,"4"),new h(3,"3"),new h(2,"2"),new h(1,"1"),new h(0,"normal"),new h(-1,"-1"),new h(-2,"-2"),new h(-3,"-3"),new h(-4,"-4"),new h(-5,"-5"),new h(-6,"-6"),new h(-7,"-7"),new h(-8,"-8"),new h(-9,"belowNormal"),new h(-10,"-10"),new h(-11,"-11"),new h(-12,"-12"),new h(-13,"idle"),new h(-14,"-14"),new h(-15,"min"),new h(-16,"<TAIL>")];var ui=null,ni,kt,pt=null,dt=!!(t.MSApp&&t.MSApp.execAtPriority),y=[],ct,ir=30,a=p.min;bt.reduce(function(n,t){return n&&(n._insertJobAfter(t),n._insertMarkerAfter(t)),t});var br=t.setImmediate?t.setImmediate.bind(t):function(n){t.setTimeout(n,16)},hi={execAsyncAtPriority:function(n,i){i===l.HIGH&&t.setTimeout(n,0);br(n)},execAtPriority:function(n){return n()},getCurrentPriority:function(){return hi.NORMAL},isTaskScheduledAtPriorityOrHigher:function(){return!1},HIGH:"high",NORMAL:"normal",IDLE:"idle"},l=dt?t.MSApp:hi;lt={};lt[l.IDLE]=1;lt[l.NORMAL]=2;lt[l.HIGH]=3;ai=t.performance&&t.performance.now&&t.performance.now.bind(t.performance)||Date.now.bind(Date);vi=0;yi=0;i.Namespace._moduleDefine(n,"WinJS.Utilities.Scheduler",{Priority:p,schedule:or,createOwnerToken:ru,execHigh:iu,requestDrain:tu,currentPriority:{get:uu},schedulePromiseHigh:ti(p.high),schedulePromiseAboveNormal:ti(p.aboveNormal),schedulePromiseNormal:ti(p.normal),schedulePromiseBelowNormal:ti(p.belowNormal),schedulePromiseIdle:ti(p.idle),retrieveState:ar,_JobNode:it,_JobInfo:bi,_OwnerToken:ki,_dumpList:lr,_isEmpty:{get:vr},_usingWwaScheduler:{get:function(){return dt},set:function(n){dt=n;l=dt?t.MSApp:hi}},_MSApp:{get:function(){return l},set:function(n){l=n}},_TIME_SLICE:ir})}),t("WinJS/Core/_BaseUtils",["exports","./_Global","./_Base","./_BaseCoreUtils","./_ErrorFromName","./_Resources","./_Trace","../Promise","../Scheduler"],function(n,t,i,r,u,f,e,o,s){"use strict";function g(n){return n}function p(n,t,i){return n.split(".").reduce(function(n,t){return n?i(n[t]):null},t)}function nt(n,i){return n?p(n,i||t,g):null}function w(n){return n.length>0&&n.indexOf("-moz")!==0&&n.charAt(0)==="-"&&(n=n.slice(1)),n.replace(/\-[a-z]/g,function(n){return n[1].toUpperCase()})}function b(n,t){return n===""?t:n+t.charAt(0).toUpperCase()+t.slice(1)}function a(n,t){return(n!==""?"-"+n.toLowerCase()+"-":"")+t}function tt(){var r,c,n,l,u,v,f,o,y;if(!t.document)return{};var i={},p=t.document.documentElement.style,s=["","webkit","ms","Moz"],h=["animation","transition","transform","animation-name","animation-duration","animation-delay","animation-timing-function","animation-iteration-count","animation-direction","animation-fill-mode","grid-column","grid-columns","grid-column-span","grid-row","grid-rows","grid-row-span","transform-origin","transition-property","transition-duration","transition-delay","transition-timing-function","scroll-snap-points-x","scroll-snap-points-y","scroll-chaining","scroll-limit","scroll-limit-x-max","scroll-limit-x-min","scroll-limit-y-max","scroll-limit-y-min","scroll-snap-type","scroll-snap-x","scroll-snap-y","touch-action","overflow-style","user-select"],e={};for(r=0,c=h.length;r<c;r++)for(n=h[r],l=w(n),u=0,v=s.length;u<v;u++)if(f=s[u],o=b(f,l),o in p){y=a(f,n);i[n]={cssName:y,scriptName:o};e[n]=f;break}return i.animationPrefix=a(e.animation,""),i.keyframes=a(e.animation,"keyframes"),i}function it(){for(var i={},s=["","WebKit"],h=[{eventObject:"TransitionEvent",events:["transitionStart","transitionEnd"]},{eventObject:"AnimationEvent",events:["animationStart","animationEnd"]}],f,e,l,o,n,a,r,u=0,c=h.length;u<c;u++){for(f=h[u],e="",n=0,l=s.length;n<l;n++)if(o=s[n],o+f.eventObject in t){e=o.toLowerCase();break}for(n=0,a=f.events.length;n<a;n++)r=f.events[n],i[r]=b(e,r),e===""&&(i[r]=i[r].toLowerCase())}return i.manipulationStateChanged="MSManipulationEvent"in t?"ManipulationEvent":null,i}function rt(n,t){function e(){return o.timeout(n).then(function(){i=null})}var i=null,f=null,r=null,u=null;return function(){f?(r=this,u=[].slice.call(arguments,0)):i?(r=this,u=[].slice.call(arguments,0),f=i.then(function(){var o=r,n;r=null;n=u;u=null;i=e();f=null;t.apply(o,n)})):(i=e(),t.apply(this,arguments))}}var k={get notSupportedForProcessing(){return"Value is not supported within a declarative processing context, if you want it to be supported mark it using WinJS.Utilities.markSupportedForProcessing. The value was: '{0}'"}},c,d=0,h={},v=!1,l=t.navigator.platform,y=l==="iPhone"||l==="iPad"||l==="iPod";i.Namespace._moduleDefine(n,"WinJS.Utilities",{_setHasWinRT:{value:function(n){r.hasWinRT=n},configurable:!1,writable:!1,enumerable:!1},hasWinRT:{get:function(){return r.hasWinRT},configurable:!1,enumerable:!0},_setIsiOS:{value:function(n){y=n},configurable:!1,writable:!1,enumerable:!1},_isiOS:{get:function(){return y},configurable:!1,enumerable:!0},_getMemberFiltered:p,getMember:nt,_browserStyleEquivalents:tt(),_browserEventEquivalents:it(),_getCamelCasedName:w,ready:function ut(n,i){return new o(function(r,u){function f(){if(n)try{n();r()}catch(t){u(t)}else r()}var e=ut._testReadyState;e||(e=t.document?t.document.readyState:"complete");e==="complete"||t.document&&t.document.body!==null?i?s.schedule(function(){f()},s.Priority.normal,null,"WinJS.Utilities.ready"):f():t.addEventListener("DOMContentLoaded",f,!1)})},strictProcessing:{get:function(){return!0},configurable:!1,enumerable:!0},markSupportedForProcessing:{value:r.markSupportedForProcessing,configurable:!1,writable:!1,enumerable:!0},requireSupportedForProcessing:{value:function(n){var i=!0,r,e;i=i&&n!==t;i=i&&n!==t.location;i=i&&!(n instanceof t.HTMLIFrameElement);i=i&&!(typeof n=="function"&&!n.supportedForProcessing);switch(t.frames.length){case 0:break;case 1:i=i&&n!==t.frames[0];break;default:for(r=0,e=t.frames.length;i&&r<e;r++)i=i&&n!==t.frames[r]}if(i)return n;throw new u("WinJS.Utilities.requireSupportedForProcessing",f._formatString(k.notSupportedForProcessing,n));},configurable:!1,writable:!1,enumerable:!0},_setImmediate:r._setImmediate,_requestAnimationFrame:t.requestAnimationFrame?t.requestAnimationFrame.bind(t):function(n){var i=++d;return h[i]=n,c=c||t.setTimeout(function(){var n=h,t=Date.now();h={};c=null;Object.keys(n).forEach(function(i){n[i](t)})},16),i},_cancelAnimationFrame:t.cancelAnimationFrame?t.cancelAnimationFrame.bind(t):function(n){delete h[n]},_yieldForEvents:t.setImmediate?t.setImmediate.bind(t):function(n){t.setTimeout(n,0)},_yieldForDomModification:t.setImmediate?t.setImmediate.bind(t):function(n){t.setTimeout(n,0)},_throttledFunction:rt,_shallowCopy:function(n){return this._mergeAll([n])},_merge:function(n,t){return this._mergeAll([n,t])},_mergeAll:function(n){var t={};return n.forEach(function(n){Object.keys(n).forEach(function(i){t[i]=n[i]})}),t},_getProfilerMarkIdentifier:function(n){var t="";return n.id&&(t+=" id='"+n.id+"'"),n.className&&(t+=" class='"+n.className+"'"),t},_now:function(){return t.performance&&t.performance.now&&t.performance.now()||Date.now()},_traceAsyncOperationStarting:e._traceAsyncOperationStarting,_traceAsyncOperationCompleted:e._traceAsyncOperationCompleted,_traceAsyncCallbackStarting:e._traceAsyncCallbackStarting,_traceAsyncCallbackCompleted:e._traceAsyncCallbackCompleted,_version:"4.0.1"});i.Namespace._moduleDefine(n,"WinJS",{validation:{get:function(){return v},set:function(n){v=n}}});i.Namespace.define("WinJS",{strictProcessing:{value:function(){},configurable:!1,writable:!1,enumerable:!1}})}),t("WinJS/Core",["./Core/_Base","./Core/_BaseCoreUtils","./Core/_BaseUtils","./Core/_ErrorFromName","./Core/_Events","./Core/_Global","./Core/_Log","./Core/_Resources","./Core/_Trace","./Core/_WinRT","./Core/_WriteProfilerMark"],function(){}),t("WinJS/_Signal",["./Core/_Base","./Promise/_StateMachine"],function(n,t){"use strict";var r=n.Class.derive(t.PromiseStateMachine,function(n){this._oncancel=n;this._setState(t.state_created);this._run()},{_cancelAction:function(){this._oncancel&&this._oncancel()},_cleanupAction:function(){this._oncancel=null}},{supportedForProcessing:!1}),i=n.Class.define(function(n){this._promise=new r(n)},{promise:{get:function(){return this._promise}},cancel:function(){this._promise.cancel()},complete:function(n){this._promise._completed(n)},error:function(n){this._promise._error(n)},progress:function(n){this._promise._progress(n)}},{supportedForProcessing:!1});return n.Namespace.define("WinJS",{_Signal:i}),i}),t("WinJS/Utilities/_Control",["exports","../Core/_Global","../Core/_Base"],function(n,t,i){"use strict";function u(n,t){r(n,t)}function r(n,t,i){var e,u,h,r,f,o,s;if(typeof t=="object")for(e=Object.keys(t),u=0,h=e.length;u<h;u++){if(r=e[u],f=t[r],r.length>2&&(o=r[0],s=r[1],(o==="o"||o==="O")&&(s==="n"||s==="N")&&typeof f=="function"&&n.addEventListener)){n.addEventListener(r.substr(2),f);continue}i||(n[r]=f)}}t.document&&i.Namespace._moduleDefine(n,"WinJS.UI",{DOMEventMixin:i.Namespace._lazy(function(){return{_domElement:null,addEventListener:function(n,t,i){(this.element||this._domElement).addEventListener(n,t,i||!1)},dispatchEvent:function(n,i){var r=t.document.createEvent("Event");return r.initEvent(n,!1,!1),r.detail=i,typeof i=="object"&&Object.keys(i).forEach(function(n){r[n]=i[n]}),(this.element||this._domElement).dispatchEvent(r)},removeEventListener:function(n,t,i){(this.element||this._domElement).removeEventListener(n,t,i||!1)}}}),setOptions:u,_setOptions:r})}),t("WinJS/Utilities/_ElementUtilities",["exports","../Core/_Global","../Core/_Base","../Core/_BaseUtils","../Core/_WinRT","../Promise","../Scheduler"],function(n,t,i,r,u,f,e){"use strict";function a(n){for(var i=n.length,t=i-1;t>=0;t--)n[t]||(n.splice(t,1),i--);return i}function b(n){var t=n.className||"";return typeof t=="string"?t:t.baseVal||""}function v(n,t){var i=n.className||"";return typeof i=="string"?n.className=t:n.className.baseVal=t,n}function tt(n,t){var h,r,o,s,i;if(n.classList){if(t.indexOf(" ")<0)n.classList.add(t);else for(r=t.split(" "),a(r),i=0,h=r.length;i<h;i++)n.classList.add(r[i]);return n}var c=b(n),f=c.split(" "),e=a(f),u;if(t.indexOf(" ")>=0){for(r=t.split(" "),a(r),i=0;i<e;i++)o=r.indexOf(f[i]),o>=0&&r.splice(o,1);r.length>0&&(u=r.join(" "))}else{for(s=!1,i=0;i<e;i++)if(f[i]===t){s=!0;break}s||(u=t)}return u&&(e>0&&f[0].length>0?v(n,c+" "+u):v(n,u)),n}function it(n,t){var e,f,r,o,s,u,h,i;if(n.classList){if(n.classList.length===0)return n;for(r=t.split(" "),a(r),i=0,e=r.length;i<e;i++)n.classList.remove(r[i]);return n}if(f=b(n),t.indexOf(" ")>=0)r=t.split(" "),o=a(r);else{if(f.indexOf(t)<0)return n;r=[t];o=1}for(u=f.split(" "),h=a(u),i=h-1;i>=0;i--)r.indexOf(u[i])>=0&&(u.splice(i,1),s=!0);return s&&v(n,u.join(" ")),n}function ii(n,t){var r;if(n.classList)return n.classList.toggle(t),n;var u=b(n),i=u.trim().split(" "),f=i.length,e=!1;for(r=0;r<f;r++)i[r]===t&&(e=!0);return e?v(n,i.reduce(function(n,i){return i===t?n:n&&n.length>0?n+" "+i:i},"")):f>0&&i[0].length>0?v(n,u+" "+t):v(n,u+t),n}function ri(n,t,i){n.getAttribute(t)!==""+i&&n.setAttribute(t,i)}function rt(n,t,i,r){var u=Math.max(t,Math.min(i,+n));return u===0?0:u||Math.max(t,Math.min(i,r))}function wt(n,t){if(!yt.test(t)&&pt.test(t)){var i=n.style.left;return n.style.left=t,t=n.style.pixelLeft,n.style.left=i,t}return Math.round(parseFloat(t))||0}function o(n,i){return wt(n,t.getComputedStyle(n,null)[i])}function y(n){return parseFloat(n)||0}function s(n,i){return y(t.getComputedStyle(n,null)[i])}function ui(n){var i=t.getComputedStyle(n);return{top:y(i.marginTop),right:y(i.marginRight),bottom:y(i.marginBottom),left:y(i.marginLeft)}}function bt(n,t,i,r,u){var f=t.toLowerCase();n._eventsMap||(n._eventsMap={});n._eventsMap[f]||(n._eventsMap[f]=[]);n._eventsMap[f].push({listener:i,useCapture:r,data:u})}function ft(n,t,i,r){var o=t.toLowerCase(),f=n._eventsMap&&n._eventsMap[o],u,e;if(f)for(u=f.length-1;u>=0;u--)if(e=f[u],e.listener===i&&!!r==!!e.useCapture)return f.splice(u,1),e;return null}function oi(n,t){var i=t.toLowerCase();return n._eventsMap&&n._eventsMap[i]&&n._eventsMap[i].slice(0)||[]}function k(n,t,i){for(var u,r,f;n;){for(u=oi(n,t),r=0,f=u.length;r<f;r++)u[r].listener.call(n,i);n=n.parentNode}}function et(n){return(n.relatedTarget&&n.relatedTarget.tagName==="IFRAME"||n.target&&n.target.tagName==="IFRAME")&&(n.relatedTarget=null),n}function kt(n,t,i,r){if(r)throw"This custom WinJS event only supports bubbling";bt(n,t,i,r)}function si(n,t){var f=t.changedTouches,u=null,r,e;if(!f)return u;for(r=0,e=f.length;r<e;r++){var i=f[r],o=new d(t,{pointerType:ut.MSPOINTER_TYPE_TOUCH,pointerId:i.identifier,isPrimary:r===0,screenX:i.screenX,screenY:i.screenY,clientX:i.clientX,clientY:i.clientY,pageX:i.pageX,pageY:i.pageY,radiusX:i.radiusX,radiusY:i.radiusY,rotationAngle:i.rotationAngle,force:i.force,_currentTouch:i}),s=n(o);u=u||s}return u}function hi(n,t){return t.pointerType=ut.MSPOINTER_TYPE_MOUSE,t.pointerId=-1,t.isPrimary=!0,n(t)}function ci(n,t){return n(t)}function li(n,i,r,u){var e=i.toLowerCase(),s,h,c,f=g[e],o;t.MSPointerEvent?(c=function(n){return n._normalizedType=e,o=!0,ci(r,n)},n.addEventListener(f.mspointer,c,u)):(f.mouse&&(s=function(n){if(n._normalizedType=e,!o)return hi(r,n);o=!1},n.addEventListener(f.mouse,s,u)),f.touch&&(h=function(n){return n._normalizedType=e,o=!0,si(r,n)},n.addEventListener(f.touch,h,u)));bt(n,i,r,u,{mouseWrapper:s,touchWrapper:h,mspointerWrapper:c})}function ai(n,t,i,r){var e=t.toLowerCase(),u=ft(n,t,i,r),f;u&&(f=g[e],u.data.mouseWrapper&&n.removeEventListener(f.mouse,u.data.mouseWrapper,r),u.data.touchWrapper&&n.removeEventListener(f.touch,u.data.touchWrapper,r),u.data.mspointerWrapper&&n.removeEventListener(f.mspointer,u.data.mspointerWrapper,r))}function gt(){var n=t.document.createElement("div"),i;n.style.direction="rtl";n.innerHTML="<div style='width: 100px; height: 100px; overflow: scroll; visibility:hidden'><div style='width: 10000px; height: 100px;'><\/div><\/div>";t.document.body.appendChild(n);i=n.firstChild;i.scrollLeft>0&&(ct=!0);i.scrollLeft+=100;i.scrollLeft===0&&(dt=!0);t.document.body.removeChild(n);ht=!0}function lt(n){var r=t.getComputedStyle(n),i=n.scrollLeft;return r.direction==="rtl"&&(ht||gt(),ct&&(i=n.scrollWidth-n.clientWidth-i),i=Math.abs(i)),{scrollLeft:i,scrollTop:n.scrollTop}}function at(n,i,r){if(i!==undefined){var u=t.getComputedStyle(n);u.direction==="rtl"&&(ht||gt(),dt?i=-i:ct&&(i=n.scrollWidth-n.clientWidth-i));n.scrollLeft=i}r!==undefined&&(n.scrollTop=r)}function ni(n){return lt(n)}function wi(n,t){t=t||{};at(n,t.scrollLeft,t.scrollTop)}function ti(n){return n.uniqueID||n._uniqueID||(n._uniqueID="element__"+ ++di),n.uniqueID||n._uniqueID}function gi(n){n.id||(n.id=ti(n))}function nr(n){var i=t.document.documentElement,r=ni(i);return{left:n.clientX+(t.document.body.dir==="rtl"?-r.scrollLeft:r.scrollLeft),top:n.clientY+i.scrollTop}}function tr(n,t){for(var u=[],r,i=0,f=t.length;i<f;i++)r=n.querySelector("."+t[i]),r&&u.push(r);return u}var p,yt,pt,ot,c,d,g,h,l,vt,w;if(t.document){p=167;yt=/^-?\d+\.?\d*(px)?$/i;pt=/^-?\d+/i;var fi=t.MSGestureEvent||{MSGESTURE_FLAG_BEGIN:1,MSGESTURE_FLAG_CANCEL:4,MSGESTURE_FLAG_END:2,MSGESTURE_FLAG_INERTIA:8,MSGESTURE_FLAG_NONE:0},ei=t.MSManipulationEvent||{MS_MANIPULATION_STATE_ACTIVE:1,MS_MANIPULATION_STATE_CANCELLED:6,MS_MANIPULATION_STATE_COMMITTED:7,MS_MANIPULATION_STATE_DRAGGING:5,MS_MANIPULATION_STATE_INERTIA:2,MS_MANIPULATION_STATE_PRESELECT:3,MS_MANIPULATION_STATE_SELECTING:4,MS_MANIPULATION_STATE_STOPPED:0},ut=t.MSPointerEvent||{MSPOINTER_TYPE_TOUCH:"touch",MSPOINTER_TYPE_PEN:"pen",MSPOINTER_TYPE_MOUSE:"mouse"};ot="onfocusin"in t.document.documentElement;c=null;t.addEventListener(ot?"focusout":"blur",function(n){if(n.target===t){var i=c;i&&k(i,"focusout",et({type:"focusout",target:i,relatedTarget:null}));c=null}});t.document.documentElement.addEventListener(ot?"focusin":"focus",function(n){var t=c;c=n.target;t&&k(t,"focusout",et({type:"focusout",target:t,relatedTarget:c}));c&&k(c,"focusin",et({type:"focusin",target:c,relatedTarget:t}))},!0);d=function(n,t){t=t||{};this.__eventObject=n;var i=this;Object.keys(t).forEach(function(n){Object.defineProperty(i,n,{value:t[n]})})};["altKey","AT_TARGET","bubbles","BUBBLING_PHASE","button","buttons","cancelable","cancelBubble","CAPTURING_PHASE","clientX","clientY","ctrlKey","currentTarget","defaultPrevented","detail","eventPhase","fromElement","getModifierState","height","hwTimestamp","initEvent","initMouseEvent","initPointerEvent","initUIEvent","isPrimary","isTrusted","layerX","layerY","metaKey","offsetX","offsetY","pageX","pageY","pointerId","pointerType","pressure","preventDefault","relatedTarget","rotation","screenX","screenY","shiftKey","srcElement","stopImmediatePropagation","stopPropagation","target","tiltX","tiltY","timeStamp","toElement","type","view","which","width","x","y","_normalizedType","_fakedBySemanticZoom"].forEach(function(n){Object.defineProperty(d.prototype,n,{get:function(){var t=this.__eventObject[n];return typeof t=="function"?t.bind(this.__eventObject):t},configurable:!0})});g={pointerdown:{touch:"touchstart",mspointer:"MSPointerDown",mouse:"mousedown"},pointerup:{touch:"touchend",mspointer:"MSPointerUp",mouse:"mouseup"},pointermove:{touch:"touchmove",mspointer:"MSPointerMove",mouse:"mousemove"},pointerenter:{touch:"touchenter",mspointer:"MSPointerEnter",mouse:"mouseenter"},pointerover:{touch:null,mspointer:"MSPointerOver",mouse:"mouseover"},pointerout:{touch:"touchleave",mspointer:"MSPointerOut",mouse:"mouseout"},pointercancel:{touch:"touchcancel",mspointer:"MSPointerCancel",mouse:null}};h={focusout:{register:kt,unregister:ft},focusin:{register:kt,unregister:ft}};t.PointerEvent||(l={register:li,unregister:ai},h.pointerdown=l,h.pointerup=l,h.pointermove=l,h.pointerenter=l,h.pointerover=l,h.pointerout=l,h.pointercancel=l);var vi=i.Class.define(function(n){this._callback=n;this._toDispose=[];this._attributeFilter=[];this._scheduled=!1;this._pendingChanges=[];this._observerCount=0;this._handleCallback=this._handleCallback.bind(this);this._targetElements=[]},{observe:function(n,t){this._targetElements.indexOf(n)===-1&&this._targetElements.push(n);this._observerCount++;t.attributes&&this._addRemovableListener(n,"DOMAttrModified",this._handleCallback);t.attributeFilter&&(this._attributeFilter=t.attributeFilter)},disconnect:function(){this._observerCount=0;this._targetElements=[];this._toDispose.forEach(function(n){n()})},_addRemovableListener:function(n,t,i){n.addEventListener(t,i);this._toDispose.push(function(){n.removeEventListener(t,i)})},_handleCallback:function(n){var t,i;(n.stopPropagation(),t=n.attrName,this._attributeFilter.length&&this._attributeFilter.indexOf(t)===-1)||this._targetElements.indexOf(n.target)!==-1&&(i=t.indexOf("aria")>=0,t==="tabindex"&&(t="tabIndex"),this._pendingChanges.push({type:"attributes",target:n.target,attributeName:t}),this._observerCount!==1||i?this._scheduled===!1&&(this._scheduled=!0,r._setImmediate(this._dispatchEvent.bind(this))):this._dispatchEvent())},_dispatchEvent:function(){try{this._callback(this._pendingChanges)}finally{this._pendingChanges=[];this._scheduled=!1}}},{_isShim:!0}),yi=t.MutationObserver||vi,st=null,pi=i.Class.define(function(){t.addEventListener("resize",this._handleResize.bind(this))},{subscribe:function(n,t){n.addEventListener(this._resizeEvent,t);tt(n,this._resizeClass)},unsubscribe:function(n,t){it(n,this._resizeClass);n.removeEventListener(this._resizeEvent,t)},_handleResize:function(){for(var r=t.document.querySelectorAll("."+this._resizeClass),u=r.length,i,n=0;n<u;n++)i=t.document.createEvent("Event"),i.initEvent(this._resizeEvent,!1,!0),r[n].dispatchEvent(i)},_resizeClass:{get:function(){return"win-element-resize"}},_resizeEvent:{get:function(){return"WinJSElementResize"}}}),nt=i.Class.define(function(n,t,i){i=i||{};this.registerThruWinJSCustomEvents=!!i.registerThruWinJSCustomEvents;this.objectName=n;this.object=t;this.capture={};this.bubble={}},{addEventListener:function(t,i,r,u){i=i.toLowerCase();var e=this._getHandlers(u),f=e[i];f||(f=this._getListener(i,u),f.refCount=0,e[i]=f,this.registerThruWinJSCustomEvents?n._addEventListener(this.object,i,f,u):this.object.addEventListener(i,f,u));f.refCount++;t.addEventListener(this._getEventName(i,u),r);tt(t,this._getClassName(i,u))},removeEventListener:function(t,i,r,u){i=i.toLowerCase();var e=this._getHandlers(u),f=e[i];f&&(f.refCount--,f.refCount===0&&(this.registerThruWinJSCustomEvents?n._removeEventListener(this.object,i,f,u):this.object.removeEventListener(i,f,u),delete e[i]));it(t,this._getClassName(i,u));t.removeEventListener(this._getEventName(i,u),r)},_getHandlers:function(n){return n?this.capture:this.bubble},_getClassName:function(n,t){var i=t?"capture":"bubble";return"win-"+this.objectName.toLowerCase()+"-event-"+n+i},_getEventName:function(n,t){var i=t?"capture":"bubble";return"WinJS"+this.objectName+"Event-"+n+i},_getListener:function(n,i){var r=function(r){for(var o=t.document.querySelectorAll("."+this._getClassName(n,i)),h=o.length,e=!1,f,s,u=0;u<h;u++)f=t.document.createEvent("Event"),f.initEvent(this._getEventName(n,i),!1,!0),f.detail={originalEvent:r},s=o[u].dispatchEvent(f),e=e||!s;return e};return r.bind(this)}}),ht=!1,ct=!1,dt=!1;var bi=t.navigator.msManipulationViewsEnabled||t.navigator.userAgent.indexOf("MSAppHost")>=0,ki=!!(t.MSPointerEvent||t.TouchEvent),di=0;vt=".win-selectionborder, .win-selectionbackground, .win-selectioncheckmark, .win-selectioncheckmarkbackground";w="_msDataKey";i.Namespace._moduleDefine(n,"WinJS.Utilities",{_dataKey:w,_supportsSnapPoints:{get:function(){return bi}},_supportsTouchDetection:{get:function(){return ki}},_uniqueID:ti,_ensureId:gi,_clamp:rt,_getCursorPos:nr,_getElementsByClasses:tr,_createGestureRecognizer:function(){if(t.MSGesture)return new t.MSGesture;var n=function(){};return{addEventListener:n,removeEventListener:n,addPointer:n,stop:n}},_MSGestureEvent:fi,_MSManipulationEvent:ei,_elementsFromPoint:function(n,i){if(t.document.msElementsFromPoint)return t.document.msElementsFromPoint(n,i);var r=t.document.elementFromPoint(n,i);return r?[r]:null},_matchesSelector:function(n,t){var i=n.matches||n.msMatchesSelector||n.mozMatchesSelector||n.webkitMatchesSelector;return i.call(n,t)},_selectionPartsSelector:vt,_isSelectionRendered:function(n){return n.querySelectorAll(vt).length>0},_addEventListener:function(n,t,i,u){var o=t&&t.toLowerCase(),f=h[o],e=r._browserEventEquivalents[t];f?f.register(n,t,i,u):e?n.addEventListener(e,i,u):n.addEventListener(t,i,u)},_removeEventListener:function(n,t,i,u){var o=t&&t.toLowerCase(),f=h[o],e=r._browserEventEquivalents[t];f?f.unregister(n,t,i,u):e?n.removeEventListener(e,i,u):n.removeEventListener(t,i,u)},_initEventImpl:function(n,t,i){i=i.toLowerCase();var r=g[i];if(r)switch(n.toLowerCase()){case"pointer":arguments[2]=r.mspointer;break;default:arguments[2]=r[n.toLowerCase()]}t["init"+n+"Event"].apply(t,Array.prototype.slice.call(arguments,2))},_initMouseEvent:function(n){this._initEventImpl.apply(this,["Mouse",n].concat(Array.prototype.slice.call(arguments,1)))},_initPointerEvent:function(n){this._initEventImpl.apply(this,["Pointer",n].concat(Array.prototype.slice.call(arguments,1)))},_PointerEventProxy:d,_bubbleEvent:k,_setPointerCapture:function(n,t){n.setPointerCapture&&n.setPointerCapture(t)},_releasePointerCapture:function(n,t){n.releasePointerCapture&&n.releasePointerCapture(t)},_MSPointerEvent:ut,_zoomToDuration:p,_zoomTo:function(n,i){this._supportsSnapPoints&&n.msZoomTo?n.msZoomTo(i):e.schedule(function(){var u=lt(n),s=typeof n._zoomToDestX=="number"?n._zoomToDestX:u.scrollLeft,h=typeof n._zoomToDestY=="number"?n._zoomToDestY:u.scrollTop,f=t.getComputedStyle(n),l=n.scrollWidth-parseInt(f.width,10)-parseInt(f.paddingLeft,10)-parseInt(f.paddingRight,10),a=n.scrollHeight-parseInt(f.height,10)-parseInt(f.paddingTop,10)-parseInt(f.paddingBottom,10),e,o;if(typeof i.contentX!="number"&&(i.contentX=s),typeof i.contentY!="number"&&(i.contentY=h),e=rt(i.contentX,0,l),o=rt(i.contentY,0,a),e!==s||o!==h){n._zoomToId=n._zoomToId||0;n._zoomToId++;n._zoomToDestX=e;n._zoomToDestY=o;var v=n._zoomToId,y=r._now(),w=(n._zoomToDestX-u.scrollLeft)/p,b=(n._zoomToDestY-u.scrollTop)/p,c=function(){var t=r._now()-y;n._zoomToId===v&&(t>p?(at(n,n._zoomToDestX,n._zoomToDestY),n._zoomToDestX=null,n._zoomToDestY=null):(at(n,u.scrollLeft+t*w,u.scrollTop+t*b),r._requestAnimationFrame(c)))};r._requestAnimationFrame(c)}},e.Priority.high,null,"WinJS.Utilities._zoomTo")},_setActive:function(n,i){var r=!0,u,f;try{t.HTMLElement&&t.HTMLElement.prototype.setActive?n.setActive():(i&&(u=i.scrollLeft,f=i.scrollTop),n.focus(),i&&(i.scrollLeft=u,i.scrollTop=f))}catch(e){r=!1}return r},_MutationObserver:yi,_resizeNotifier:{get:function(){return st||(st=new pi),st}},_GenericListener:nt,_globalListener:new nt("Global",t,{registerThruWinJSCustomEvents:!0}),_documentElementListener:new nt("DocumentElement",t.document.documentElement,{registerThruWinJSCustomEvents:!0}),_inputPaneListener:u.Windows.UI.ViewManagement.InputPane?new nt("InputPane",u.Windows.UI.ViewManagement.InputPane.getForCurrentView()):{addEventListener:function(){},removeEventListener:function(){}},_addInsertedNotifier:function(i){var u=t.document.createElement("div");return u.style[r._browserStyleEquivalents["animation-name"].scriptName]="WinJS-node-inserted",u.style[r._browserStyleEquivalents["animation-duration"].scriptName]="0.01s",u.style.position="absolute",i.appendChild(u),n._addEventListener(u,"animationStart",function(n){if(n.animationName==="WinJS-node-inserted"){var n=t.document.createEvent("Event");n.initEvent("WinJSNodeInserted",!1,!0);i.dispatchEvent(n)}},!1),u},_inDom:function(i){return new f(function(r){if(t.document.body.contains(i))r();else{var u=function(){i.removeEventListener("WinJSNodeInserted",u,!1);r()};n._addInsertedNotifier(i);i.addEventListener("WinJSNodeInserted",u,!1)}})},_setFlexStyle:function(n,t){var i=n.style;typeof t.grow!="undefined"&&(i.msFlexPositive=t.grow,i.webkitFlexGrow=t.grow,i.flexGrow=t.grow);typeof t.shrink!="undefined"&&(i.msFlexNegative=t.shrink,i.webkitFlexShrink=t.shrink,i.flexShrink=t.shrink);typeof t.basis!="undefined"&&(i.msFlexPreferredSize=t.basis,i.webkitFlexBasis=t.basis,i.flexBasis=t.basis)},Key:{backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,pause:19,capsLock:20,escape:27,space:32,pageUp:33,pageDown:34,end:35,home:36,leftArrow:37,upArrow:38,rightArrow:39,downArrow:40,insert:45,deleteKey:46,num0:48,num1:49,num2:50,num3:51,num4:52,num5:53,num6:54,num7:55,num8:56,num9:57,a:65,b:66,c:67,d:68,e:69,f:70,g:71,h:72,i:73,j:74,k:75,l:76,m:77,n:78,o:79,p:80,q:81,r:82,s:83,t:84,u:85,v:86,w:87,x:88,y:89,z:90,leftWindows:91,rightWindows:92,menu:93,numPad0:96,numPad1:97,numPad2:98,numPad3:99,numPad4:100,numPad5:101,numPad6:102,numPad7:103,numPad8:104,numPad9:105,multiply:106,add:107,subtract:109,decimalPoint:110,divide:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NavigationView:136,NavigationMenu:137,NavigationUp:138,NavigationDown:139,NavigationLeft:140,NavigationRight:141,NavigationAccept:142,NavigationCancel:143,numLock:144,scrollLock:145,browserBack:166,browserForward:167,semicolon:186,equal:187,comma:188,dash:189,period:190,forwardSlash:191,graveAccent:192,GamepadA:195,GamepadB:196,GamepadX:197,GamepadY:198,GamepadRightShoulder:199,GamepadLeftShoulder:200,GamepadLeftTrigger:201,GamepadRightTrigger:202,GamepadDPadUp:203,GamepadDPadDown:204,GamepadDPadLeft:205,GamepadDPadRight:206,GamepadMenu:207,GamepadView:208,GamepadLeftThumbstick:209,GamepadRightThumbstick:210,GamepadLeftThumbstickUp:211,GamepadLeftThumbstickDown:212,GamepadLeftThumbstickRight:213,GamepadLeftThumbstickLeft:214,GamepadRightThumbstickUp:215,GamepadRightThumbstickDown:216,GamepadRightThumbstickRight:217,GamepadRightThumbstickLeft:218,openBracket:219,backSlash:220,closeBracket:221,singleQuote:222,IME:229},data:function(n){return n[w]||(n[w]={}),n[w]},hasClass:function(n,t){var i;if(n.classList)return n.classList.contains(t);var u=b(n),r=u.trim().split(" "),f=r.length;for(i=0;i<f;i++)if(r[i]===t)return!0;return!1},addClass:tt,removeClass:it,toggleClass:ii,_setAttribute:ri,getRelativeLeft:function(n,t){if(!n)return 0;for(var r=n.offsetLeft,i=n.parentNode;i;){if(r-=i.offsetLeft,i===t)break;i=i.parentNode}return r},getRelativeTop:function(n,t){if(!n)return 0;for(var r=n.offsetTop,i=n.parentNode;i;){if(r-=i.offsetTop,i===t)break;i=i.parentNode}return r},getScrollPosition:ni,setScrollPosition:wi,empty:function(n){if(n.childNodes&&n.childNodes.length>0)for(var t=n.childNodes.length-1;t>=0;t--)n.removeChild(n.childNodes.item(t));return n},_isDOMElement:function(n){return n&&typeof n=="object"&&typeof n.tagName=="string"},getContentWidth:function(n){var t=o(n,"borderLeftWidth")+o(n,"borderRightWidth"),i=o(n,"paddingLeft")+o(n,"paddingRight");return n.offsetWidth-t-i},_getPreciseContentWidth:function(n){var t=s(n,"borderLeftWidth")+s(n,"borderRightWidth"),i=s(n,"paddingLeft")+s(n,"paddingRight");return n.offsetWidth-t-i},getTotalWidth:function(n){var t=o(n,"marginLeft")+o(n,"marginRight");return n.offsetWidth+t},_getPreciseTotalWidth:function(n){var t=s(n,"marginLeft")+s(n,"marginRight");return n.offsetWidth+t},getContentHeight:function(n){var t=o(n,"borderTopWidth")+o(n,"borderBottomWidth"),i=o(n,"paddingTop")+o(n,"paddingBottom");return n.offsetHeight-t-i},_getPreciseContentHeight:function(n){var t=s(n,"borderTopWidth")+s(n,"borderBottomWidth"),i=s(n,"paddingTop")+s(n,"paddingBottom");return n.offsetHeight-t-i},getTotalHeight:function(n){var t=o(n,"marginTop")+o(n,"marginBottom");return n.offsetHeight+t},_getPreciseTotalHeight:function(n){var t=s(n,"marginTop")+s(n,"marginBottom");return n.offsetHeight+t},getPosition:function(t){return n._getPositionRelativeTo(t,null)},getTabIndex:function(n){var i,t;return n.disabled?-1:(i=n.getAttribute("tabindex"),i===null||i===undefined)?(t=n.tagName,/BUTTON|COMMAND|MENUITEM|OBJECT|SELECT|TEXTAREA/.test(t)||n.href&&(t==="A"||t==="AREA"||t==="LINK")||t==="INPUT"&&n.type!=="hidden"||t==="TH"&&n.sorted)?0:-1:parseInt(i,10)},convertToPixels:wt,_convertToPrecisePixels:y,_getPreciseMargins:ui,eventWithinElement:function(n,t){var i=t.relatedTarget;return i&&i!==n?n.contains(i):!1},_deprecated:function(n){t.console&&t.console.warn(n)},_syncRenderer:function(n,i){if(i=i||"div",typeof n=="function")return function(t,i){return i?(i.appendChild(n(t)),i):n(t)};var r;return typeof n.render=="function"?r=n:n.winControl&&typeof n.winControl.render=="function"&&(r=n.winControl),function(n,u){var e=u||t.document.createElement(i),f,o;return r.render(n,e),u?u:(f=e.firstElementChild,f&&e.dispose&&(o=f.dispose,f.dispose=function(){f.dispose=o;e.appendChild(f);e.dispose()}),f)}},_getPositionRelativeTo:function(n,i){for(var f=n,e=n.offsetParent,r=n.offsetTop,u=n.offsetLeft,o;(n=n.parentNode)&&n!==i&&n!==t.document.body&&n!==t.document.documentElement;)r-=n.scrollTop,o=t.document.defaultView.getComputedStyle(n,null).direction,u-=o!=="rtl"?n.scrollLeft:-lt(n).scrollLeft,n===e&&(r+=n.offsetTop,u+=n.offsetLeft,e=n.offsetParent);return{left:u,top:r,width:f.offsetWidth,height:f.offsetHeight}},_getHighAndLowTabIndices:function(n){for(var e=n.getElementsByTagName("*"),i=0,r=0,o=!1,f,t,u=0,s=e.length;u<s;u++)f=e[u].getAttribute("tabIndex"),f!==null&&f!==undefined&&(t=parseInt(f,10),t>0&&(t<i||i===0)&&(i=t),o||(t===0?(o=!0,r=0):t>r&&(r=t)));return{highest:r,lowest:i}},_getLowestTabIndexInList:function(n){for(var t=0,i,r=0;r<n.length;r++)i=parseInt(n[r].getAttribute("tabIndex"),10),0<i&&(i<t||!t)&&(t=i);return t},_getHighestTabIndexInList:function(n){for(var r=0,t,i=0;i<n.length;i++){if(t=parseInt(n[i].getAttribute("tabIndex"),10),t===0)return t;r<t&&(r=t)}return r},_hasCursorKeysBehaviors:function(n){return n.tagName==="SELECT"||n.tagName==="TEXTAREA"?!0:n.tagName==="INPUT"?n.type===""||n.type==="date"||n.type==="datetime"||n.type==="datetime-local"||n.type==="email"||n.type==="month"||n.type==="number"||n.type==="password"||n.type==="range"||n.type==="search"||n.type==="tel"||n.type==="text"||n.type==="time"||n.type==="url"||n.type==="week":!1},_reparentChildren:function(n,t){for(var i=n.firstChild,r;i;)r=i.nextSibling,t.appendChild(i),i=r},_maintainFocus:function(i){var r=t.document.activeElement;i();n._trySetActiveOnAnyElement(r)},_trySetActiveOnAnyElement:function(t,i){return n._tryFocusOnAnyElement(t,!0,i)},_tryFocusOnAnyElement:function(i,r,u){var f=t.document.activeElement;return i===f?!0:(r?n._setActive(i,u):i.focus(),f!==t.document.activeElement)},_trySetActive:function(n,t){return this._tryFocus(n,!0,t)},_tryFocus:function(i,r,u){var f=t.document.activeElement,e;return i===f?!0:(e=n.getTabIndex(i)>=0,!e)?!1:(r?n._setActive(i,u):i.focus(),f!==t.document.activeElement)?!0:!1},_setActiveFirstFocusableElement:function(n,t){return this._focusFirstFocusableElement(n,!0,t)},_focusFirstFocusableElement:function(n,t,i){for(var u=n.getElementsByTagName("*"),e=this._getLowestTabIndexInList(u),f=0,r;e;){for(r=0;r<u.length;r++)if(u[r].tabIndex===e){if(this._tryFocus(u[r],t,i))return!0}else e<u[r].tabIndex&&(u[r].tabIndex<f||f===0)&&(f=u[r].tabIndex);e=f;f=0}for(r=0;r<u.length;r++)if(this._tryFocus(u[r],t,i))return!0;return!1},_setActiveLastFocusableElement:function(n,t){return this._focusLastFocusableElement(n,!0,t)},_focusLastFocusableElement:function(n,t,i){var u=n.getElementsByTagName("*"),e=this._getHighestTabIndexInList(u),f=0,r;if(e===0){for(r=u.length-1;r>=0;r--)if(u[r].tabIndex===e){if(this._tryFocus(u[r],t,i))return!0}else f<u[r].tabIndex&&(f=u[r].tabIndex);e=f;f=0}while(e){for(r=u.length-1;r>=0;r--)if(u[r].tabIndex===e){if(this._tryFocus(u[r],t,i))return!0}else f<u[r].tabIndex&&u[r].tabIndex<e&&(f=u[r].tabIndex);e=f;f=0}for(r=u.length-2;r>0;r--)if(this._tryFocus(u[r],t,i))return!0;return!1}})}}),t("WinJS/Utilities/_Dispose",["exports","../Core/_Base","../Core/_WriteProfilerMark","./_ElementUtilities"],function(n,t,i,r){"use strict";function f(n,t){var i=!1,f;r.addClass(n,"win-disposable");f=n.winControl||n;f.dispose=function(){i||(i=!0,u(n),t&&t())}}function u(n){var t;if(n){i("WinJS.Utilities.disposeSubTree,StartTM");for(var u=n.querySelectorAll(".win-disposable"),r=0,f=u.length;r<f;)t=u[r],t.winControl&&t.winControl.dispose&&t.winControl.dispose(),t.dispose&&t.dispose(),r+=t.querySelectorAll(".win-disposable").length+1;i("WinJS.Utilities.disposeSubTree,StopTM")}}function e(n){if(n){var t=!1;n.winControl&&n.winControl.dispose&&(n.winControl.dispose(),t=!0);n.dispose&&(n.dispose(),t=!0);t||u(n)}}t.Namespace._moduleDefine(n,"WinJS.Utilities",{markDisposable:f,disposeSubTree:u,_disposeElement:e})}),t("WinJS/ControlProcessor/_OptionsLexer",["exports","../Core/_Base"],function(n,t){"use strict";t.Namespace._moduleDefine(n,"WinJS.UI",{_optionsLexer:t.Namespace._lazy(function(){function i(t){return{type:n.reservedWord,value:t,length:t.length,keyword:!0}}function u(n){switch(n.charCodeAt(0)){case 98:switch(n){case"break":return i(n)}break;case 99:switch(n){case"case":case"catch":case"class":case"const":case"continue":return i(n)}break;case 100:switch(n){case"debugger":case"default":case"delete":case"do":return i(n)}break;case 101:switch(n){case"else":case"enum":case"export":case"extends":return i(n)}break;case 102:switch(n){case"false":return t.falseLiteral;case"finally":case"for":case"function":return i(n)}break;case 105:switch(n){case"if":case"import":case"in":case"instanceof":return i(n)}break;case 110:switch(n){case"null":return t.nullLiteral;case"new":return i(n)}break;case 114:switch(n){case"return":return i(n)}break;case 115:switch(n){case"super":case"switch":return i(n)}break;case 116:switch(n){case"true":return t.trueLiteral;case"this":return t.thisKeyword;case"throw":case"try":case"typeof":return i(n)}break;case 118:switch(n){case"var":case"void":return i(n)}break;case 119:switch(n){case"while":case"with":return i(n)}}return}var n={leftBrace:1,rightBrace:2,leftBracket:3,rightBracket:4,separator:5,colon:6,semicolon:7,comma:8,dot:9,nullLiteral:10,trueLiteral:11,falseLiteral:12,numberLiteral:13,stringLiteral:14,identifier:15,reservedWord:16,thisKeyword:17,leftParentheses:18,rightParentheses:19,eof:20,error:21},t={leftBrace:{type:n.leftBrace,length:1},rightBrace:{type:n.rightBrace,length:1},leftBracket:{type:n.leftBracket,length:1},rightBracket:{type:n.rightBracket,length:1},colon:{type:n.colon,length:1},semicolon:{type:n.semicolon,length:1},comma:{type:n.comma,length:1},dot:{type:n.dot,length:1},nullLiteral:{type:n.nullLiteral,length:4,value:null,keyword:!0},trueLiteral:{type:n.trueLiteral,length:4,value:!0,keyword:!0},falseLiteral:{type:n.falseLiteral,length:5,value:!1,keyword:!0},thisKeyword:{type:n.thisKeyword,length:4,value:"this",keyword:!0},leftParentheses:{type:n.leftParentheses,length:1},rightParentheses:{type:n.rightParentheses,length:1},eof:{type:n.eof,length:0}},r=function(){function h(n,t,r,u){switch(n){case n>=97&&n<=122&&n:case n>=65&&n<=90&&n:case 36:case 95:return!0;case s(n)&&n:case e(n)&&n:return!1;case n>127&&n:return!0;case 92:return r+4<u&&t.charCodeAt(r)===117&&i(t.charCodeAt(r+1))&&i(t.charCodeAt(r+2))&&i(t.charCodeAt(r+3))&&i(t.charCodeAt(r+4))?!0:!1;default:return!1}}function c(n,t,r){for(var f=!1,u;t<r;){u=n.charCodeAt(t);switch(u){case u>=97&&u<=122&&u:case u>=65&&u<=90&&u:case 36:case 95:break;case s(u)&&u:case e(u)&&u:return f?-t:t;case u>127&&u:break;case u>=48&&u<=57&&u:break;case 92:if(t+5<r&&n.charCodeAt(t+1)===117&&i(n.charCodeAt(t+2))&&i(n.charCodeAt(t+3))&&i(n.charCodeAt(t+4))&&i(n.charCodeAt(t+5))){t+=5;f=!0;break}return f?-t:t;default:return f?-t:t}t++}return f?-t:t}function l(t,i,r){var e=i,o,f,s;return(i=c(t,i,r),o=!1,i<0&&(i=-i,o=!0),f=t.substr(e,i-e),o&&(f=""+JSON.parse('"'+f+'"')),s=u(f),s)?s:{type:n.identifier,length:i-e,value:f}}function i(n){switch(n){case n>=48&&n<=57&&n:case n>=97&&n<=102&&n:case n>=65&&n<=70&&n:return!0;default:return!1}}function a(n,t,r){while(t<r&&i(n.charCodeAt(t)))t++;return t}function r(n){switch(n){case n>=48&&n<=57&&n:return!0;default:return!1}}function o(n,t,i){while(t<i&&r(n.charCodeAt(t)))t++;return t}function v(n,t,i){var u,f;return t=o(n,t,i),t<i&&n.charCodeAt(t)===46&&t+1<i&&r(n.charCodeAt(t+1))&&(t=o(n,t+2,i)),t<i&&(u=n.charCodeAt(t),(u===101||u===69)&&(f=t+1,f<i&&(u=n.charCodeAt(f),(u===43||u===45)&&f++,t=o(n,f,i)))),t}function f(t,i,r,u){var r=v(t,r,u),f=r-i;return{type:n.numberLiteral,length:f,value:+t.substr(i,f)}}function e(n){switch(n){case 10:case 13:case 8232:case 8233:return!0;default:return!1}}function y(t,i,r){var o=i,s=t.charCodeAt(i),f=!1,u,h;for(i++;i<r&&!e(t.charCodeAt(i));){if(i+1<r&&t.charCodeAt(i)===92){f=!0;switch(t.charCodeAt(i+1)){case s:case 92:case 10:case 8232:case 8233:i+=2;continue;case 13:i+=i+2<r&&t.charCodeAt(i+2)===10?3:2;continue}}if(i++,t.charCodeAt(i-1)===s)break}return u=i-o,f=f||u===1||t.charCodeAt(i-1)!==s,h=f?eval(t.substr(o,u)):t.substr(o+1,u-2),{type:n.stringLiteral,length:u,value:h}}function s(n){switch(n){case 9:case 11:case 12:case 32:case 160:case 65279:return!0;case n<5760&&n:return!1;case 5760:case 6158:case n>=8192&&n<=8202&&n:case 8239:case 8287:case 12288:return!0;default:return!1}}function p(n,t,i){while(t<i){var r=n.charCodeAt(t);switch(r){case 9:case 11:case 12:case 32:case 160:case 65279:break;case r<5760&&r:return t;case 5760:case 6158:case r>=8192&&r<=8202&&r:case 8239:case 8287:case 12288:break;default:return t}t++}return t}function w(i,u,o,c){for(var w,b,v,d,k,g,nt;o<c;){w=o;b=u.charCodeAt(o++);switch(b){case s(b)&&b:case e(b)&&b:o=p(u,o,c);v={type:n.separator,length:o-w};continue;case 34:case 39:v=y(u,o-1,c);break;case 40:v=t.leftParentheses;break;case 41:v=t.rightParentheses;break;case 43:case 45:if(o<c)if(d=u.charCodeAt(o),d===46){if(k=o+1,k<c&&r(u.charCodeAt(k))){v=f(u,w,k,c);break}}else if(r(d)){v=f(u,w,o,c);break}v={type:n.error,length:o-w,value:u.substring(w,o)};break;case 44:v=t.comma;break;case 46:v=t.dot;o<c&&r(u.charCodeAt(o))&&(v=f(u,w,o,c));break;case 48:g=o<c?u.charCodeAt(o):0;g===120||g===88?(nt=a(u,o+1,c),v={type:n.numberLiteral,length:nt-w,value:+u.substr(w,nt-w)}):v=f(u,w,o,c);break;case b>=49&&b<=57&&b:v=f(u,w,o,c);break;case 58:v=t.colon;break;case 59:v=t.semicolon;break;case 91:v=t.leftBracket;break;case 93:v=t.rightBracket;break;case 123:v=t.leftBrace;break;case 125:v=t.rightBrace;break;default:if(h(b,u,o,c)){v=l(u,o-1,c);break}v={type:n.error,length:o-w,value:u.substring(w,o)}}o+=v.length-1;i.push(v)}}return function(n){var i=[];return w(i,n,0,n.length),i.push(t.eof),i}}();return r.tokenType=n,r})})}),t("WinJS/ControlProcessor/_OptionsParser",["exports","../Core/_Base","../Core/_BaseUtils","../Core/_ErrorFromName","../Core/_Resources","./_OptionsLexer"],function(n,t,i,r,u,f){"use strict";function s(){throw"Illegal";}function v(n){for(var i=Object.keys(e.tokenType),t=0,r=i.length;t<r;t++)if(n===e.tokenType[i[t]])return i[t];return"<unknown>"}var c={get invalidOptionsRecord(){return"Invalid options record: '{0}', expected to be in the format of an object literal. {1}"},get unexpectedTokenExpectedToken(){return"Unexpected token: {0}, expected token: {1}, at offset {2}"},get unexpectedTokenExpectedTokens(){return"Unexpected token: {0}, expected one of: {1}, at offset {2}"},get unexpectedTokenGeneric(){return"Unexpected token: {0}, at offset {1}"}},e=t.Namespace.defineWithParent(null,null,{lexer:t.Namespace._lazy(function(){return f._optionsLexer}),tokenType:t.Namespace._lazy(function(){return f._optionsLexer.tokenType})}),a=i.requireSupportedForProcessing,o=t.Namespace.defineWithParent(null,null,{BaseInterpreter:t.Namespace._lazy(function(){return t.Class.define(null,{_error:function(n){throw new r("WinJS.UI.ParseError",n);},_currentOffset:function(){for(var i=this._pos,t=0,n=0;n<i;n++)t+=this._tokens[n].length;return t},_evaluateAccessExpression:function(n){var t,i;switch(this._current.type){case e.tokenType.dot:this._read();switch(this._current.type){case e.tokenType.identifier:case this._current.keyword&&this._current.type:return t=this._current.value,this._read(),n[t];default:this._unexpectedToken(e.tokenType.identifier,e.tokenType.reservedWord)}return;case e.tokenType.leftBracket:return this._read(),i=this._evaluateValue(),this._read(e.tokenType.rightBracket),n[i]}},_evaluateAccessExpressions:function(n){for(;;)switch(this._current.type){case e.tokenType.dot:case e.tokenType.leftBracket:n=this._evaluateAccessExpression(n);break;default:return n}},_evaluateIdentifier:function(n,t){var i=this._readIdentifier();return n?t[i]:this._context[i]},_evaluateIdentifierExpression:function(){var n=this._evaluateIdentifier(!1);switch(this._current.type){case e.tokenType.dot:case e.tokenType.leftBracket:return this._evaluateAccessExpressions(n);default:return n}},_initialize:function(n,t,i,r){this._originalSource=t;this._tokens=n;this._context=i;this._functionContext=r;this._pos=0;this._current=this._tokens[0]},_read:function(n){n&&this._current.type!==n&&this._unexpectedToken(n);this._current!==e.tokenType.eof&&(this._current=this._tokens[++this._pos])},_peek:function(n){if(!n||this._current.type===n)return this._current!==e.tokenType.eof?this._tokens[this._pos+1]:void 0},_readAccessExpression:function(n){switch(this._current.type){case e.tokenType.dot:this._read();switch(this._current.type){case e.tokenType.identifier:case this._current.keyword&&this._current.type:n.push(this._current.value);this._read();break;default:this._unexpectedToken(e.tokenType.identifier,e.tokenType.reservedWord)}return;case e.tokenType.leftBracket:this._read();n.push(this._evaluateValue());this._read(e.tokenType.rightBracket);return}},_readAccessExpressions:function(n){for(;;)switch(this._current.type){case e.tokenType.dot:case e.tokenType.leftBracket:this._readAccessExpression(n);break;default:return}},_readIdentifier:function(){var n=this._current.value;return this._read(e.tokenType.identifier),n},_readIdentifierExpression:function(){var n=[];this._peek(e.tokenType.thisKeyword)&&n.length===0?this._read():n.push(this._readIdentifier());switch(this._current.type){case e.tokenType.dot:case e.tokenType.leftBracket:this._readAccessExpressions(n)}return n},_unexpectedToken:function(n){var i=this._current.type===e.tokenType.error?"'"+this._current.value+"'":v(this._current.type),r,t,f;if(n)if(arguments.length===1)n=v(n),this._error(u._formatString(c.unexpectedTokenExpectedToken,i,n,this._currentOffset()));else{for(r=[],t=0,f=arguments.length;t<f;t++)r.push(v(arguments[t]));n=r.join(", ");this._error(u._formatString(c.unexpectedTokenExpectedTokens,i,n,this._currentOffset()))}else this._error(u._formatString(c.unexpectedTokenGeneric,i,this._currentOffset()))}},{supportedForProcessing:!1})}),OptionsInterpreter:t.Namespace._lazy(function(){return t.Class.derive(o.BaseInterpreter,function(n,t,i,r){this._initialize(n,t,i,r)},{_error:function(n){throw new r("WinJS.UI.ParseError",u._formatString(c.invalidOptionsRecord,this._originalSource,n));},_evaluateArrayLiteral:function(){var n=[];return this._read(e.tokenType.leftBracket),this._readArrayElements(n),this._read(e.tokenType.rightBracket),n},_evaluateObjectLiteral:function(){var n={};return this._read(e.tokenType.leftBrace),this._readObjectProperties(n),this._tryReadComma(),this._read(e.tokenType.rightBrace),n},_evaluateOptionsLiteral:function(){var n=this._evaluateValue();return this._current.type!==e.tokenType.eof&&this._unexpectedToken(e.tokenType.eof),n},_peekValue:function(){switch(this._current.type){case e.tokenType.falseLiteral:case e.tokenType.nullLiteral:case e.tokenType.stringLiteral:case e.tokenType.trueLiteral:case e.tokenType.numberLiteral:case e.tokenType.leftBrace:case e.tokenType.leftBracket:case e.tokenType.identifier:return!0;default:return!1}},_evaluateValue:function(){switch(this._current.type){case e.tokenType.falseLiteral:case e.tokenType.nullLiteral:case e.tokenType.stringLiteral:case e.tokenType.trueLiteral:case e.tokenType.numberLiteral:var n=this._current.value;return this._read(),n;case e.tokenType.leftBrace:return this._evaluateObjectLiteral();case e.tokenType.leftBracket:return this._evaluateArrayLiteral();case e.tokenType.identifier:return this._peek(e.tokenType.identifier).type===e.tokenType.leftParentheses?a(this._evaluateObjectQueryExpression()):a(this._evaluateIdentifierExpression());default:this._unexpectedToken(e.tokenType.falseLiteral,e.tokenType.nullLiteral,e.tokenType.stringLiteral,e.tokenType.trueLiteral,e.tokenType.numberLiteral,e.tokenType.leftBrace,e.tokenType.leftBracket,e.tokenType.identifier)}},_tryReadElement:function(n){return this._peekValue()?(n.push(this._evaluateValue()),!0):!1},_tryReadComma:function(){return this._peek(e.tokenType.comma)?(this._read(),!0):!1},_tryReadElision:function(n){for(var t=!1;this._tryReadComma();)n.push(undefined),t=!0;return t},_readArrayElements:function(n){while(!this._peek(e.tokenType.rightBracket)){var i=this._tryReadElision(n),t=this._tryReadElement(n),r=this._peek(e.tokenType.comma);if(t&&r)this._read();else if(t||i)break;else{this._unexpectedToken(e.tokenType.falseLiteral,e.tokenType.nullLiteral,e.tokenType.stringLiteral,e.tokenType.trueLiteral,e.tokenType.numberLiteral,e.tokenType.leftBrace,e.tokenType.leftBracket,e.tokenType.identifier);break}}},_readObjectProperties:function(n){while(!this._peek(e.tokenType.rightBrace)){var t=this._tryReadObjectProperty(n),i=this._peek(e.tokenType.comma);if(t&&i)this._read();else if(t)break;else{this._unexpectedToken(e.tokenType.numberLiteral,e.tokenType.stringLiteral,e.tokenType.identifier);break}}},_tryReadObjectProperty:function(n){switch(this._current.type){case e.tokenType.numberLiteral:case e.tokenType.stringLiteral:case e.tokenType.identifier:case this._current.keyword&&this._current.type:var t=this._current.value;return this._read(),this._read(e.tokenType.colon),n[t]=this._evaluateValue(),!0;default:return!1}},_failReadObjectProperty:function(){this._unexpectedToken(e.tokenType.numberLiteral,e.tokenType.stringLiteral,e.tokenType.identifier,e.tokenType.reservedWord)},_evaluateObjectQueryExpression:function(){var i=this._current.value,t,n;this._read(e.tokenType.identifier);this._read(e.tokenType.leftParentheses);t=this._current.value;this._read(e.tokenType.stringLiteral);this._read(e.tokenType.rightParentheses);n=a(this._functionContext[i])(t);switch(this._current.type){case e.tokenType.dot:case e.tokenType.leftBracket:return this._evaluateAccessExpressions(n);default:return n}},run:function(){return this._evaluateOptionsLiteral()}},{supportedForProcessing:!1})}),OptionsParser:t.Namespace._lazy(function(){return t.Class.derive(o.OptionsInterpreter,function(n,t){this._initialize(n,t)},{_evaluateAccessExpression:s,_evaluateAccessExpressions:s,_evaluateIdentifier:s,_evaluateIdentifierExpression:s,_evaluateObjectQueryExpression:s,_evaluateValue:function(){switch(this._current.type){case e.tokenType.falseLiteral:case e.tokenType.nullLiteral:case e.tokenType.stringLiteral:case e.tokenType.trueLiteral:case e.tokenType.numberLiteral:var n=this._current.value;return this._read(),n;case e.tokenType.leftBrace:return this._evaluateObjectLiteral();case e.tokenType.leftBracket:return this._evaluateArrayLiteral();case e.tokenType.identifier:return this._peek(e.tokenType.identifier).type===e.tokenType.leftParentheses?this._readObjectQueryExpression():this._readIdentifierExpression();default:this._unexpectedToken(e.tokenType.falseLiteral,e.tokenType.nullLiteral,e.tokenType.stringLiteral,e.tokenType.trueLiteral,e.tokenType.numberLiteral,e.tokenType.leftBrace,e.tokenType.leftBracket,e.tokenType.identifier)}},_readIdentifierExpression:function(){var n=o.BaseInterpreter.prototype._readIdentifierExpression.call(this);return new h(n)},_readObjectQueryExpression:function(){var r=this._current.value,i,n,t;this._read(e.tokenType.identifier);this._read(e.tokenType.leftParentheses);i=this._current.value;this._read(e.tokenType.stringLiteral);this._read(e.tokenType.rightParentheses);n=new l(r,i);switch(this._current.type){case e.tokenType.dot:case e.tokenType.leftBracket:return t=[n],this._readAccessExpressions(t),new h(t);default:return n}}},{supportedForProcessing:!1})})}),y=function(n,t,i){var r=e.lexer(n),u=new o.OptionsInterpreter(r,n,t||{},i||{});return u.run()},p,l,h;Object.defineProperty(y,"_BaseInterpreter",{get:function(){return o.BaseInterpreter}});p=function(n){var t=e.lexer(n),i=new o.OptionsParser(t,n);return i.run()};l=t.Class.define(function(n,t){this.target=n;this.arg0Value=t});l.supportedForProcessing=!1;h=t.Class.define(function(n){this.parts=n});h.supportedForProcessing=!1;t.Namespace._moduleDefine(n,"WinJS.UI",{optionsParser:y,_optionsParser:p,_CallExpression:l,_IdentifierExpression:h})}),t("WinJS/ControlProcessor",["exports","./Core/_Global","./Core/_Base","./Core/_BaseUtils","./Core/_Log","./Core/_Resources","./Core/_WriteProfilerMark","./ControlProcessor/_OptionsParser","./Promise","./Utilities/_ElementUtilities"],function(n,t,i,r,u,f,e,o,s,h){"use strict";function v(n){var i=function(i){for(var r=n,f,u;r;){if(r.msParentSelectorScope&&(u=r.parentNode,u&&(f=h._matchesSelector(u,i)?u:u.querySelector(i),f)))break;r=r.parentNode}return f||t.document.querySelector(i)};return k(i)}function y(n,i){return new s(function(r,e){var y,h,c,s,l;try{h=n.getAttribute("data-win-options");h&&(y=o.optionsParser(h,t,{select:v(n)}));s=1;i.length>2&&s++;l=function(){s--;s===0&&(n.winControl=n.winControl||c,r(c))};c=new i(n,y,l);l()}catch(a){u.log&&u.log(f._formatString(b.errorActivatingControl,a&&a.message),"winjs controls","error");e(a)}})}function p(n,i){return new s(function(r,u){var b,k,p,d,f,h,a,o,tt;e("WinJS.UI:processAll,StartTM");n=n||t.document.body;var v=0,g="[data-win-control]",nt=n.querySelectorAll(g),s=[];for(!i&&c(n)&&s.push(n),f=0,h=nt.length;f<h;f++)s.push(nt[f]);if(s.length===0){e("WinJS.UI:processAll,StopTM");r(n);return}for(b=function(){v=v-1;v<0&&(e("WinJS.UI:processAll,StopTM"),r(n))},k=new Array(s.length),f=0,h=s.length;f<h;f++)o=s[f],d=o.winControl,d?p=d.constructor:k[f]=p=c(o),p&&p.isDeclarativeControlContainer&&(f+=o.querySelectorAll(g).length);for(e("WinJS.UI:processAllActivateControls,StartTM"),f=0,h=s.length;f<h;f++)a=k[f],o=s[f],a&&!o.winControl&&(v++,y(o,a).then(b,function(n){e("WinJS.UI:processAll,StopTM");u(n)}),a.isDeclarativeControlContainer&&typeof a.isDeclarativeControlContainer=="function"&&(tt=l(a.isDeclarativeControlContainer),tt(o.winControl,w)));e("WinJS.UI:processAllActivateControls,StopTM");b()})}function c(n){if(n.getAttribute){var i=n.getAttribute("data-win-control");if(i)return r._getMemberFiltered(i.trim(),t,l)}}function d(n,t){return v(t)(n)}function w(n,t){return a?p(n,t):r.ready().then(function(){return a=!0,p(n,t)})}function g(n){if(n&&n.winControl)return s.as(n.winControl);var t=c(n);return t?y(n,t):s.as()}if(t.document){var b={get errorActivatingControl(){return"Error activating control: {0}"}},k=r.markSupportedForProcessing,l=r.requireSupportedForProcessing,a=!1;i.Namespace._moduleDefine(n,"WinJS.UI",{scopedSelect:d,processAll:w,process:g})}}),t("WinJS/Utilities/_ElementListUtilities",["exports","../Core/_Global","../Core/_Base","../ControlProcessor","../Promise","../Utilities/_Control","../Utilities/_ElementUtilities"],function(n,t,i,r,u,f,e){"use strict";t.document&&i.Namespace._moduleDefine(n,"WinJS.Utilities",{QueryCollection:i.Class.derive(Array,function(n){n&&this.include(n)},{forEach:function(n,t){return Array.prototype.forEach.apply(this,[n,t]),this},get:function(n){return this[n]},setAttribute:function(n,t){return this.forEach(function(i){i.setAttribute(n,t)}),this},getAttribute:function(n){if(this.length>0)return this[0].getAttribute(n)},addClass:function(n){return this.forEach(function(t){e.addClass(t,n)}),this},hasClass:function(n){return this.length>0?e.hasClass(this[0],n):!1},removeClass:function(n){return this.forEach(function(t){e.removeClass(t,n)}),this},toggleClass:function(n){return this.forEach(function(t){e.toggleClass(t,n)}),this},listen:function(n,t,i){return this.forEach(function(r){r.addEventListener(n,t,i)}),this},removeEventListener:function(n,t,i){return this.forEach(function(r){r.removeEventListener(n,t,i)}),this},setStyle:function(n,t){return this.forEach(function(i){i.style[n]=t}),this},clearStyle:function(n){return this.forEach(function(t){t.style[n]=""}),this},query:function(t){var i=new n.QueryCollection;return this.forEach(function(n){i.include(n.querySelectorAll(t))}),i},include:function(n){if(typeof n.length=="number")for(var t=0;t<n.length;t++)this.push(n[t]);else n.DOCUMENT_FRAGMENT_NODE&&n.nodeType===n.DOCUMENT_FRAGMENT_NODE?this.include(n.childNodes):this.push(n)},control:function(n,t){return n&&typeof n=="function"?this.forEach(function(i){i.winControl=new n(i,t)}):(t=n,this.forEach(function(n){r.process(n).done(function(n){n&&f.setOptions(n,t)})})),this},template:function(t,i,r){var e,o,f;return t instanceof n.QueryCollection&&(t=t[0]),e=t.winControl,i!==null&&i!==undefined&&i.forEach||(i=[i]),r=r||function(){},o=this,f=[],i.forEach(function(n){o.forEach(function(t){f.push(e.render(n,t))})}),r(u.join(f)),this}},{supportedForProcessing:!1}),query:function(i,r){return new n.QueryCollection((r||t.document).querySelectorAll(i))},id:function(i){var r=t.document.getElementById(i);return new n.QueryCollection(r?[r]:[])},children:function(t){return new n.QueryCollection(t.children)}})}),t("WinJS/Utilities/_Hoverable",["exports","../Core/_Global"],function(n,t){"use strict";if(t.document&&(t.document.documentElement.classList.add("win-hoverable"),n.isHoverable=!0,!t.MSPointerEvent)){var i=function(){t.document.removeEventListener("touchstart",i);t.document.documentElement.classList.remove("win-hoverable");n.isHoverable=!1};t.document.addEventListener("touchstart",i)}}),t("WinJS/Utilities/_ParallelWorkQueue",["exports","../Core/_Base","../Promise","../Scheduler"],function(n,t,i,r){"use strict";t.Namespace._moduleDefine(n,"WinJS.UI",{_ParallelWorkQueue:t.Namespace._lazy(function(){return t.Class.define(function(n){function o(){f--;e||r.schedule(s,r.Priority.normal,null,"WinJS._ParallelWorkQueue.runNext")}function s(){for(e++;f<n;f++){var i,r;do i=u.shift(),r=i&&t[i];while(i&&!r);if(r){delete t[i];try{r().then(o,o)}catch(s){o()}}else break}e--}function c(n,r,f){var e="w"+h++,o;return new i(function(i,h,c){var l=function(){return o=n().then(i,h,c)};l.data=r;t[e]=l;f?u.unshift(e):u.push(e);s()},function(){delete t[e];o&&o.cancel()})}var h=0,t={},u=[],f,e;n=n||3;f=0;e=0;this.sort=function(n){u.sort(function(i,r){return i=t[i],r=t[r],i===undefined&&r===undefined?0:i===undefined?1:r===undefined?-1:n(i.data,r.data)})};this.queue=c},{},{supportedForProcessing:!1})})})}),t("WinJS/Utilities/_VersionManager",["exports","../Core/_Base","../_Signal"],function(n,t,i){"use strict";t.Namespace._moduleDefine(n,"WinJS.UI",{_VersionManager:t.Namespace._lazy(function(){return t.Class.define(function(){this._unlocked=new i;this._unlocked.complete()},{_cancelCount:0,_notificationCount:0,_updateCount:0,_version:0,locked:{get:function(){return this._notificationCount!==0||this._updateCount!==0}},noOutstandingNotifications:{get:function(){return this._notificationCount===0}},version:{get:function(){return this._version}},unlocked:{get:function(){return this._unlocked.promise}},_dispose:function(){this._unlocked&&(this._unlocked.cancel(),this._unlocked=null)},beginUpdating:function(){this._checkLocked();this._updateCount++},endUpdating:function(){this._updateCount--;this._checkUnlocked()},beginNotifications:function(){this._checkLocked();this._notificationCount++},endNotifications:function(){this._notificationCount--;this._checkUnlocked()},_checkLocked:function(){this.locked||(this._dispose(),this._unlocked=new i)},_checkUnlocked:function(){this.locked||this._unlocked.complete()},receivedNotification:function(){if(this._version++,this._cancel){var n=this._cancel;this._cancel=null;n.forEach(function(n){n&&n.cancel()})}},cancelOnNotification:function(n){return this._cancel||(this._cancel=[],this._cancelCount=0),this._cancel[this._cancelCount++]=n,this._cancelCount-1},clearCancelOnNotification:function(n){this._cancel&&delete this._cancel[n]}},{supportedForProcessing:!1})})})}),t("WinJS/Utilities/_ItemsManager",["exports","../Core/_Global","../Core/_Base","../Core/_BaseUtils","../Core/_ErrorFromName","../Core/_Resources","../Core/_WriteProfilerMark","../Promise","../_Signal","../Scheduler","../Utilities/_ElementUtilities","./_ParallelWorkQueue","./_VersionManager"],function(n,t,i,r,u,f,e,o,s,h,c,l,a){"use strict";function d(n){return it(function(t,i){return t.then(function(t){return t?n(t,i):null})})}function ft(n,t){var i=!1,r=!1;return n.isOnScreen().then(function(n){i=n}),t.isOnScreen().then(function(n){r=n}),(i?0:1)-(r?0:1)}function k(n){var i,r,t,u;if(!/^blob:/i.test(n)&&(v[n]=!0,p.push(n),p.length>tt))for(i=p,v={},p=[],r=0,t=i.length-1;t>=0&&r<nt;t--)u=i[t],v[u]||(v[u]=!0,r++)}function ot(n,i,r){var u=et++;return b=b||new l._ParallelWorkQueue(6),b.queue(function(){return new o(function(r,f){h.schedule(function(u){i||(i=t.document.createElement("img"));var e=v[n];e?(k(n),i.src=n,r(i)):u.setPromise(new o(function(u){var e=t.document.createElement("img"),o=function(){e.removeEventListener("load",s,!1);e.removeEventListener("error",h,!1);i.src=n;var t=new Date;t-g>ut&&(g=t,b.sort(ft))},s=function(){u(c)},h=function(){u(l)},c=function(){k(n);o();r(i)},l=function(){o();f(i)};e.addEventListener("load",s,!1);e.addEventListener("error",h,!1);e.src=n}))},h.Priority.normal,null,"WinJS.UI._ImageLoader._image"+u)})},r)}function st(n){return v[n]}function ht(){return t.document.createElement("div")}var it=r.markSupportedForProcessing,y=c._uniqueID,rt=d(function(n){var i,r;return c._isDOMElement(n.data)?n.data:(i=n.data,i===undefined?i="undefined":i===null?i="null":typeof i=="object"&&(i=JSON.stringify(i)),r=t.document.createElement("span"),r.textContent=i.toString(),r)});i.Namespace._moduleDefine(n,"WinJS.UI",{_normalizeRendererReturn:function(n){var t;return n?typeof n=="object"&&n.element?(t=o.as(n.element),t.then(function(t){return{element:t,renderComplete:o.as(n.renderComplete)}})):(t=o.as(n),t.then(function(n){return{element:n,renderComplete:o.as()}})):{element:null,renderComplete:o.as()}},simpleItemRenderer:d,_trivialHtmlRenderer:rt});var w={get listDataSourceIsInvalid(){return"Invalid argument: dataSource must be an object."},get itemRendererIsInvalid(){return"Invalid argument: itemRenderer must be a function."},get itemIsInvalid(){return"Invalid argument: item must be a DOM element that was returned by the Items Manager, and has not been replaced or released."}},b,g=new Date,ut=64;var et=0,v={},p=[],nt=250,tt=1e3;i.Namespace._moduleDefine(n,"WinJS.UI",{_seenUrl:k,_getSeenUrls:function(){return v},_getSeenUrlsMRU:function(){return p},_seenUrlsMaxSize:nt,_seenUrlsMRUMaxSize:tt});i.Namespace._moduleDefine(n,"WinJS.UI",{_createItemsManager:i.Namespace._lazy(function(){var t=i.Class.define(function(n){this._itemsManager=n},{beginNotifications:function(){this._itemsManager._versionManager.beginNotifications();this._itemsManager._beginNotifications()},inserted:function(n,t,i){this._itemsManager._versionManager.receivedNotification();this._itemsManager._inserted(n,t,i)},changed:function(n,t){this._itemsManager._versionManager.receivedNotification();this._itemsManager._changed(n,t)},moved:function(n,t,i){this._itemsManager._versionManager.receivedNotification();this._itemsManager._moved(n,t,i)},removed:function(n,t){this._itemsManager._versionManager.receivedNotification();this._itemsManager._removed(n,t)},countChanged:function(n,t){this._itemsManager._versionManager.receivedNotification();this._itemsManager._countChanged(n,t)},indexChanged:function(n,t,i){this._itemsManager._versionManager.receivedNotification();this._itemsManager._indexChanged(n,t,i)},affectedRange:function(n){this._itemsManager._versionManager.receivedNotification();this._itemsManager._affectedRange(n)},endNotifications:function(){this._itemsManager._versionManager.endNotifications();this._itemsManager._endNotifications()},reload:function(){this._itemsManager._versionManager.receivedNotification();this._itemsManager._reload()}},{supportedForProcessing:!1}),r=i.Class.define(function(n,i,r,f){if(!n)throw new u("WinJS.UI.ItemsManager.ListDataSourceIsInvalid",w.listDataSourceIsInvalid);if(!i)throw new u("WinJS.UI.ItemsManager.ItemRendererIsInvalid",w.itemRendererIsInvalid);this.$pipeline_callbacksMap={};this._listDataSource=n;this.dataSource=this._listDataSource;this._elementNotificationHandler=r;this._listBinding=this._listDataSource.createListBinding(new t(this));f&&(f.ownerElement&&(this._ownerElement=f.ownerElement),this._profilerId=f.profilerId,this._versionManager=f.versionManager||new a._VersionManager);this._indexInView=f&&f.indexInView;this._itemRenderer=i;this._viewCallsReady=f&&f.viewCallsReady;this._elementMap={};this._handleMap={};this._jobOwner=h.createOwnerToken();this._notificationsSent=!1;this._listBinding.last&&(this.lastItem=function(){return this._elementForItem(this._listBinding.last())})},{_itemFromItemPromise:function(n){return this._waitForElement(this._elementForItem(n))},_itemFromItemPromiseThrottled:function(n){return this._waitForElement(this._elementForItem(n,!0))},_itemAtIndex:function(n){var t=this._itemPromiseAtIndex(n);this._itemFromItemPromise(t).then(null,function(n){return t.cancel(),o.wrapError(n)})},_itemPromiseAtIndex:function(n){return this._listBinding.fromIndex(n)},_waitForElement:function(n){var t=this;return new o(function(i){if(n)if(t.isPlaceholder(n)){var r=y(n),u=t.$pipeline_callbacksMap[r];u?u.push(i):t.$pipeline_callbacksMap[r]=[i]}else i(n);else i(n)})},_updateElement:function(n,t){var i=y(t),r=this.$pipeline_callbacksMap[i];r&&(delete this.$pipeline_callbacksMap[i],r.forEach(function(t){t(n)}))},_firstItem:function(){return this._waitForElement(this._elementForItem(this._listBinding.first()))},_lastItem:function(){return this._waitForElement(this._elementForItem(this._listBinding.last()))},_previousItem:function(n){return this._listBinding.jumpToItem(this._itemFromElement(n)),this._waitForElement(this._elementForItem(this._listBinding.previous()))},_nextItem:function(n){return this._listBinding.jumpToItem(this._itemFromElement(n)),this._waitForElement(this._elementForItem(this._listBinding.next()))},_itemFromPromise:function(n){return this._waitForElement(this._elementForItem(n))},isPlaceholder:function(n){return!!this._recordFromElement(n).elementIsPlaceholder},itemObject:function(n){return this._itemFromElement(n)},release:function(){this._listBinding.release();this._elementNotificationHandler=null;this._listBinding=null;this._jobOwner.cancelAll();this._released=!0},releaseItemPromise:function(n){var i=n.handle,t=this._handleMap[i];t?this._releaseRecord(t):n.cancel()},releaseItem:function(n){var t=this._elementMap[y(n)];this._releaseRecord(t)},_releaseRecord:function(n){n&&(n.renderPromise&&n.renderPromise.cancel(),n.itemPromise&&n.itemPromise.cancel(),n.imagePromises&&n.imagePromises.forEach(function(n){n.cancel()}),n.itemReadyPromise&&n.itemReadyPromise.cancel(),n.renderComplete&&n.renderComplete.cancel(),this._removeEntryFromElementMap(n.element),this._removeEntryFromHandleMap(n.itemPromise.handle,n),n.item&&this._listBinding.releaseItem(n.item))},refresh:function(){return this._listDataSource.invalidateAll()},_handlerToNotifyCaresAboutItemAvailable:function(){return!!(this._elementNotificationHandler&&this._elementNotificationHandler.itemAvailable)},_handlerToNotify:function(){return this._notificationsSent||(this._notificationsSent=!0,this._elementNotificationHandler&&this._elementNotificationHandler.beginNotifications&&this._elementNotificationHandler.beginNotifications()),this._elementNotificationHandler},_defineIndexProperty:function(n,t,i){i.indexObserved=!1;Object.defineProperty(n,"index",{get:function(){return i.indexObserved=!0,t.index}})},_renderPlaceholder:function(n){var t=ht({});return n.elementIsPlaceholder=!0,t},_renderItem:function(t,i,r){function w(){t.then(function(n){u._writeProfilerMark(y+",StartTM");e.complete(n);u._writeProfilerMark(y+",StopTM")})}var u=this,k=u._indexInView||function(){return!0},e=new s,c=new s,y="_renderItem("+i.item.index+"):itemPromise",p=!0,l=!1,f,a,v,b;return t.then(function(n){l=!0;p&&e.complete(n)}),p=!1,f=e.promise.then(function(n){if(n){var t=Object.create(n);return u._defineIndexProperty(t,n,i),t.ready=c.promise,t.isOnScreen=function(){return o.wrap(k(n.index))},t.loadImage=function(n,r){var u=ot(n,r,t);return i.imagePromises?i.imagePromises.push(u):i.imagePromises=[u],u},t.isImageCached=st,t}return o.cancel}),l||(r?(i.stage0=t,i.startStage1=function(){i.startStage1=null;w()}):w()),f.handle=t.handle,i.itemPromise=f,i.itemReadyPromise=c.promise,i.readyComplete=!1,a="_renderItem("+i.item.index+(l?"):syncItemPromise":"):placeholder"),v="_renderItem("+i.item.index+"):itemReady",this._writeProfilerMark(a+",StartTM"),b=o.as(u._itemRenderer(f,i.element)).then(n._normalizeRendererReturn).then(function(n){return u._released?o.cancel:(f.then(function(n){if(i.pendingReady=function(){i.pendingReady&&(i.pendingReady=null,i.readyComplete=!0,u._writeProfilerMark(v+",StartTM"),c.complete(n),u._writeProfilerMark(v+",StopTM"))},!u._viewCallsReady){var t=h.schedule(i.pendingReady,h.Priority.normal,i,"WinJS.UI._ItemsManager._pendingReady");t.owner=u._jobOwner}}),n)}),this._writeProfilerMark(a+",StopTM"),b},_replaceElement:function(n,t){this._removeEntryFromElementMap(n.element);n.element=t;this._addEntryToElementMap(t,n)},_changeElement:function(n,t,i){n.renderPromise=null;var r=n.element,u=n.item;n.newItem&&(n.item=n.newItem,n.newItem=null);this._replaceElement(n,t);n.item&&n.elementIsPlaceholder&&!i?(n.elementDelayed=null,n.elementIsPlaceholder=!1,this._updateElement(n.element,r),this._handlerToNotifyCaresAboutItemAvailable()&&this._handlerToNotify().itemAvailable(n.element,r)):this._handlerToNotify().changed(t,r,u)},_elementForItem:function(n,t){var u=n.handle,i=this._recordFromHandle(u,!0),r;if(!u)return null;if(i)r=i.element;else{i={item:n,itemPromise:n};this._addEntryToHandleMap(u,i);var f=this,e=!1,o=!1,s=f._renderItem(n,i,t).then(function(t){var u=t.element;i.renderComplete=t.renderComplete;n.then(function(n){i.item=n;n||(e=!0,r=null)});o=!0;i.renderPromise=null;u&&(r?f._presentElements(i,u):r=u)});e||(o||(i.renderPromise=s),r||(r=this._renderPlaceholder(i)),i.element=r,this._addEntryToElementMap(r,i),n.retain())}return r},_addEntryToElementMap:function(n,t){this._elementMap[y(n)]=t},_removeEntryFromElementMap:function(n){delete this._elementMap[y(n)]},_recordFromElement:function(n){var t=this._elementMap[y(n)];if(!t){this._writeProfilerMark("_recordFromElement:ItemIsInvalidError,info");throw new u("WinJS.UI.ItemsManager.ItemIsInvalid",w.itemIsInvalid);}return t},_addEntryToHandleMap:function(n,t){this._handleMap[n]=t},_removeEntryFromHandleMap:function(n){delete this._handleMap[n]},_handleInHandleMap:function(n){return!!this._handleMap[n]},_recordFromHandle:function(n,t){var i=this._handleMap[n];if(!i&&!t)throw new u("WinJS.UI.ItemsManager.ItemIsInvalid",w.itemIsInvalid);return i},_foreachRecord:function(n){var t=this._handleMap,i,r;for(i in t)r=t[i],n(r)},_itemFromElement:function(n){return this._recordFromElement(n).item},_elementFromHandle:function(n){if(n){var t=this._recordFromHandle(n,!0);if(t&&t.element)return t.element}return null},_inserted:function(n,t,i){this._handlerToNotify().inserted(n,t,i)},_changed:function(n,t){var i,r,u;this._handleInHandleMap(t.handle)&&(i=this._recordFromHandle(t.handle),i.renderPromise&&i.renderPromise.cancel(),i.itemPromise&&i.itemPromise.cancel(),i.imagePromises&&i.imagePromises.forEach(function(n){n.cancel()}),i.itemReadyPromise&&i.itemReadyPromise.cancel(),i.renderComplete&&i.renderComplete.cancel(),i.newItem=n,r=this,u=o.as(n),u.handle=i.itemPromise.handle,i.renderPromise=this._renderItem(u,i).then(function(n){i.renderComplete=n.renderComplete;r._changeElement(i,n.element,!1);r._presentElements(i)}))},_moved:function(n,t,i){var r=this._elementFromHandle(n.handle),u=this._elementFromHandle(t),f=this._elementFromHandle(i);this._handlerToNotify().moved(r,u,f,n);this._presentAllElements()},_removed:function(n,t){if(this._handleInHandleMap(n)){var i=this._elementFromHandle(n);this._handlerToNotify().removed(i,t,n);this.releaseItem(i);this._presentAllElements()}else this._handlerToNotify().removed(null,t,n)},_countChanged:function(n,t){this._elementNotificationHandler&&this._elementNotificationHandler.countChanged&&this._handlerToNotify().countChanged(n,t)},_indexChanged:function(n,t,i){var s,r,u,f,e;this._handleInHandleMap(n)&&(r=this._recordFromHandle(n),r.indexObserved&&(r.elementIsPlaceholder?this._changeElement(r,this._renderPlaceholder(r),!0):r.item.index!==t&&(r.renderPromise&&r.renderPromise.cancel(),r.renderComplete&&r.renderComplete.cancel(),u=r.newItem||r.item,u.index=t,f=o.as(u),f.handle=r.itemPromise.handle,e=this,r.renderPromise=this._renderItem(f,r).then(function(n){r.renderComplete=n.renderComplete;e._changeElement(r,n.element,!1);e._presentElements(r)}))),s=r.element);this._elementNotificationHandler&&this._elementNotificationHandler.indexChanged&&this._handlerToNotify().indexChanged(s,t,i)},_affectedRange:function(n){this._elementNotificationHandler&&this._elementNotificationHandler.updateAffectedRange&&this._handlerToNotify().updateAffectedRange(n)},_beginNotifications:function(){this._externalBegin=!0;this._handlerToNotify()},_endNotifications:function(){this._notificationsSent&&(this._notificationsSent=!1,this._externalBegin=!1,this._elementNotificationHandler&&this._elementNotificationHandler.endNotifications&&this._elementNotificationHandler.endNotifications())},_reload:function(){this._elementNotificationHandler&&this._elementNotificationHandler.reload&&this._elementNotificationHandler.reload()},_postEndNotifications:function(){if(this._notificationsSent&&!this._externalBegin&&!this._endNotificationsPosted){this._endNotificationsPosted=!0;var n=this;h.schedule(function(){n._endNotificationsPosted=!1;n._endNotifications()},h.Priority.high,null,"WinJS.UI._ItemsManager._postEndNotifications")}},_presentElement:function(n){var t=n.element;this._replaceElement(n,n.elementDelayed);n.elementDelayed=null;n.elementIsPlaceholder=!1;this._updateElement(n.element,t);this._handlerToNotifyCaresAboutItemAvailable()&&this._handlerToNotify().itemAvailable(n.element,t)},_presentElements:function(n,t){t&&(n.elementDelayed=t);this._listBinding.jumpToItem(n.item);n.elementDelayed&&this._presentElement(n);this._postEndNotifications()},_presentAllElements:function(){var n=this;this._foreachRecord(function(t){t.elementDelayed&&n._presentElement(t)})},_writeProfilerMark:function(n){var t="WinJS.UI._ItemsManager:"+(this._profilerId?this._profilerId+":":":")+n;e(t)}},{supportedForProcessing:!1});return function(n,t,i,u){return new r(n,t,i,u)}})})}),t("WinJS/Utilities/_TabContainer",["exports","../Core/_Global","../Core/_Base","../Core/_BaseUtils","./_ElementUtilities"],function(n,t,i,r,u){"use strict";function f(n,i,r,u){var f=t.document.createEvent("UIEvent");return f.initUIEvent(i,!1,!!u,t,r?1:0),!n.dispatchEvent(f)}function h(n){var r=t.getComputedStyle(n),i,u;return r.display==="none"||r.visibility==="hidden"?t.NodeFilter.FILTER_REJECT:n._tabContainer?t.NodeFilter.FILTER_ACCEPT:n.parentNode&&n.parentNode._tabContainer?(i=n.parentNode._tabContainer.childFocus,i&&n.contains(i))?e(n)>=0?t.NodeFilter.FILTER_ACCEPT:t.NodeFilter.FILTER_SKIP:t.NodeFilter.FILTER_REJECT:(u=e(n),u>=0)?t.NodeFilter.FILTER_ACCEPT:t.NodeFilter.FILTER_SKIP}function s(n){function u(){if(n.currentNode._tabContainer)t=t.concat(s(n));else if(e(n.currentNode)>=0&&t.push(n.currentNode),n.firstChild()){do u();while(n.nextSibling());n.parentNode()}}var i=n.currentNode,r=i._tabContainer.childFocus,t=[];return r?(n.currentNode=r,u(),n.currentNode=i,t):[]}function c(n,i){function s(){var n=t.document.createElement("DIV");return n.tabIndex=i?i:0,n.setAttribute("aria-hidden",!0),n}var e=n.parentNode,u=s(),r,o;e.insertBefore(u,n);r=s();e.insertBefore(r,n.nextSibling);u.addEventListener("focus",function(){f(n,"onTabEnter",!0)},!0);r.addEventListener("focus",function(){f(n,"onTabEnter",!1)},!0);this._catcherBegin=u;this._catcherEnd=r;o=1;this.addRef=function(){o++};this.release=function(){return--o==0&&(u.parentElement&&e.removeChild(u),r.parentElement&&e.removeChild(r)),o};this.updateTabIndex=function(n){u.tabIndex=n;r.tabIndex=n}}var e,o;t.document&&(e=u.getTabIndex,o={attach:function(n,t){return n["win-trackTabHelperObject"]?n["win-trackTabHelperObject"].addRef():n["win-trackTabHelperObject"]=new c(n,t),n["win-trackTabHelperObject"]},detach:function(n){n["win-trackTabHelperObject"].release()||delete n["win-trackTabHelperObject"]}},i.Namespace._moduleDefine(n,"WinJS.UI",{TrackTabBehavior:o,TabContainer:i.Class.define(function(n){this._element=n;this._tabIndex=0;n._tabContainer=this;n.getAttribute("tabindex")===null&&(n.tabIndex=-1);var t=this;n.addEventListener("onTabEnter",function(i){var r=f(t._element,"onTabEntered",i.detail,!0);r||(t.childFocus?t.childFocus.focus():n.focus())});n.addEventListener("keydown",function(n){var o=n.target,i,a,v,e,c,l;if(n.keyCode===u.Key.tab&&(i=!n.shiftKey,a=t._hasMoreElementsInTabOrder(o,i),!a)){if(v=f(t._element,"onTabExiting",i,!0),v){n.stopPropagation();n.preventDefault();return}var s=t._element.querySelectorAll("a[href],area[href],button,command,input,link,menuitem,object,select,textarea,th[sorted],[tabindex]"),y=s.length,h=[];for(e=0;e<y;e++)c=s[e],h.push(c.tabIndex),c.tabIndex=-1;t._elementTabHelper[i?"_catcherEnd":"_catcherBegin"].tabIndex=-1;l=function(){o.removeEventListener("blur",l,!1);for(var n=0;n<y;n++)h[n]!==-1&&(s[n].tabIndex=h[n]);t._elementTabHelper._catcherBegin.tabIndex=t._tabIndex;t._elementTabHelper._catcherEnd.tabIndex=t._tabIndex};o.addEventListener("blur",l,!1);r._yieldForEvents(function(){f(t._element,"onTabExit",i)})}});this._elementTabHelper=o.attach(n,this._tabIndex);this._elementTabHelper._catcherBegin.tabIndex=0;this._elementTabHelper._catcherEnd.tabIndex=0},{dispose:function(){o.detach(this._element,this._tabIndex)},childFocus:{set:function(n){n!==this._focusElement&&(this._focusElement=n&&n.parentNode?n:null)},get:function(){return this._focusElement}},tabIndex:{set:function(n){this._tabIndex=n;this._elementTabHelper.updateTabIndex(n)},get:function(){return this._tabIndex}},_element:null,_skipper:function(n){n.stopPropagation();n.preventDefault()},_hasMoreElementsInTabOrder:function(n,i){var f,u,r;if(!this.childFocus)return!1;for(f=t.document.createTreeWalker(this._element,t.NodeFilter.SHOW_ELEMENT,h,!1),u=s(f),r=0;r<u.length;r++)if(u[r]===n)return i?r<u.length-1:r>0;return!1},_focusElement:null},{supportedForProcessing:!1})}))}),t("WinJS/Utilities/_KeyboardBehavior",["exports","../Core/_Global","../Core/_Base","./_Control","./_ElementUtilities","./_TabContainer"],function(n,t,i,r,u,f){"use strict";if(t.document){var e={touch:"touch",pen:"pen",mouse:"mouse",keyboard:"keyboard"},o=e.mouse,s={2:e.touch,3:e.pen,4:e.mouse,touch:e.touch,pen:e.pen,mouse:e.mouse};u._addEventListener(t,"pointerdown",function(n){o=s[n.pointerType]||e.mouse},!0);t.addEventListener("keydown",function(){o=e.keyboard},!0);i.Namespace._moduleDefine(n,"WinJS.UI",{_keyboardSeenLast:{get:function(){return o===e.keyboard},set:function(n){o=n?e.keyboard:e.mouse}},_lastInputType:{get:function(){return o},set:function(n){e[n]&&(o=n)}},_InputTypes:e,_WinKeyboard:function(t){u._addEventListener(t,"pointerdown",function(n){u.removeClass(n.target,"win-keyboard")},!0);t.addEventListener("keydown",function(n){u.addClass(n.target,"win-keyboard")},!0);u._addEventListener(t,"focusin",function(t){n._keyboardSeenLast&&u.addClass(t.target,"win-keyboard")},!1);u._addEventListener(t,"focusout",function(n){u.removeClass(n.target,"win-keyboard")},!1)},_KeyboardBehavior:i.Namespace._lazy(function(){var n=u.Key,e=i.Class.define(function(n,i){n=n||t.document.createElement("DIV");i=i||{};n._keyboardBehavior=this;this._element=n;this._fixedDirection=e.FixedDirection.width;this._fixedSize=1;this._currentIndex=0;r.setOptions(this,i);this._tabContainer=new f.TabContainer(this.scroller||this._element);this._tabContainer.tabIndex=0;this._element.children.length>0&&(this._tabContainer.childFocus=this._getFocusInto(this._element.children[0]));this._element.addEventListener("keydown",this._keyDownHandler.bind(this));u._addEventListener(this._element,"pointerdown",this._MSPointerDownHandler.bind(this))},{element:{get:function(){return this._element}},fixedDirection:{get:function(){return this._fixedDirection},set:function(n){this._fixedDirection=n}},fixedSize:{get:function(){return this._fixedSize},set:function(n){+n===n&&(n=Math.max(1,n),this._fixedSize=n)}},currentIndex:{get:function(){return this._element.children.length>0?this._currentIndex:-1},set:function(n){if(+n===n){var t=this._element.children.length;n=Math.max(0,Math.min(t-1,n));this._currentIndex=n;this._tabContainer.childFocus=this._getFocusInto(this._element.children[n])}}},getAdjacent:{get:function(){return this._getAdjacent},set:function(n){this._getAdjacent=n}},scroller:{get:function(){return this._scroller},set:function(n){this._scroller=n}},_keyDownHandler:function(i){var f;if(!i.altKey){if(u._matchesSelector(i.target,".win-interactive, .win-interactive *"))return;var r=this.currentIndex,s=this._element.children.length-1,h=t.getComputedStyle(this._element).direction==="rtl",c=h?n.rightArrow:n.leftArrow,l=h?n.leftArrow:n.rightArrow,o=this.getAdjacent&&this.getAdjacent(r,i.keyCode);+o===o?r=o:(f=r%this.fixedSize,i.keyCode===c?this.fixedDirection===e.FixedDirection.width?f!==0&&r--:r>=this.fixedSize&&(r-=this.fixedSize):i.keyCode===l?this.fixedDirection===e.FixedDirection.width?f!==this.fixedSize-1&&r++:r+this.fixedSize-f<=s&&(r+=this.fixedSize):i.keyCode===n.upArrow?this.fixedDirection===e.FixedDirection.height?f!==0&&r--:r>=this.fixedSize&&(r-=this.fixedSize):i.keyCode===n.downArrow?this.fixedDirection===e.FixedDirection.height?f!==this.fixedSize-1&&r++:r+this.fixedSize-f<=s&&(r+=this.fixedSize):i.keyCode===n.home?r=0:i.keyCode===n.end&&(r=this._element.children.length-1));r=Math.max(0,Math.min(this._element.children.length-1,r));r!==this.currentIndex&&(this._focus(r,i.keyCode),(i.keyCode===c||i.keyCode===l||i.keyCode===n.upArrow||i.keyCode===n.downArrow)&&i.stopPropagation(),i.preventDefault())}},_getFocusInto:function(n,t){return n&&n.winControl&&n.winControl._getFocusInto?n.winControl._getFocusInto(t):n},_focus:function(n,t){n=+n===n?n:this.currentIndex;var i=this._element.children[n];i&&(i=this._getFocusInto(i,t),this.currentIndex=n,u._setActive(i,this.scroller))},_MSPointerDownHandler:function(n){var t=n.target,i;if(t!==this.element){while(t.parentNode!==this.element)t=t.parentNode;for(i=-1;t;)i++,t=t.previousElementSibling;this.currentIndex=i}}},{FixedDirection:{height:"height",width:"width"}});return e})})}}),t("WinJS/Utilities/_SafeHtml",["exports","../Core/_WinJS","../Core/_Global","../Core/_Base","../Core/_ErrorFromName","../Core/_Resources"],function(n,t,i,r,u){"use strict";var o,s,h,c,l,a,v={get nonStaticHTML(){return"Unable to add dynamic content. A script attempted to inject dynamic content, or elements previously modified dynamically, that might be unsafe. For example, using the innerHTML property or the document.write method to add a script element will generate this exception. If the content is safe and from a trusted source, use a method to explicitly manipulate elements and attributes, such as createElement, or use setInnerHTMLUnsafe (or other unsafe method)."}},f,e;o=s=function(n,t){n.innerHTML=t};h=c=function(n,t){n.outerHTML=t};l=a=function(n,t,i){n.insertAdjacentHTML(t,i)};f=i.MSApp;f&&f.execUnsafeLocalFunction?(s=function(n,i){f.execUnsafeLocalFunction(function(){try{t._execUnsafe=!0;n.innerHTML=i}finally{t._execUnsafe=!1}})},c=function(n,i){f.execUnsafeLocalFunction(function(){try{t._execUnsafe=!0;n.outerHTML=i}finally{t._execUnsafe=!1}})},a=function(n,i,r){f.execUnsafeLocalFunction(function(){try{t._execUnsafe=!0;n.insertAdjacentHTML(i,r)}finally{t._execUnsafe=!1}})}):i.msIsStaticHTML&&(e=function(n){if(!i.msIsStaticHTML(n))throw new u("WinJS.Utitilies.NonStaticHTML",v.nonStaticHTML);},o=function(n,t){e(t);n.innerHTML=t},h=function(n,t){e(t);n.outerHTML=t},l=function(n,t,i){e(i);n.insertAdjacentHTML(t,i)});r.Namespace._moduleDefine(n,"WinJS.Utilities",{setInnerHTML:o,setInnerHTMLUnsafe:s,setOuterHTML:h,setOuterHTMLUnsafe:c,insertAdjacentHTML:l,insertAdjacentHTMLUnsafe:a})}),t("WinJS/Utilities/_Select",["exports","../Core/_Base","./_SafeHtml"],function(n,t,i){"use strict";t.Namespace._moduleDefine(n,"WinJS.UI",{_Select:t.Namespace._lazy(function(){function e(n){return n.replace(r,function(n){return u[n]||""})}function o(n){return n.replace(f,"")}function s(n){return this[n]}function h(){return this.length}function n(n){return n.getValue||(n.getValue=s),n.getLength||(n.getLength=h),n}var r=/[&<>'"]/g,u={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},f=/[\u200e\u200f]/g;return t.Class.define(function(t,i){this._dataSource=n(i.dataSource);this._index=i.index||0;this._domElement=t;this._domElement.tabIndex=0;i.disabled&&this.setDisabled(i.disabled);var r=this;this._domElement.addEventListener("change",function(){r._index=r._domElement.selectedIndex},!1);this._createSelectElement()},{_index:0,_dataSource:null,dataSource:{get:function(){return this._dataSource},set:function(t){this._dataSource=n(t);this._domElement&&this._createSelectElement()}},setDisabled:function(n){n?this._domElement.setAttribute("disabled","disabled"):this._domElement.removeAttribute("disabled")},_createSelectElement:function(){for(var u=this._dataSource.getLength(),t="",n=0;n<u;n++){var f=""+this._dataSource.getValue(n),r=e(f),s=o(r);t+="<option value='"+s+"'>"+r+"<\/option>"}i.setInnerHTMLUnsafe(this._domElement,t);this._domElement.selectedIndex=this._index},index:{get:function(){return Math.max(0,Math.min(this._index,this._dataSource.getLength()-1))},set:function(n){if(this._index!==n){this._index=n;var t=this._domElement;t&&t.selectedIndex!==n&&(t.selectedIndex=n)}}},value:{get:function(){return this._dataSource.getValue(this.index)}}})})})}),t("WinJS/Utilities/_Telemetry",["exports"],function(n){"use strict";n.send=function(){}}),t("WinJS/Utilities/_UI",["exports","../Core/_BaseCoreUtils","../Core/_Base"],function(n,t,i){"use strict";i.Namespace._moduleDefine(n,"WinJS.UI",{eventHandler:function(n){return t.markSupportedForProcessing(n)},Orientation:{horizontal:"horizontal",vertical:"vertical"},CountResult:{unknown:"unknown"},CountError:{noResponse:"noResponse"},DataSourceStatus:{ready:"ready",waiting:"waiting",failure:"failure"},FetchError:{noResponse:"noResponse",doesNotExist:"doesNotExist"},EditError:{noResponse:"noResponse",canceled:"canceled",notPermitted:"notPermitted",noLongerMeaningful:"noLongerMeaningful"},ObjectType:{item:"item",groupHeader:"groupHeader",header:"header",footer:"footer"},SelectionMode:{none:"none",single:"single",multi:"multi"},TapBehavior:{directSelect:"directSelect",toggleSelect:"toggleSelect",invokeOnly:"invokeOnly",none:"none"},SwipeBehavior:{select:"select",none:"none"},GroupHeaderTapBehavior:{invoke:"invoke",none:"none"}})}),t("WinJS/Utilities/_Xhr",["../Core/_Global","../Core/_Base","../Promise","../Scheduler"],function(n,t,i,r){"use strict";function u(n,t,i){r.schedule(function(){n(t)},i,null,"WinJS.xhr")}function f(){}function e(t){var e;return new i(function(i,s,h){var l=r.currentPriority,c,a;e=new n.XMLHttpRequest;c=!1;a=o.exec(t.url.toLowerCase());a?a[1]==="file"&&(c=!0):n.location.protocol==="file:"&&(c=!0);e.onreadystatechange=function(){if(e._canceled){e.onreadystatechange=f;return}e.readyState===4?(e.status>=200&&e.status<300||c&&e.status===0?u(i,e,l):u(s,e,l),e.onreadystatechange=f):u(h,e,l)};e.open(t.type||"GET",t.url,!0,t.user,t.password);e.responseType=t.responseType||"";Object.keys(t.headers||{}).forEach(function(n){e.setRequestHeader(n,t.headers[n])});t.customRequestInitializer&&t.customRequestInitializer(e);t.data===undefined?e.send():e.send(t.data)},function(){e.onreadystatechange=f;e._canceled=!0;e.abort()})}var o=/^(\w+)\:\/\//;return t.Namespace.define("WinJS",{xhr:e}),e}),t("WinJS/Utilities",["./Utilities/_Control","./Utilities/_Dispose","./Utilities/_ElementListUtilities","./Utilities/_ElementUtilities","./Utilities/_Hoverable","./Utilities/_ItemsManager","./Utilities/_KeyboardBehavior","./Utilities/_ParallelWorkQueue","./Utilities/_SafeHtml","./Utilities/_Select","./Utilities/_TabContainer","./Utilities/_Telemetry","./Utilities/_UI","./Utilities/_VersionManager","./Utilities/_Xhr"],function(){}),t("WinJS/XYFocus",["require","exports","./Core/_Global","./Core/_Base","./Core/_BaseUtils","./Utilities/_ElementUtilities","./Core/_Events","./ControlProcessor/_OptionsParser"],function(n,t,i,r,u,f,e,o){"use strict";function tt(n,t){var i=ft(n,t);return i?i.target:null}function ut(n,t){var r=tt(n,t),u;if(r&&(u=i.document.activeElement,et(r,-1)))return g.dispatchEvent(b.focusChanged,{previousFocusElement:u,keyCode:-1}),r}function k(n,r,u){function nt(n,t){var i=d();n===v.left||n===v.right?(i.top=Math.max(t.targetRect.top,t.referenceRect.top,c?c.top:Number.MIN_VALUE),i.bottom=Math.min(t.targetRect.bottom,t.referenceRect.bottom,c?c.bottom:Number.MAX_VALUE),i.bottom<=i.top&&(i.top=t.targetRect.top,i.bottom=t.targetRect.bottom),i.height=i.bottom-i.top,i.width=Number.MAX_VALUE,i.left=Number.MIN_VALUE,i.right=Number.MAX_VALUE):(i.left=Math.max(t.targetRect.left,t.referenceRect.left,c?c.left:Number.MIN_VALUE),i.right=Math.min(t.targetRect.right,t.referenceRect.right,c?c.right:Number.MAX_VALUE),i.right<=i.left&&(i.left=t.targetRect.left,i.right=t.targetRect.right),i.width=i.right-i.left,i.height=Number.MAX_VALUE,i.top=Number.MIN_VALUE,i.bottom=Number.MAX_VALUE);c=i}var s,w,e,o;u||i.document.activeElement!==l?(c=null,l=null,y=null):l&&y&&(s=a(l.getBoundingClientRect()),(s.left!==y.left||s.top!==y.top)&&(c=null,l=null,y=null));var k=i.document.activeElement,tt=l,f=ft(n,{focusRoot:t.focusRoot,historyRect:c,referenceElement:l,referenceRect:u});return f&&et(f.target,r)?(nt(n,f),l=f.target,y=f.targetRect,f.target.tagName==="IFRAME"&&(w=p.lastIndexOf(f.target.contentWindow),w>=0&&(e=a({left:f.referenceRect.left-f.targetRect.left,top:f.referenceRect.top-f.targetRect.top,width:f.referenceRect.width,height:f.referenceRect.height}),o={},o[h.messageDataProperty]={type:h.dFocusEnter,direction:n,referenceRect:e},f.target.contentWindow.postMessage(o,"*"))),g.dispatchEvent(b.focusChanged,{previousFocusElement:k,keyCode:r}),!0):top!==window?(e=u,e||(e=i.document.activeElement?a(i.document.activeElement.getBoundingClientRect()):d()),o={},o[h.messageDataProperty]={type:h.dFocusExit,direction:n,referenceRect:e},i.parent.postMessage(o,"*"),!0):!1}function ft(n,r){function s(n,t,i,r){if(n>=r||t<=i)return 0;var u=Math.min(t,r)-Math.max(n,i),f=Math.min(r-i,t-n);return u/f}function st(n,t,i,r,u){var c=0,e,f,o=0,h=0;switch(n){case v.left:if(u.left>=r.left)break;e=s(r.top,r.bottom,u.top,u.bottom);f=r.left-u.right;e>0?h=s(i.top,i.bottom,u.top,u.bottom):o=r.bottom<=u.top?u.top-r.bottom:r.top-u.bottom;break;case v.right:if(u.right<=r.right)break;e=s(r.top,r.bottom,u.top,u.bottom);f=u.left-r.right;e>0?h=s(i.top,i.bottom,u.top,u.bottom):o=r.bottom<=u.top?u.top-r.bottom:r.top-u.bottom;break;case v.up:if(u.top>=r.top)break;e=s(r.left,r.right,u.left,u.right);f=r.top-u.bottom;e>0?h=s(i.left,i.right,u.left,u.right):o=r.right<=u.left?u.left-r.right:r.left-u.right;break;case v.down:if(u.bottom<=r.bottom)break;e=s(r.left,r.right,u.left,u.right);f=u.top-r.bottom;e>0?h=s(i.left,i.right,u.left,u.right):o=r.right<=u.left?u.left-r.right:r.left-u.right}return f>=0&&(f=t-f,o=t-o,f>=0&&o>=0&&(f+=f*e,c=f*nt.primaryAxisDistanceWeight+o*nt.secondaryAxisDistanceWeight+h*nt.percentInHistoryShadowWeight)),c}function ht(n,t){var r,u;return(n||t)&&(!n||n.parentNode)||i.document.activeElement!==i.document.body&&(n=i.document.activeElement),n?(r=n,u=a(r.getBoundingClientRect())):u=t?a(t):d(),{element:r,rect:u}}function ct(n){var t=n.tagName,i;return!n.hasAttribute("tabindex")&&ot.indexOf(t)===-1&&!f.hasClass(n,rt.focusable)?!1:t==="IFRAME"&&p.indexOf(n.contentWindow)===-1?!1:t==="DIV"&&n.winControl&&n.winControl.disabled?!1:(i=getComputedStyle(n),n.getAttribute("tabIndex")==="-1"||i.display==="none"||i.visibility==="hidden"||n.disabled)?!1:!0}var ft,u,b,k,g,h,c,e,tt,w,et,l,y,ut;if(r=r||{},r.focusRoot=r.focusRoot||t.focusRoot||i.document.body,r.historyRect=r.historyRect||d(),ft=Math.max(i.screen.availHeight,i.screen.availWidth),u=ht(r.referenceElement,r.referenceRect),u.element&&(b=u.element.getAttribute(it.focusOverride)||u.element.getAttribute(it.focusOverrideLegacy),b&&(k=o.optionsParser(b),g=k[n]||k[n[0].toUpperCase()+n.substr(1)],g))){for(c=u.element;!h&&c;)h=c.querySelector(g),c=c.parentElement;if(h)return h===i.document.activeElement?null:{target:h,targetRect:a(h.getBoundingClientRect()),referenceRect:u.rect,usedOverride:!0}}for(e={element:null,rect:null,score:0},tt=r.focusRoot.querySelectorAll("*"),w=0,et=tt.length;w<et;w++)(l=tt[w],u.element!==l&&ct(l))&&(y=a(l.getBoundingClientRect()),y.width!==0&&y.height!==0)&&(ut=st(n,ft,r.historyRect,u.rect,y),ut>e.score&&(e.element=l,e.rect=y,e.score=ut));return e.element?{target:e.element,targetRect:e.rect,referenceRect:u.rect,usedOverride:!1}:null}function d(){return{top:-1,bottom:-1,right:-1,left:-1,height:0,width:0}}function a(n){return{top:Math.floor(n.top),bottom:Math.floor(n.top+n.height),right:Math.floor(n.left+n.width),left:Math.floor(n.left),height:Math.floor(n.height),width:Math.floor(n.width)}}function et(n,t){var r=g.dispatchEvent(b.focusChanging,{nextFocusElement:n,keyCode:t});return r||n.focus(),i.document.activeElement===n}function st(n){var r=i.document.querySelectorAll("IFRAME"),t=Array.prototype.filter.call(r,function(t){return t.contentWindow===n});return t.length?t[0]:null}function ht(n){var u,r,f,e;if(!n.defaultPrevented)for(u=Object.keys(t.keyCodeMap),r=0;r<u.length;r++)if(f=u[r],e=t.keyCodeMap[f],e.indexOf(n.keyCode)>=0){e===t.keyCodeMap.accept?i.document.activeElement&&i.document.activeElement.click&&i.document.activeElement.click():k(f,n.keyCode)&&n.preventDefault();return}}var s=f.Key,it={focusOverride:"data-win-xyfocus",focusOverrideLegacy:"data-win-focus"},rt={focusable:"win-focusable",xboxPlatform:"win-xbox"},h={messageDataProperty:"msWinJSXYFocusControlMessage",register:"register",unregister:"unregister",dFocusEnter:"dFocusEnter",dFocusExit:"dFocusExit"},v={left:"left",right:"right",up:"up",down:"down"},b={focusChanging:"focuschanging",focusChanged:"focuschanged"},ot=["A","BUTTON","IFRAME","INPUT","SELECT","TEXTAREA"],nt={primaryAxisDistanceWeight:30,secondaryAxisDistanceWeight:20,percentInHistoryShadowWeight:1e5},l,y,c,p,w,g;t.keyCodeMap={left:[s.GamepadLeftThumbstickLeft,s.GamepadDPadLeft,s.NavigationLeft],right:[s.GamepadLeftThumbstickRight,s.GamepadDPadRight,s.NavigationRight],up:[s.GamepadLeftThumbstickUp,s.GamepadDPadUp,s.NavigationUp],down:[s.GamepadLeftThumbstickDown,s.GamepadDPadDown,s.NavigationDown],accept:[s.GamepadA,s.NavigationAccept]};t.focusRoot;t.findNextFocusElement=tt;t.moveFocus=ut;p=[];i.addEventListener("message",function(n){var t,f,r,u;if(n.data&&n.data[h.messageDataProperty]){t=n.data[h.messageDataProperty];switch(t.type){case h.register:p.push(n.source);break;case h.unregister:f=p.indexOf(n.source);f>=0&&p.splice(f,1);break;case h.dFocusEnter:k(t.direction,-1,t.referenceRect);break;case h.dFocusExit:if(r=st(n.source),i.document.activeElement!==r)break;u=t.referenceRect;u.left+=r.offsetLeft;u.top+=r.offsetTop;k(t.direction,-1,u)}}});u.ready().then(function(){if(f.hasWinRT&&i.Windows&&i.Windows.Xbox&&f.addClass(i.document.body,rt.xboxPlatform),i.document.addEventListener("keydown",ht),i.top!==i.window){var n={};n[h.messageDataProperty]={type:h.register,version:1};i.parent.postMessage(n,"*")}});w={focusRoot:{get:function(){return t.focusRoot},set:function(n){t.focusRoot=n}},findNextFocusElement:tt,keyCodeMap:t.keyCodeMap,moveFocus:ut,onfocuschanged:e._createEventProperty(b.focusChanged),onfocuschanging:e._createEventProperty(b.focusChanging),_xyFocus:k};w=u._merge(w,e.eventMixin);w._listeners={};g=w;r.Namespace.define("WinJS.UI.XYFocus",w)}),t("WinJS/Fragments",["exports","./Core/_Global","./Core/_WinRT","./Core/_Base","./Core/_BaseUtils","./Core/_ErrorFromName","./Core/_Resources","./Core/_WriteProfilerMark","./Promise","./Utilities/_ElementUtilities","./Utilities/_SafeHtml","./Utilities/_Xhr"],function(n,t,i,r,u,f,e,o,s,h,c,l){"use strict";function ft(n,i,r,u){var e=n.src,h=!e,o,f,c;return h&&(e=i+"script["+r+"]"),e=e.toLowerCase(),(e in b)?void 0:(o=null,b[e]=!0,f=t.document.createElement("script"),n.language&&f.setAttribute("language","javascript"),f.setAttribute("type",n.type),f.setAttribute("async","false"),n.id&&f.setAttribute("id",n.id),h?(c=n.text,o=u.then(function(){f.text=c}).then(null,function(){})):o=new s(function(t){f.onload=f.onerror=function(){t()};f.setAttribute("src",n.src)}),y.appendChild(f),{promise:o,inline:h})}function et(n,t,i){var r=(t+"script["+i+"]").toLowerCase();r in d||(d[r]=!0,y.appendChild(n.cloneNode(!0)))}function ot(n){var i=n.href.toLowerCase(),t;i in k||(k[i]=!0,t=n.cloneNode(!1),t.href=n.href,y.appendChild(t))}function nt(n,i){var r,u;if(typeof n=="string")return ht(n,i);if(r={docfrag:h.data(n).docFragment},!r.docfrag){for(u=t.document.createDocumentFragment();n.childNodes.length>0;)u.appendChild(n.childNodes[0]);r.docfrag=h.data(n).docFragment=u;n.setAttribute("data-win-hasfragment","")}return i&&rt(n),s.as(r)}function st(n,t){return yt(n,t).then(function(){return n.document?ct(t,n):n}).then(function(){return n.document&&delete n.document,n})}function ht(n,t){var r=n.toLowerCase(),i=v[r],u;return i?(t&&delete v[r],i.promise?i.promise:s.as(i)):(i={},t||(v[r]=i),u=i.promise=st(i,n),i.promise.then(function(){delete i.promise}),u)}function ct(n,i){var r=i.document,u=r.body,h=[],f,e,o;for(a(r.querySelectorAll('link[rel="stylesheet"], link[type="text/css"]'),ot),a(r.getElementsByTagName("style"),function(t,i){et(t,n,i)}),f=s.as(),a(r.getElementsByTagName("script"),function(t,i){var r=ft(t,n,i,f);r&&(r.inline||(f=r.promise),h.push(r.promise))}),a(u.getElementsByTagName("img"),function(n){n.src=n.src}),a(u.getElementsByTagName("a"),function(n){if(n.href!==""){var t=n.getAttribute("href");t&&t[0]!=="#"&&(n.href=n.href)}}),e=u.getElementsByTagName("script");e.length>0;)o=e[0],o.parentNode.removeChild(o);return s.join(h).then(function(){for(var n=t.document.createDocumentFragment(),u=t.document.importNode(r.body,!0);u.childNodes.length>0;)n.appendChild(u.childNodes[0]);return i.docfrag=n,i})}function tt(){g||(g=!0,a(y.querySelectorAll("script"),function(n){b[n.src.toLowerCase()]=!0}),a(y.querySelectorAll('link[rel="stylesheet"], link[type="text/css"]'),function(n){k[n.href.toLowerCase()]=!0}))}function lt(n,t){return it(n,t,!0)}function it(n,i,r){var f=(n instanceof t.HTMLElement?u._getProfilerMarkIdentifier(n):" href='"+n+"'")+"["+ ++ut+"]";return p("WinJS.UI.Fragments:render"+f+",StartTM"),tt(),nt(n,!r).then(function(n){var u=n.docfrag,t,e;for(r&&(u=u.cloneNode(!0)),t=u.firstChild;t;)t.nodeType===1&&(t.msParentSelectorScope=!0),t=t.nextSibling;return i?(i.appendChild(u),e=i):e=u,p("WinJS.UI.Fragments:render"+f+",StopTM"),e})}function at(n,t){return it(n,t,!1)}function vt(n){return tt(),nt(n).then(function(n){return n.docfrag})}function rt(n){n?typeof n=="string"?delete v[n.toLowerCase()]:(delete h.data(n).docFragment,n.removeAttribute("data-win-hasfragment")):v={}}function yt(n,i){var r=t.document.implementation.createHTMLDocument("frag"),u=r.createElement("base"),f;return r.head.appendChild(u),f=r.createElement("a"),r.body.appendChild(f),u.href=t.document.location.href,f.setAttribute("href",i),u.href=f.href,n.document=r,w(i).then(function(n){c.setInnerHTMLUnsafe(r.documentElement,n);r.head.appendChild(u)})}function pt(n){return l({url:n}).then(function(n){return n.responseText})}var p,w;if(t.document){var a=function(n,t){for(var i=0,r=n.length;i<r;i++)t(n[i],i)},y=t.document.head||t.document.getElementsByTagName("head")[0],b={},d={},k={},g=!1,v={},ut=1;p=o;w=pt;r.Namespace._moduleDefine(n,"WinJS.UI.Fragments",{renderCopy:lt,render:at,cache:vt,clearCache:rt,_cacheStore:{get:function(){return v}},_getFragmentContents:{get:function(){return w},set:function(n){w=n}},_writeProfilerMark:{get:function(){return p},set:function(n){p=n}}})}}),t("WinJS/Application/_State",["exports","../Core/_Global","../Core/_WinRT","../Core/_Base","../Core/_BaseUtils","../Promise"],function(n,t,i,r,u,f){"use strict";function o(){var t,u,f,e=r.Class.define(function(n){this.folder=n;this._path=n.path;n.tryGetItemAsync&&(this._tryGetItemAsync=n.tryGetItemAsync.bind(n))},{_tryGetItemAsync:function(n){return this.folder.getFileAsync(n).then(null,function(){return!1})},exists:function(n){return this._tryGetItemAsync(n).then(function(n){return n?!0:!1})},remove:function(n){return this._tryGetItemAsync(n).then(function(n){return n?n.deleteAsync():!1}).then(null,function(){return!1})},writeText:function(n,t){var r=i.Windows.Storage,u=this;return u.folder.createFileAsync(n,r.CreationCollisionOption.openIfExists).then(function(n){return r.FileIO.writeTextAsync(n,t)})},readText:function(n,t){var r=i.Windows.Storage;return this._tryGetItemAsync(n).then(function(n){return n?r.FileIO.readTextAsync(n):t}).then(null,function(){return t})}},{supportedForProcessing:!1});r.Namespace._moduleDefine(n,"WinJS.Application",{local:{get:function(){return t||(t=new e(i.Windows.Storage.ApplicationData.current.localFolder)),t}},temp:{get:function(){return u||(u=new e(i.Windows.Storage.ApplicationData.current.temporaryFolder)),u}},roaming:{get:function(){return f||(f=new e(i.Windows.Storage.ApplicationData.current.roamingFolder)),f}}})}function s(){var t=r.Class.define(function(){this.storage={}},{exists:function(n){return f.as(this.storage[n]!==undefined)},remove:function(n){return delete this.storage[n],f.as()},writeText:function(n,t){return this.storage[n]=t,f.as(t.length)},readText:function(n,t){var i=this.storage[n];return f.as(typeof i=="string"?i:t)}},{supportedForProcessing:!1});r.Namespace._moduleDefine(n,"WinJS.Application",{local:new t,temp:new t,roaming:new t})}i.Windows.Storage.FileIO&&i.Windows.Storage.ApplicationData&&i.Windows.Storage.CreationCollisionOption?o():s();var e={};r.Namespace._moduleDefine(n,"WinJS.Application",{sessionState:{get:function(){return e},set:function(n){e=n}},_loadState:function(t){return t.previousExecutionState===3?n.local.readText("_sessionState.json","{}").then(function(t){var i=JSON.parse(t);i&&Object.keys(i).length>0&&(n._sessionStateLoaded=!0);n.sessionState=i}).then(null,function(){n.sessionState={}}):f.as()},_oncheckpoint:function(i,r){var u,f;if((!t.MSApp||!t.MSApp.getViewOpener||!t.MSApp.getViewOpener())&&(u=n.sessionState,u&&Object.keys(u).length>0||n._sessionStateLoaded)){try{f=JSON.stringify(u)}catch(e){f="";r.queueEvent({type:"error",detail:e})}i.setPromise(n.local.writeText("_sessionState.json",f).then(null,function(n){r.queueEvent({type:"error",detail:n})}))}}})}),t("WinJS/Navigation",["exports","./Core/_Base","./Core/_Events","./Core/_WriteProfilerMark","./Promise"],function(n,t,i,r,u){"use strict";var h="navigated",c="navigating",l="beforenavigate",p=t.Class.mix(t.Class.define(null,{},{supportedForProcessing:!1}),i.eventMixin),e=new p,f={backStack:[],current:{location:"",initialPlaceholder:!0},forwardStack:[]},s=i._createEventProperty,a=function(n){return r("WinJS.Navigation:navigation,StartTM"),u.as().then(function(){var t=u.as(),i=e.dispatchEvent(l,{setPromise:function(n){t=t.then(function(){return n})},location:n.location,state:n.state});return t.then(function(n){return i||n})})},v=function(n){return u.as().then(function(){var t=u.as();return e.dispatchEvent(c,{setPromise:function(n){t=t.then(function(){return n})},location:f.current.location,state:f.current.state,delta:n}),t})},o=function(n,t){r("WinJS.Navigation:navigation,StopTM");var i=u.as(),o={value:n,location:f.current.location,state:f.current.state,setPromise:function(n){i=i.then(function(){return n})}};return!n&&t&&(o.error=t),e.dispatchEvent(h,o),i},y=function(n,t,i,r){return(n=Math.min(n,t.length),n>0)?a(t[t.length-n]).then(function(u){if(u)return!1;for(i.push(f.current);n-1>0;)n--,i.push(t.pop());return f.current=t.pop(),v(r).then(o,function(n){o(undefined,n||!0);throw n;}).then(function(){return!0})}):u.wrap(!1)};t.Namespace._moduleDefine(n,"WinJS.Navigation",{canGoForward:{get:function(){return f.forwardStack.length>0}},canGoBack:{get:function(){return f.backStack.length>0}},location:{get:function(){return f.current.location}},state:{get:function(){return f.current.state},set:function(n){f.current.state=n}},history:{get:function(){return f},set:function(n){f=n;f.backStack=f.backStack||[];f.forwardStack=f.forwardStack||[];f.current=f.current||{location:"",initialPlaceholder:!0};f.current.location=f.current.location||""}},forward:function(n){return n=n||1,y(n,f.forwardStack,f.backStack,n)},back:function(n){return n=n||1,y(n,f.backStack,f.forwardStack,-n)},navigate:function(n,t){var i={location:n,state:t};return a(i).then(function(n){return n?!1:(f.current.initialPlaceholder||f.backStack.push(f.current),f.forwardStack=[],f.current=i,v().then(o,function(n){o(undefined,n||!0);throw n;}).then(function(){return!0}))})},addEventListener:function(n,t,i){e.addEventListener(n,t,i)},removeEventListener:function(n,t,i){e.removeEventListener(n,t,i)},onnavigated:s(h),onnavigating:s(c),onbeforenavigate:s(l)})}),t("WinJS/Application",["exports","./Core/_Global","./Core/_WinRT","./Core/_Base","./Core/_Events","./Core/_Log","./Core/_WriteProfilerMark","./Application/_State","./Navigation","./Promise","./_Signal","./Scheduler","./Utilities/_ElementUtilities"],function(n,t,i,r,u,f,e,o,s,h,c,l,a){"use strict";function kt(n){var i,r;try{r=[];i=JSON.stringify(n,function(n,i){return i===t?"[window]":i instanceof t.HTMLElement?"[HTMLElement]":typeof i=="function"?"[function]":typeof i=="object"?i===null?i:r.indexOf(i)===-1?(r.push(i),i):"[circular]":i})}catch(u){i=JSON.stringify("[object]")}return i}function dt(i){if(f.log&&f.log(kt(i),"winjs","error"),t.document&&n._terminateApp){var r=i.detail,u=r&&(r.number||r.exception&&(r.exception.number||r.exception.code)||r.error&&r.error.number||r.errorCode||0),e={description:kt(r),stack:r&&(r.stack||r.exception&&(r.exception.stack||r.exception.message)||r.error&&r.error.stack||null),errorNumber:u,number:u};n._terminateApp(e,i)}}function gt(n){t.MSApp&&t.MSApp.terminateApp(n)}function ni(n){var t="def"+ki++;return{deferral:nt[t]=n.getDeferral(),id:t}}function di(n,t){t&&(n=nt[t],delete nt[t]);n&&n.complete()}function ti(){nt&&(Object.keys(nt).forEach(function(n){nt[n].complete()}),nt={})}function b(n){function o(t){return e("WinJS.Application:Event_"+n.type+",StopTM"),n._deferral&&di(n._deferral,n._deferralID),t}var i,r,u,f,t;e("WinJS.Application:Event_"+n.type+",StartTM");i=h.as();n.setPromise=function(n){i=i.then(function(){return n})};n._stoppedImmediatePropagation=!1;n.stopImmediatePropagation=function(){n._stoppedImmediatePropagation=!0};n.detail=n.detail||{};typeof n.detail=="object"&&(n.detail.setPromise=n.setPromise);try{if(d._listeners&&(r=!1,t=d._listeners[n.type],t))for(u=0,f=t.length;u<f&&!n._stoppedImmediatePropagation;u++)r=t[u].listener(n)||r;t=ri[n.type];t&&t.forEach(function(t){t(n,r)})}catch(s){n.type===tt?dt(n):y({type:tt,detail:s})}return i.then(o,function(n){if(n=o(n),!n||n.name!=="Canceled")return h.wrapError(n)})}function gi(){return w||(w=new c,w.promise.done(function(){w=null},function(){w=null})),w}function ii(n){function t(n){y({type:tt,detail:n})}return n.length===0?gi().promise:b(n.shift()).then(null,t)}function ct(n){function i(){return ct}var t=n.job._queue;t.length===0&&it.length>0&&(t=n.job._queue=lt());n.setPromise(ii(t).then(i,i))}function nr(){function r(){t=!0}for(var n=[],t=!0,i;t;)n.length===0&&it.length>0&&(n=lt()),t=!1,i=ii(n),i.done(r,r);rt=l.schedule(function(n){function t(){return ct}n.setPromise(i.then(t,t))},l.Priority.high,null,"WinJS.Application._pumpEventQueue");rt._queue=n}function y(n){e("WinJS.Application:Event_"+n.type+" queued,Info");it.push(n);st&&w&&w.complete(ct)}function lt(){var n=it;return it=[],n}function ui(n){var t=ni(n.activatedOperation);o._loadState(n).then(function(){y({type:ot,detail:n,_deferral:t.deferral,_deferralID:t.id})})}function fi(n){var t=ni(n.suspendingOperation);y({type:et,_deferral:t.deferral,_deferralID:t.id})}function tr(){if(y({type:vt}),!(t.document&&i.Windows.UI.WebUI.WebUIApplication)){var n={arguments:"",kind:"Windows.Launch",previousExecutionState:0};o._loadState(n).then(function(){y({type:ot,detail:n})})}}function ei(){ti();y({type:at})}function oi(t){var f={},r,e,u,i;for(r in t)f[r]=t[r];u=!0;i=n._terminateApp;try{n._terminateApp=function(n,t){u=!1;e=n;i!==gt&&i(n,t)};b({type:tt,detail:{error:f,errorLine:t.lineno,errorCharacter:t.colno,errorUrl:t.filename,errorMessage:t.message}})}finally{n._terminateApp=i}return u}function si(n){var t=n.detail,i=t.id,r,u;if(t.parent){t.handler&&k&&delete k[i];return}t.exception instanceof Error&&(r={stack:t.exception.stack,message:t.exception.message},t.exception=r);u=!k;k=k||[];k[i]=t;u&&l.schedule(function(){var n=k;k=null;n.forEach(function(n){y({type:tt,detail:n})})},l.Priority.high,null,"WinJS.Application._queuePromiseErrors")}function hi(n){var t={e:n,applicationcommands:undefined};d.dispatchEvent(pt,t)}function ci(n){var t={type:wt};Object.defineProperty(t,"_winRTBackPressedEvent",{value:n,enumerable:!1});b(t)}function ir(){b({type:yi})}function li(n){b({type:pi,kind:n.kind})}function ai(n){b({type:wi,kind:n.kind})}function vi(n){b({type:bi,kind:n.kind})}function rr(){var r,u,n;ft||(ft=!0,t.addEventListener("beforeunload",ei,!1),t.document&&(t.addEventListener("error",oi,!1),i.Windows.UI.WebUI.WebUIApplication&&(r=i.Windows.UI.WebUI.WebUIApplication,r.addEventListener("activated",ui,!1),r.addEventListener("suspending",fi,!1)),i.Windows.UI.ApplicationSettings.SettingsPane&&(u=i.Windows.UI.ApplicationSettings.SettingsPane.getForCurrentView(),u.addEventListener("commandsrequested",hi)),i.Windows.Phone.UI.Input.HardwareButtons&&i.Windows.Phone.UI.Input.HardwareButtons.addEventListener("backpressed",ci),i.Windows.UI.Input.EdgeGesture&&(n=i.Windows.UI.Input.EdgeGesture.getForCurrentView(),n.addEventListener("starting",li),n.addEventListener("completed",ai),n.addEventListener("canceled",vi))),h.addEventListener("error",si))}function ur(){var r,u,n;ft&&(ft=!1,t.removeEventListener("beforeunload",ei,!1),t.document&&(i.Windows.UI.WebUI.WebUIApplication&&(t.removeEventListener("error",oi,!1),r=i.Windows.UI.WebUI.WebUIApplication,r.removeEventListener("activated",ui,!1),r.removeEventListener("suspending",fi,!1)),i.Windows.UI.ApplicationSettings.SettingsPane&&(u=i.Windows.UI.ApplicationSettings.SettingsPane.getForCurrentView(),u.removeEventListener("commandsrequested",hi)),i.Windows.Phone.UI.Input.HardwareButtons&&i.Windows.Phone.UI.Input.HardwareButtons.removeEventListener("backpressed",ci),i.Windows.UI.Input.EdgeGesture&&(n=i.Windows.UI.Input.EdgeGesture.getForCurrentView(),n.removeEventListener("starting",li),n.removeEventListener("completed",ai),n.removeEventListener("canceled",vi))),h.removeEventListener("error",si))}var ht,ri,p;t.Debug&&(t.Debug.setNonUserCodeExceptions=!0);var et="checkpoint",at="unload",ot="activated",vt="loaded",yt="ready",tt="error",pt="settings",wt="backclick",yi="beforerequestingfocusonkeyboardinput",ut="requestingfocusonkeyboardinput",pi="edgystarting",wi="edgycompleted",bi="edgycanceled",k,it=[],rt=null,w=null,st=!1,ft=!1,bt=r.Class.mix(r.Class.define(null,{},{supportedForProcessing:!1}),u.eventMixin),d=new bt,g=u._createEventProperty,nt={},ki=0,v={_registered:!1,updateRegistration:function(){var n=d._listeners&&d._listeners[ut]||[];!v._registered&&n.length>0&&(v._updateKeydownCaptureListeners(t.top,!0),v._registered=!0);v._registered&&n.length===0&&(v._updateKeydownCaptureListeners(t.top,!1),v._registered=!1)},_keydownCaptureHandler:function(n){v._registered&&v._shouldKeyTriggerTypeToSearch(n)&&ir()},_frameLoadCaptureHandler:function(n){v._registered&&v._updateKeydownCaptureListeners(n.target.contentWindow,!0)},_updateKeydownCaptureListeners:function(n,t){var r,u,i;try{t?n.document.addEventListener("keydown",v._keydownCaptureHandler,!0):n.document.removeEventListener("keydown",v._keydownCaptureHandler,!0)}catch(f){}if(n.frames)for(r=0,u=n.frames.length;r<u;r++){i=n.frames[r];v._updateKeydownCaptureListeners(i,t);try{t?i.frameElement&&i.frameElement.addEventListener("load",v._frameLoadCaptureHandler,!0):i.frameElement&&i.frameElement.removeEventListener("load",v._frameLoadCaptureHandler,!0)}catch(f){}}},_shouldKeyTriggerTypeToSearch:function(n){var t=!1;if(!n.metaKey&&(!n.ctrlKey&&!n.altKey||n.getModifierState&&n.getModifierState("AltGraph")))switch(n.keyCode){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 96:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 186:case 187:case 188:case 189:case 190:case 191:case 192:case 219:case 220:case 221:case 222:case 223:case 226:case 229:case 231:t=!0}return t}};ht=gt;ri={activated:[function(){y({type:yt})}],checkpoint:[function(t){o._oncheckpoint(t,n)}],error:[function(n,t){t||dt(n)}],backclick:[function(n,t){t?n._winRTBackPressedEvent.handled=!0:s.canGoBack&&(s.back(),n._winRTBackPressedEvent.handled=!0)}],beforerequestingfocusonkeyboardinput:[function(n,t){t||b({type:ut})}]};t.document&&t.document.addEventListener("DOMContentLoaded",tr,!1);p=r.Namespace._moduleDefine(n,"WinJS.Application",{stop:function(){p.onactivated=null;p.oncheckpoint=null;p.onerror=null;p.onloaded=null;p.onready=null;p.onsettings=null;p.onunload=null;p.onbackclick=null;d=new bt;o.sessionState={};st=!1;lt();rt&&rt.cancel();rt=null;w=null;ur();v.updateRegistration();ti()},addEventListener:function(n,t,i){d.addEventListener(n,t,i);n===ut&&v.updateRegistration()},removeEventListener:function(n,t,i){d.removeEventListener(n,t,i);n===ut&&v.updateRegistration()},checkpoint:function(){y({type:et})},start:function(){rr();st=!0;nr()},queueEvent:y,_dispatchEvent:b,_terminateApp:{get:function(){return ht},set:function(n){ht=n}},_applicationListener:r.Namespace._lazy(function(){return new a._GenericListener("Application",p)}),oncheckpoint:g(et),onunload:g(at),onactivated:g(ot),onloaded:g(vt),onready:g(yt),onsettings:g(pt),onerror:g(tt),onbackclick:g(wt)})}),t("WinJS/Animations/_Constants",["exports","../Core/_Base"],function(n,t){"use strict";t.Namespace._moduleDefine(n,"WinJS.UI",{PageNavigationAnimation:{turnstile:"turnstile",slide:"slide",enterPage:"enterPage",continuum:"continuum"}})}),t("WinJS/Animations/_TransitionAnimation",["exports","../Core/_Global","../Core/_WinRT","../Core/_Base","../Core/_BaseUtils","../Promise","../Scheduler","../Utilities/_ElementUtilities"],function(n,t,i,r,u,f,e,o){"use strict";function k(n){return Array.isArray(n)||n instanceof t.NodeList||n instanceof t.HTMLCollection?n:n?[n]:[]}function lt(){return++p,"WinJSUIAnimation"+p}function at(n){return"WinJSUIAnimation"===n.substring(0,16)}function d(n){t.getComputedStyle(n,null).opacity}function g(t,i){return function(r){var f={},e,u;for(e in r)u=r[e],typeof u=="function"&&(u=u(t,i)),f[e]=u;return f.exactTiming||(f.delay+=n._libraryDelay),f}}function yt(n,t){var r=n+"|"+t,i=w[r];i&&i(vt)}function nt(n,t,i){w[n+"|"+t]=i}function tt(n,t){delete w[n+"|"+t]}function rt(n,t,i,r,u){var f=u.styleCaches[t]||new it(t,u,i),e,o;return f.cref+=r.length,r.forEach(function(n){yt(t,n.property)}),(u.isTransition||r.some(function(n){return f.removed[n[u.nameField]]}))&&(d(n),f.removed={}),e=r.map(function(n){return n[u.nameField]+" "+u.props.map(function(t){return(t[1]?n[t[1]]:"")+t[2]}).join(" ")}).join(", "),o=r.map(function(n){return n[u.nameField]}).join(", "),f.names!==""&&(e=f.names+", "+e,o=f.names+", "+o),i[u.shorthandProp]=e,f.names=o,f}function ft(n,t){t?n():e.schedule(function(){n()},e.Priority.normal,null,"WinJS.UI._Animation._completeAnimationPromise")}function pt(n,i,r,e,s){var h,a,y,v;r.length>0&&(h=n.style,a=o._uniqueID(n),l||(l=t.document.createElement("DIV").style),r=r.map(g(i,n)),r.forEach(function(n){var t=u._getCamelCasedName(n.property);n.hasOwnProperty("from")&&(h[t]=n.from);l[t]=n.to;n.to=l[t];n.propertyScriptName=t}),s?(y=rt(n,a,h,r,ut),v=n.disabled?t.document:n,r.forEach(function(i){var r;e.push(new f(function(f){var e,o,s;r=function(r){e&&(v.removeEventListener(u._browserEventEquivalents.transitionEnd,e,!1),tt(a,i.property),y.removeName(h,i.propertyScriptName,r?n:null,i.skipStylesReset),t.clearTimeout(s),e=null);ft(f,r===c)};e=function(t){t.target===n&&t.propertyName===i.property&&r()};nt(a,i.property,r);v.addEventListener(u._browserEventEquivalents.transitionEnd,e,!1);o=0;h[i.propertyScriptName]!==i.to&&(h[i.propertyScriptName]=i.to,o=50);s=t.setTimeout(function(){s=t.setTimeout(r,i.delay+i.duration)},o)},function(){r(c)}))})):r.forEach(function(n){h[n.propertyScriptName]=n.to}))}function wt(n,i,r,e,h){var v,a,l,y,w;if(h&&r.length>0){v=n.style;a=o._uniqueID(n);r=r.map(g(i,n));y=n.disabled?t.document:n;r.forEach(function(n){if(n.keyframe)n.keyframe=s.animationPrefix+n.keyframe;else{l||(l=t.document.createElement("STYLE"),t.document.documentElement.appendChild(l));n.keyframe=lt();var i="@"+s.keyframes+" "+n.keyframe+" { from {"+n.property+":"+n.from+";} to {"+n.property+":"+n.to+";}}";l.sheet.insertRule(i,0)}});var k=rt(n,a,v,r,et),p=[],b=[];r.forEach(function(i){var r;b.push(new f(function(f){var e,o;r=function(n){e&&(y.removeEventListener(u._browserEventEquivalents.animationEnd,e,!1),t.clearTimeout(o),e=null);ft(f,n===c)};e=function(t){t.target===n&&t.animationName===i.keyframe&&r()};nt(a,i.property,r);p.push({id:a,property:i.property,style:v,keyframe:i.keyframe});o=t.setTimeout(function(){o=t.setTimeout(r,i.delay+i.duration)},50);y.addEventListener(u._browserEventEquivalents.animationEnd,e,!1)},function(){r(c)}))});l&&t.setTimeout(function(){var n=l.parentElement;n&&n.removeChild(l)},50);w=function(){for(var n,t=0;t<p.length;t++)n=p[t],tt(n.id,n.property),k.removeName(n.style,n.keyframe)};e.push(f.join(b).then(w,w))}}function bt(){v||(v=i.Windows.UI.ViewManagement.UISettings?new i.Windows.UI.ViewManagement.UISettings:{animationsEnabled:!0})}function ot(t,i,r){var u,h;try{var c=n.isAnimationEnabled(),o=k(t),l=k(i),s=[];for(u=0;u<o.length;u++)if(Array.isArray(o[u]))for(h=0;h<o[u].length;h++)r(o[u][h],u,l,s,c);else r(o[u],u,l,s,c);return s.length?f.join(s):e.schedulePromiseNormal(null,"WinJS.UI._Animation._completeActionPromise").then(null,function(){})}catch(a){return f.wrapError(a)}}function st(n){return Array.isArray(n)?n.map(function(n){return st(n)}):n?(n.delay=y(n.delay),n.duration=y(n.duration),n):void 0}function ht(n){return h===1?n:st(n)}var s,p,it,ut,l,et,a,v,b;if(t.document){s=u._browserStyleEquivalents;p=0;var w=[],vt=1,c=2;it=r.Class.define(function(n,t,i){this.cref=0;this.id=n;this.desc=t;this.removed={};this.prevStyles=t.props.map(function(n){return i[n[0]]});this.prevNames=this.names=i[t.nameProp];t.styleCaches[n]=this},{destroy:function(n,t){var i=this.desc;delete i.styleCaches[this.id];t||(this.prevNames===""&&this.prevStyles.every(function(n){return n===""})?n[i.shorthandProp]="":(i.props.forEach(function(t,i){n[t[0]]=this.prevStyles[i]},this),n[i.nameProp]=this.prevNames))},removeName:function(n,t,i,r){var u=this.names,f=u.split(", "),e=f.lastIndexOf(t);e>=0&&(f.splice(e,1),this.names=u=f.join(", "),u===""&&this.desc.isTransition&&(u="none"));--this.cref?(n[this.desc.nameProp]=u,at(t)||(this.removed[t]=!0)):(i&&u==="none"&&(n[this.desc.nameProp]=u,d(i)),this.destroy(n,r))}});ut={shorthandProp:s.transition.scriptName,nameProp:s["transition-property"].scriptName,nameField:"property",props:[[s["transition-duration"].scriptName,"duration","ms"],[s["transition-timing-function"].scriptName,"timing",""],[s["transition-delay"].scriptName,"delay","ms"]],isTransition:!0,styleCaches:[]};et={shorthandProp:s.animation.scriptName,nameProp:s["animation-name"].scriptName,nameField:"keyframe",props:[[s["animation-duration"].scriptName,"duration","ms"],[s["animation-timing-function"].scriptName,"timing",""],[s["animation-delay"].scriptName,"delay","ms"],[s["animation-iteration-count"].scriptName,"","1"],[s["animation-direction"].scriptName,"","normal"],[s["animation-fill-mode"].scriptName,"","both"]],isTransition:!1,styleCaches:[]};a=0;b=function(){return bt(),a+v.animationsEnabled>0};var y=function(n){return n*h},h=1,ct=0;r.Namespace._moduleDefine(n,"WinJS.UI",{disableAnimations:function(){a--},enableAnimations:function(){a++},isAnimationEnabled:{get:function(){return b},set:function(n){b=n}},_libraryDelay:{get:function(){return ct},set:function(n){ct=n}},executeAnimation:function(n,t){return ot(n,ht(t),wt)},executeTransition:function(n,t){return ot(n,ht(t),pt)},_animationTimeAdjustment:{get:function(){return y},set:function(n){y=n}}});r.Namespace._moduleDefine(n,"WinJS.Utilities",{_fastAnimations:{get:function(){return h===1/20},set:function(n){h=n?1/20:1}},_slowAnimations:{get:function(){return h===3},set:function(n){h=n?3:1}},_animationFactor:{get:function(){return h},set:function(n){h=n}}})}}),t("WinJS/Animations",["exports","./Core/_Global","./Core/_Base","./Core/_BaseUtils","./Core/_WriteProfilerMark","./Animations/_Constants","./Animations/_TransitionAnimation","./Promise"],function(n,t,i,r,u,f,e,o){"use strict";function tt(n,t,i){return n.keyframe?n.keyframe:!i||n.left!==t.left||n.top!==t.top||n.rtlflip&&!t.rtlflip?null:n.rtlflip?it(i):i}function ot(n,t){return!t||!n.rtlflip?t:it(t)}function it(n){var i=n+"-rtl";return function(r,u){return t.getComputedStyle(u).direction==="ltr"?n:i}}function v(n){return Array.isArray(n)||n instanceof t.NodeList||n instanceof t.HTMLCollection?n:n?[n]:[]}function rt(n){for(var f=[],r,u,i=0;i<n.length;i++)r={top:n[i].offsetTop,left:n[i].offsetLeft},u=t.getComputedStyle(n[i],null)[h.scriptName].split(","),u.length===6&&(r.left+=parseFloat(u[4]),r.top+=parseFloat(u[5])),f.push(r);return f}function a(n,t,i,r){return function(u){for(var f=n,e=0;e<u;e++)t*=i,f+=t;return r&&(f=Math.min(f,r)),f}}function ut(n,t){for(var i=0;i<t.length;i++)t[i].top-=n[i].offsetTop,t[i].left-=n[i].offsetLeft}function y(n,t,i){ut(n,t);for(var r=0;r<n.length;r++)(t[r].top!==0||t[r].left!==0)&&(n[r].style[h.scriptName]="translate("+t[r].left+"px, "+t[r].top+"px)");return e.executeTransition(n,i)}function k(n,t,i,r,u,f,o,s){function y(n,t,i){var u,f,r,e;if(n)if(u={left:t+"px",top:"0px"},f={left:i+"px",top:"0px"},+n.length===n.length)for(r=0,e=n.length;r<e;r++)w.push(n[r]),a.push(u),v.push(f);else w.push(n),a.push(u),v.push(f)}var w=[],a=[],v=[],p=200,b=t!==0?t<0?-p:p:0,k=i!==0?i<0?-p:p:0;return y(u,t,i),y(f,b,k),y(o,b*2,k*2),y(s,b*3,k*3),a=new l(a),v=new l(v),e.executeTransition(w,[{property:h.cssName,delay:0,duration:350,timing:n,from:c(a),to:c(v)},{property:"opacity",delay:0,duration:350,timing:r?"steps(1, start)":"steps(1, end)",from:r?0:1,to:r?1:0}])}function p(n,i,u){function h(){st(n)}var f,o,s;for(n=v(n),i=v(i),f=0,o=n.length;f<o;f++)s=t.getComputedStyle(n[f]).direction==="rtl",n[f].style[r._browserStyleEquivalents["transform-origin"].scriptName]=i[Math.min(i.length-1,f)][s?"rtl":"ltr"];return e.executeTransition(n,u).then(h,h)}function st(n){for(var t=0,i=n.length;t<i;t++)n[t].style[r._browserStyleEquivalents["transform-origin"].scriptName]="",n[t].style[h.scriptName]="",n[t].style.opacity=""}function c(n,i){return i=i||"",function(r,u){var e=n.getOffset(r),f=e.left;return e.rtlflip&&t.getComputedStyle(u).direction==="rtl"&&(f=f.toString(),f=f.charAt(0)==="-"?f.substring(1):"-"+f),i+"translate("+f+", "+e.top+")"}}function ft(n,t){return t=t||"",function(i){var r=n[i];return"translate("+r.left+"px, "+r.top+"px) "+t}}function ht(n,t){return function(i){var r=n[i];return r.left===0&&r.top===0?t:null}}function w(n,t,i,r){var f=v(t),u=v(i),e=rt(u);return new n(f,u,e,r)}function d(n){for(var u=[],i=0,f=n.length;i<f;i++){var r=n[i].getBoundingClientRect(),o=-(40+r.left),s=40+(t.innerWidth-r.right),e=t.innerHeight/2-r.top;u.push({ltr:o+"px "+e+"px",rtl:s+"px "+e+"px"})}return u}function s(n){u("WinJS.UI.Animation:"+n)}function b(n,i){var f=i.duration*e._animationFactor,s=r._browserStyleEquivalents.transition.scriptName,u;return n.style[s]=f+"ms "+h.cssName+" "+i.timing,n.style[h.scriptName]=i.to,new o(function(i){var o=function(t){t.target===n&&t.propertyName===h.cssName&&u()},c=!1,e;u=function(){c||(t.clearTimeout(e),n.removeEventListener(r._browserEventEquivalents.transitionEnd,o),n.style[s]="",c=!0);i()};e=t.setTimeout(function(){e=t.setTimeout(u,f)},50);n.addEventListener(r._browserEventEquivalents.transitionEnd,o)},function(){u()})}function g(){return{defaultResizeGrowTransition:{duration:350,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)"},defaultResizeShrinkTransition:{duration:120,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)"}}}function nt(n,i,u){var c=g()[u.to>u.from?"defaultResizeGrowTransition":"defaultResizeShrinkTransition"],f,e,o,s,l,a;return u=r._merge(u,{duration:u.duration===undefined?c.duration:u.duration,timing:u.timing===undefined?c.timing:u.timing}),f=u.actualSize-u.from,e=u.actualSize-u.to,u.anchorTrailingEdge||(f=-f,e=-e),o=u.dimension==="width"?"translateX":"translateY",s={duration:u.duration,timing:u.timing},n.style[h.scriptName]=o+"("+f+"px)",i.style[h.scriptName]=o+"("+-f+"px)",t.getComputedStyle(n).opacity,t.getComputedStyle(i).opacity,l=r._merge(s,{to:o+"("+e+"px)"}),a=r._merge(s,{to:o+"("+-e+"px)"}),[{element:n,transition:l},{element:i,transition:a}]}var h=r._browserStyleEquivalents.transform,et=[{top:"0px",left:"11px",rtlflip:!0}],l=i.Class.define(function(n,t,i){i=i||et;Array.isArray(n)&&n.length>0?(this.offsetArray=n,n.length===1&&(this.keyframe=tt(n[0],i[0],t))):n&&n.hasOwnProperty("top")&&n.hasOwnProperty("left")?(this.offsetArray=[n],this.keyframe=tt(n,i[0],t)):(this.offsetArray=i,this.keyframe=ot(i[0],t))},{getOffset:function(n){return n>=this.offsetArray.length&&(n=this.offsetArray.length-1),this.offsetArray[n]}},{supportedForProcessing:!1}),ct=i.Class.define(function(n,t,i){this.revealedArray=n;this.affectedArray=t;this.offsetArray=i},{execute:function(){s("expandAnimation,StartTM");var n=e.executeAnimation(this.revealedArray,{keyframe:"WinJS-opacity-in",property:"opacity",delay:this.affectedArray.length>0?200:0,duration:167,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",from:0,to:1}),t=y(this.affectedArray,this.offsetArray,{property:h.cssName,delay:0,duration:367,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",to:""});return o.join([n,t]).then(function(){s("expandAnimation,StopTM")})}},{supportedForProcessing:!1}),lt=i.Class.define(function(n,t,i){this.hiddenArray=n;this.affectedArray=t;this.offsetArray=i},{execute:function(){s("collapseAnimation,StartTM");var n=e.executeAnimation(this.hiddenArray,{keyframe:"WinJS-opacity-out",property:"opacity",delay:0,duration:167,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",from:1,to:0}),t=y(this.affectedArray,this.offsetArray,{property:h.cssName,delay:this.hiddenArray.length>0?167:0,duration:367,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",to:""});return o.join([n,t]).then(function(){s("collapseAnimation,StopTM")})}},{supportedForProcessing:!1}),at=i.Class.define(function(n,t,i){this.elementArray=t;this.offsetArray=i},{execute:function(){return s("repositionAnimation,StartTM"),y(this.elementArray,this.offsetArray,{property:h.cssName,delay:a(0,33,1,250),duration:367,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",to:""}).then(function(){s("repositionAnimation,StopTM")})}},{supportedForProcessing:!1}),vt=i.Class.define(function(n,t,i){this.addedArray=n;this.affectedArray=t;this.offsetArray=i},{execute:function(){s("addToListAnimation,StartTM");var n=this.affectedArray.length>0?240:0,t=e.executeAnimation(this.addedArray,[{keyframe:"WinJS-scale-up",property:h.cssName,delay:n,duration:120,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",from:"scale(0.85)",to:"none"},{keyframe:"WinJS-opacity-in",property:"opacity",delay:n,duration:120,timing:"linear",from:0,to:1}]),i=y(this.affectedArray,this.offsetArray,{property:h.cssName,delay:0,duration:400,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",to:""});return o.join([t,i]).then(function(){s("addToListAnimation,StopTM")})}},{supportedForProcessing:!1}),yt=i.Class.define(function(n,t,i){this.deletedArray=n;this.remainingArray=t;this.offsetArray=i},{execute:function(){s("deleteFromListAnimation,StartTM");var n=e.executeAnimation(this.deletedArray,[{keyframe:"WinJS-scale-down",property:h.cssName,delay:0,duration:120,timing:"cubic-bezier(0.11, 0.5, 0.24, .96)",from:"none",to:"scale(0.85)"},{keyframe:"WinJS-opacity-out",property:"opacity",delay:0,duration:120,timing:"linear",from:1,to:0}]),t=y(this.remainingArray,this.offsetArray,{property:h.cssName,delay:this.deletedArray.length>0?60:0,duration:400,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",to:""});return o.join([n,t]).then(function(){s("deleteFromListAnimation,StopTM")})}},{supportedForProcessing:!1}),pt=i.Class.define(function(n,t,i,r){this.addedArray=n;this.affectedArray=t;this.offsetArray=i;var u=v(r);this.deletedArray=u;this.deletedOffsetArray=rt(u)},{execute:function(){var n,t,i,r;return s("_updateListAnimation,StartTM"),ut(this.deletedArray,this.deletedOffsetArray),n=0,t=e.executeAnimation(this.deletedArray,[{keyframe:ht(this.deletedOffsetArray,"WinJS-scale-down"),property:h.cssName,delay:0,duration:120,timing:"cubic-bezier(0.11, 0.5, 0.24, .96)",from:ft(this.deletedOffsetArray),to:ft(this.deletedOffsetArray,"scale(0.85)")},{keyframe:"WinJS-opacity-out",property:"opacity",delay:0,duration:120,timing:"linear",from:1,to:0}]),this.deletedArray.length>0&&(n+=60),i=y(this.affectedArray,this.offsetArray,{property:h.cssName,delay:n,duration:400,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",to:""}),this.affectedArray.length>0?n+=240:n&&(n+=60),r=e.executeAnimation(this.addedArray,[{keyframe:"WinJS-scale-up",property:h.cssName,delay:n,duration:120,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",from:"scale(0.85)",to:"none"},{keyframe:"WinJS-opacity-in",property:"opacity",delay:n,duration:120,timing:"linear",from:0,to:1}]),o.join([t,i,r]).then(function(){s("_updateListAnimation,StopTM")})}},{supportedForProcessing:!1}),wt=i.Class.define(function(n,t,i){this.addedArray=n;this.affectedArray=t;this.offsetArray=i},{execute:function(){s("addToSearchListAnimation,StartTM");var n=e.executeAnimation(this.addedArray,{keyframe:"WinJS-opacity-in",property:"opacity",delay:this.affectedArray.length>0?240:0,duration:117,timing:"linear",from:0,to:1}),t=y(this.affectedArray,this.offsetArray,{property:h.cssName,delay:0,duration:400,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",to:""});return o.join([n,t]).then(function(){s("addToSearchListAnimation,StopTM")})}},{supportedForProcessing:!1}),bt=i.Class.define(function(n,t,i){this.deletedArray=n;this.remainingArray=t;this.offsetArray=i},{execute:function(){s("deleteFromSearchListAnimation,StartTM");var n=e.executeAnimation(this.deletedArray,{keyframe:"WinJS-opacity-out",property:"opacity",delay:0,duration:93,timing:"linear",from:1,to:0}),t=y(this.remainingArray,this.offsetArray,{property:h.cssName,delay:this.deletedArray.length>0?60:0,duration:400,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",to:""});return o.join([n,t]).then(function(){s("deleteFromSearchListAnimation,StopTM")})}},{supportedForProcessing:!1}),kt=i.Class.define(function(n,t,i){this.elementArray=t;this.offsetArray=i},{execute:function(){return s("peekAnimation,StartTM"),y(this.elementArray,this.offsetArray,{property:h.cssName,delay:0,duration:2e3,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",to:""}).then(function(){s("peekAnimation,StopTM")})}},{supportedForProcessing:!1});i.Namespace._moduleDefine(n,"WinJS.UI.Animation",{createExpandAnimation:function(n,t){return w(ct,n,t)},createCollapseAnimation:function(n,t){return w(lt,n,t)},createRepositionAnimation:function(n){return w(at,null,n)},fadeIn:function(n){return s("fadeIn,StartTM"),e.executeTransition(n,{property:"opacity",delay:0,duration:250,timing:"linear",from:0,to:1}).then(function(){s("fadeIn,StopTM")})},fadeOut:function(n){return s("fadeOut,StartTM"),e.executeTransition(n,{property:"opacity",delay:0,duration:167,timing:"linear",to:0}).then(function(){s("fadeOut,StopTM")})},createAddToListAnimation:function(n,t){return w(vt,n,t)},createDeleteFromListAnimation:function(n,t){return w(yt,n,t)},_createUpdateListAnimation:function(n,t,i){return w(pt,n,i,t)},createAddToSearchListAnimation:function(n,t){return w(wt,n,t)},createDeleteFromSearchListAnimation:function(n,t){return w(bt,n,t)},showEdgeUI:function(n,t,i){s("showEdgeUI,StartTM");var u=i&&i.mechanism==="transition",r=new l(t,"WinJS-showEdgeUI",[{top:"-70px",left:"0px"}]);return e[u?"executeTransition":"executeAnimation"](n,{keyframe:r.keyframe,property:h.cssName,delay:0,duration:367,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",from:u?c(r):r.keyframe||c(r),to:"none"}).then(function(){s("showEdgeUI,StopTM")})},showPanel:function(n,t){s("showPanel,StartTM");var i=new l(t,"WinJS-showPanel",[{top:"0px",left:"364px",rtlflip:!0}]);return e.executeAnimation(n,{keyframe:i.keyframe,property:h.cssName,delay:0,duration:550,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",from:i.keyframe||c(i),to:"none"}).then(function(){s("showPanel,StopTM")})},hideEdgeUI:function(n,t,i){s("hideEdgeUI,StartTM");var u=i&&i.mechanism==="transition",r=new l(t,"WinJS-hideEdgeUI",[{top:"-70px",left:"0px"}]);return e[u?"executeTransition":"executeAnimation"](n,{keyframe:r.keyframe,property:h.cssName,delay:0,duration:367,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",from:"none",to:u?c(r):r.keyframe||c(r)}).then(function(){s("hideEdgeUI,StopTM")})},hidePanel:function(n,t){s("hidePanel,StartTM");var i=new l(t,"WinJS-hidePanel",[{top:"0px",left:"364px",rtlflip:!0}]);return e.executeAnimation(n,{keyframe:i.keyframe,property:h.cssName,delay:0,duration:550,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",from:"none",to:i.keyframe||c(i)}).then(function(){s("hidePanel,StopTM")})},showPopup:function(n,t){s("showPopup,StartTM");var i=new l(t,"WinJS-showPopup",[{top:"50px",left:"0px"}]);return e.executeAnimation(n,[{keyframe:"WinJS-opacity-in",property:"opacity",delay:83,duration:83,timing:"linear",from:0,to:1},{keyframe:i.keyframe,property:h.cssName,delay:0,duration:367,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",from:i.keyframe||c(i),to:"none"}]).then(function(){s("showPopup,StopTM")})},hidePopup:function(n){return s("hidePopup,StartTM"),e.executeAnimation(n,{keyframe:"WinJS-opacity-out",property:"opacity",delay:0,duration:83,timing:"linear",from:1,to:0}).then(function(){s("hidePopup,StopTM")})},pointerDown:function(n){return s("pointerDown,StartTM"),e.executeTransition(n,{property:h.cssName,delay:0,duration:167,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",to:"scale(0.975, 0.975)"}).then(function(){s("pointerDown,StopTM")})},pointerUp:function(n){return s("pointerUp,StartTM"),e.executeTransition(n,{property:h.cssName,delay:0,duration:167,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",to:""}).then(function(){s("pointerUp,StopTM")})},dragSourceStart:function(n,t){s("dragSourceStart,StartTM");var i=e.executeTransition(n,[{property:h.cssName,delay:0,duration:240,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",to:"scale(1.05)"},{property:"opacity",delay:0,duration:240,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",to:.65}]),r=e.executeTransition(t,{property:h.cssName,delay:0,duration:240,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",to:"scale(0.95)"});return o.join([i,r]).then(function(){s("dragSourceStart,StopTM")})},dragSourceEnd:function(n,t,i){s("dragSourceEnd,StartTM");var r=new l(t,"WinJS-dragSourceEnd"),u=e.executeTransition(n,[{property:h.cssName,delay:0,duration:500,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",to:""},{property:"opacity",delay:0,duration:500,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",to:1}]),f=e.executeAnimation(n,{keyframe:r.keyframe,property:h.cssName,delay:0,duration:500,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",from:r.keyframe||c(r,"scale(1.05) "),to:"none"}),a=e.executeTransition(i,{property:h.cssName,delay:0,duration:500,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",to:""});return o.join([u,f,a]).then(function(){s("dragSourceEnd,StopTM")})},enterContent:function(n,t,i){var u,r,f,a;return s("enterContent,StartTM"),r=new l(t,"WinJS-enterContent",[{top:"28px",left:"0px",rtlflip:!1}]),i&&i.mechanism==="transition"?u=e.executeTransition(n,[{property:h.cssName,delay:0,duration:550,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",from:c(r),to:"none"},{property:"opacity",delay:0,duration:170,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",from:0,to:1}]):(f=e.executeAnimation(n,{keyframe:r.keyframe,property:h.cssName,delay:0,duration:550,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",from:r.keyframe||c(r),to:"none"}),a=e.executeTransition(n,{property:"opacity",delay:0,duration:170,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",from:0,to:1}),u=o.join([f,a])),u.then(function(){s("enterContent,StopTM")})},exitContent:function(n,t){s("exitContent,StartTM");var i=new l(t,"WinJS-exit",[{top:"0px",left:"0px"}]),r=e.executeAnimation(n,t&&{keyframe:i.keyframe,property:h.cssName,delay:0,duration:117,timing:"linear",from:"none",to:i.keyframe||c(i)}),u=e.executeTransition(n,{property:"opacity",delay:0,duration:117,timing:"linear",to:0});return o.join([r,u]).then(function(){s("exitContent,StopTM")})},dragBetweenEnter:function(n,t){s("dragBetweenEnter,StartTM");var i=new l(t,null,[{top:"-40px",left:"0px"},{top:"40px",left:"0px"}]);return e.executeTransition(n,{property:h.cssName,delay:0,duration:200,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",to:c(i,"scale(0.95) ")}).then(function(){s("dragBetweenEnter,StopTM")})},dragBetweenLeave:function(n){return s("dragBetweenLeave,StartTM"),e.executeTransition(n,{property:h.cssName,delay:0,duration:200,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",to:"scale(0.95)"}).then(function(){s("dragBetweenLeave,StopTM")})},swipeSelect:function(n,t){s("swipeSelect,StartTM");var i=e.executeTransition(n,{property:h.cssName,delay:0,duration:300,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",to:""}),r=e.executeAnimation(t,{keyframe:"WinJS-opacity-in",property:"opacity",delay:0,duration:300,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",from:0,to:1});return o.join([i,r]).then(function(){s("swipeSelect,StopTM")})},swipeDeselect:function(n,t){s("swipeDeselect,StartTM");var i=e.executeTransition(n,{property:h.cssName,delay:0,duration:300,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",to:""}),r=e.executeAnimation(t,{keyframe:"WinJS-opacity-out",property:"opacity",delay:0,duration:300,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",from:1,to:0});return o.join([i,r]).then(function(){s("swipeDeselect,StopTM")})},swipeReveal:function(n,t){s("swipeReveal,StartTM");var i=new l(t,null,[{top:"25px",left:"0px"}]);return e.executeTransition(n,{property:h.cssName,delay:0,duration:300,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",to:c(i)}).then(function(){s("swipeReveal,StopTM")})},enterPage:function(n,t){s("enterPage,StartTM");var i=new l(t,"WinJS-enterPage",[{top:"28px",left:"0px",rtlflip:!1}]),r=e.executeAnimation(n,{keyframe:i.keyframe,property:h.cssName,delay:a(0,83,1,333),duration:1e3,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",from:i.keyframe||c(i),to:"none"}),u=e.executeTransition(n,{property:"opacity",delay:a(0,83,1,333),duration:170,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",from:0,to:1});return o.join([r,u]).then(function(){s("enterPage,StopTM")})},exitPage:function(n,t){s("exitPage,StartTM");var i=new l(t,"WinJS-exit",[{top:"0px",left:"0px"}]),r=e.executeAnimation(n,t&&{keyframe:i.keyframe,property:h.cssName,delay:0,duration:117,timing:"linear",from:"none",to:i.keyframe||c(i)}),u=e.executeTransition(n,{property:"opacity",delay:0,duration:117,timing:"linear",to:0});return o.join([r,u]).then(function(){s("exitPage,StopTM")})},crossFade:function(n,t){s("crossFade,StartTM");var i=e.executeTransition(n,{property:"opacity",delay:0,duration:167,timing:"linear",to:1}),r=e.executeTransition(t,{property:"opacity",delay:0,duration:167,timing:"linear",to:0});return o.join([i,r]).then(function(){s("crossFade,StopTM")})},createPeekAnimation:function(n){return w(kt,null,n)},updateBadge:function(n,t){s("updateBadge,StartTM");var i=new l(t,"WinJS-updateBadge",[{top:"24px",left:"0px"}]);return e.executeAnimation(n,[{keyframe:"WinJS-opacity-in",property:"opacity",delay:0,duration:367,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",from:0,to:1},{keyframe:i.keyframe,property:h.cssName,delay:0,duration:1333,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",from:i.keyframe||c(i),to:"none"}]).then(function(){s("updateBadge,StopTM")})},turnstileForwardIn:function(n){s("turnstileForwardIn,StartTM");n=v(n);var t=d(n);return p(n,t,[{property:h.cssName,delay:a(0,50,1,1e3),duration:300,timing:"cubic-bezier(0.01,0.975,0.4775,0.9775)",from:"perspective(600px) rotateY(80deg)",to:"perspective(600px) rotateY(0deg)"},{property:"opacity",delay:a(0,50,1,1e3),duration:300,timing:"cubic-bezier(0, 2, 0, 2)",from:0,to:1}]).then(function(){s("turnstileForwardIn,StopTM")})},turnstileForwardOut:function(n){s("turnstileForwardOut,StartTM");n=v(n);var t=d(n);return p(n,t,[{property:h.cssName,delay:a(0,50,1,1e3),duration:128,timing:"cubic-bezier(0.4925,0.01,0.7675,-0.01)",from:"perspective(600px) rotateY(0deg)",to:"perspective(600px) rotateY(-50deg)"},{property:"opacity",delay:a(0,50,1,1e3),duration:128,timing:"cubic-bezier(1,-0.42,0.995,-0.425)",from:1,to:0}]).then(function(){s("turnstileForwardOut,StopTM")})},turnstileBackwardIn:function(n){s("turnstileBackwardIn,StartTM");n=v(n);var t=d(n);return p(n,t,[{property:h.cssName,delay:a(0,50,1,1e3),duration:300,timing:"cubic-bezier(0.01,0.975,0.4775,0.9775)",from:"perspective(600px) rotateY(-50deg)",to:"perspective(600px) rotateY(0deg)"},{property:"opacity",delay:a(0,50,1,1e3),duration:300,timing:"cubic-bezier(0, 2, 0, 2)",from:0,to:1}]).then(function(){s("turnstileBackwardIn,StopTM")})},turnstileBackwardOut:function(n){s("turnstileBackwardOut,StartTM");n=v(n);var t=d(n);return p(n,t,[{property:h.cssName,delay:a(0,50,1,1e3),duration:128,timing:"cubic-bezier(0.4925,0.01,0.7675,-0.01)",from:"perspective(800px) rotateY(0deg)",to:"perspective(800px) rotateY(80deg)"},{property:"opacity",delay:a(0,50,1,1e3),duration:128,timing:"cubic-bezier(1,-0.42,0.995,-0.425)",from:1,to:0}]).then(function(){s("turnstileBackwardOut,StopTM")})},slideDown:function(n){return s("slideDown,StartTM"),p(n,{ltr:"",rtl:""},[{property:h.cssName,delay:0,duration:250,timing:"cubic-bezier(0.3825,0.0025,0.8775,-0.1075)",from:"translate(0px, 0px)",to:"translate(0px, 200px)"},{property:"opacity",delay:0,duration:250,timing:"cubic-bezier(1,-0.42,0.995,-0.425)",from:1,to:0}]).then(function(){s("slideDown,StopTM")})},slideUp:function(n){return s("slideUp,StartTM"),p(n,{ltr:"",rtl:""},[{property:h.cssName,delay:0,duration:350,timing:"cubic-bezier(0.17,0.79,0.215,1.0025)",from:"translate(0px, 200px)",to:"translate(0px, 0px)"},{property:"opacity",delay:a(0,34,1,1e3),duration:350,timing:"cubic-bezier(0, 2, 0, 2)",from:0,to:1}]).then(function(){s("slideUp,StopTM")})},slideRightIn:function(n,i,r,u){return s("slideRightIn,StartTM"),k("cubic-bezier(0.17,0.79,0.215,1.0025)",-t.innerWidth,0,!0,n,i,r,u).then(function(){s("slideRightIn,StopTM")})},slideRightOut:function(n,i,r,u){return s("slideRightOut,StartTM"),k("cubic-bezier(0.3825,0.0025,0.8775,-0.1075)",0,t.innerWidth,!1,n,i,r,u).then(function(){s("slideRightOut,StopTM")})},slideLeftIn:function(n,i,r,u){return s("slideLeftIn,StartTM"),k("cubic-bezier(0.17,0.79,0.215,1.0025)",t.innerWidth,0,!0,n,i,r,u).then(function(){s("slideLeftIn,StopTM")})},slideLeftOut:function(n,i,r,u){return s("slideLeftOut,StartTM"),k("cubic-bezier(0.3825,0.0025,0.8775,-0.1075)",0,-t.innerWidth,!1,n,i,r,u).then(function(){s("slideLeftOut,StopTM")})},continuumForwardIn:function(n,t,i){return s("continuumForwardIn,StartTM"),o.join([e.executeTransition(n,[{property:h.cssName,delay:0,duration:350,timing:"cubic-bezier(0.33, 0.18, 0.11, 1)",from:"scale(0.5, 0.5)",to:"scale(1.0, 1.0)"},{property:"opacity",delay:0,duration:350,timing:"cubic-bezier(0, 2, 0, 2)",from:0,to:1}]),e.executeTransition(t,[{property:h.cssName,delay:0,duration:350,timing:"cubic-bezier(0.24,1.15,0.11,1.1575)",from:"translate(0px, 225px)",to:"translate(0px, 0px)"},{property:"opacity",delay:0,duration:350,timing:"cubic-bezier(0, 2, 0, 2)",from:0,to:1}]),p(i,{ltr:"0px 50%",rtl:"100% 50%"},[{property:h.cssName,delay:0,duration:350,timing:"cubic-bezier(0,0.62,0.8225,0.9625)",from:"rotateX(80deg) scale(1.5, 1.5)",to:"rotateX(0deg) scale(1.0, 1.0)"},{property:"opacity",delay:0,duration:350,timing:"cubic-bezier(0, 2, 0, 2)",from:0,to:1}])]).then(function(){s("continuumForwardIn,StopTM")})},continuumForwardOut:function(n,t){return s("continuumForwardOut,StartTM"),o.join([e.executeTransition(n,[{property:h.cssName,delay:0,duration:120,timing:"cubic-bezier(0.3825,0.0025,0.8775,-0.1075)",from:"scale(1.0, 1.0)",to:"scale(1.1, 1.1)"},{property:"opacity",delay:0,duration:120,timing:"cubic-bezier(1,-0.42,0.995,-0.425)",from:1,to:0}]),p(t,{ltr:"0px 100%",rtl:"100% 100%"},[{property:h.cssName,delay:0,duration:152,timing:"cubic-bezier(0.3825,0.0025,0.8775,-0.1075)",from:"rotateX(0deg) scale(1.0, 1.0) translate(0px, 0px)",to:"rotateX(80deg) scale(1.5, 1.5) translate(0px, 150px)"},{property:"opacity",delay:0,duration:152,timing:"cubic-bezier(1,-0.42,0.995,-0.425)",from:1,to:0}])]).then(function(){s("continuumForwardOut,StopTM")})},continuumBackwardIn:function(n,t){return s("continuumBackwardIn,StartTM"),o.join([e.executeTransition(n,[{property:h.cssName,delay:0,duration:200,timing:"cubic-bezier(0.33, 0.18, 0.11, 1)",from:"scale(1.25, 1.25)",to:"scale(1.0, 1.0)"},{property:"opacity",delay:0,duration:200,timing:"cubic-bezier(0, 2, 0, 2)",from:0,to:1}]),p(t,{ltr:"0px 50%",rtl:"100% 50%"},[{property:h.cssName,delay:0,duration:250,timing:"cubic-bezier(0.2975, 0.7325, 0.4725, 0.99)",from:"rotateX(80deg) translate(0px, -100px)",to:"rotateX(0deg) translate(0px, 0px)"},{property:"opacity",delay:0,duration:250,timing:"cubic-bezier(0, 2, 0, 2)",from:0,to:1}])]).then(function(){s("continuumBackwardIn,StopTM")})},continuumBackwardOut:function(n){return s("continuumBackwardOut,StartTM"),e.executeTransition(n,[{property:h.cssName,delay:0,duration:167,timing:"cubic-bezier(0.3825,0.0025,0.8775,-0.1075)",from:"scale(1.0, 1.0)",to:"scale(0.5, 0.5)"},{property:"opacity",delay:0,duration:167,timing:"cubic-bezier(1,-0.42,0.995,-0.425)",from:1,to:0}]).then(function(){s("continuumBackwardOut,StopTM")})},drillInIncoming:function(n){return s("drillInIncoming,StartTM"),e.executeTransition(n,[{property:h.cssName,delay:0,duration:500,timing:"cubic-bezier(0.1,0.9,0.2,1)",from:"scale(0.84)",to:"scale(1.0)"},{property:"opacity",delay:0,duration:500,timing:"cubic-bezier(0.1,0.9,0.2,1)",from:0,to:1}]).then(function(){s("drillInIncoming,StopTM")})},drillInOutgoing:function(n){return s("drillInOutgoing,StartTM"),e.executeTransition(n,[{property:h.cssName,delay:0,duration:233,timing:"cubic-bezier(0.1,0.9,0.2,1)",from:"scale(1.0)",to:"scale(1.29)"},{property:"opacity",delay:0,duration:233,timing:"cubic-bezier(0.1,0.9,0.2,1)",from:1,to:0}]).then(function(){s("drillInOutgoing,StopTM")})},drillOutIncoming:function(n){return s("drillOutIncoming,StartTM"),e.executeTransition(n,[{property:h.cssName,delay:0,duration:500,timing:"cubic-bezier(0.1,0.9,0.2,1)",from:"scale(1.29)",to:"scale(1.0)"},{property:"opacity",delay:0,duration:500,timing:"cubic-bezier(0.1,0.9,0.2,1)",from:0,to:1}]).then(function(){s("drillOutIncoming,StopTM")})},drillOutOutgoing:function(n){return s("drillOutOutgoing,StartTM"),e.executeTransition(n,[{property:h.cssName,delay:0,duration:233,timing:"cubic-bezier(0.1,0.9,0.2,1)",from:"scale(1.0)",to:"scale(0.84)"},{property:"opacity",delay:0,duration:233,timing:"cubic-bezier(0.1,0.9,0.2,1)",from:1,to:0}]).then(function(){s("drillOutOutgoing,StopTM")})},createPageNavigationAnimations:function(){function t(){return o.wrap()}return{exit:t,entrance:n.enterPage}},_resizeTransition:function(n,t,i){var u,f,r,s;if(i.to!==i.from&&e.isAnimationEnabled()){for(u=nt(n,t,i),f=[],r=0,s=u.length;r<s;r++)f.push(b(u[r].element,u[r].transition));return o.join(f)}return o.as()},_commandingSurfaceOpenAnimation:function(n){var tt,u,f,it,p;if(!e.isAnimationEnabled())return o.as();var rt=n.actionAreaClipper,s=n.actionArea,c=n.overflowAreaClipper,l=n.overflowArea,w=n.oldHeight,a=n.newHeight,k=n.overflowAreaHeight,v=n.menuPositionedAbove,y=a-w,i=[],d=g().defaultResizeGrowTransition;for(v?(s.style[h.scriptName]="translateY("+y+"px)",t.getComputedStyle(s).opacity,tt=r._merge(d,{to:"translateY(0px)"}),i.push({element:s,transition:tt})):i=nt(rt,s,{from:w,to:a,actualSize:a,dimension:"height",anchorTrailingEdge:!1}),c.style[h.scriptName]="translateY("+(v?y:-y)+"px)",l.style[h.scriptName]="translateY("+(v?k:-k)+"px)",t.getComputedStyle(c).opacity,t.getComputedStyle(l).opacity,u=[],f=0,it=i.length;f<it;f++)u.push(b(i[f].element,i[f].transition));return p=r._merge(d,{to:"translateY(0px)"}),u.push(b(c,p)),u.push(b(l,p)),o.join(u)},_commandingSurfaceCloseAnimation:function(n){var d,u,f,tt,it,rt;if(!e.isAnimationEnabled())return o.as();var ut=n.actionAreaClipper,s=n.actionArea,c=n.overflowAreaClipper,l=n.overflowArea,a=n.oldHeight,w=n.newHeight,k=n.overflowAreaHeight,v=n.menuPositionedAbove,y=w-a,i=[],p=g().defaultResizeShrinkTransition;for(v?(s.style[h.scriptName]="translateY(0px)",t.getComputedStyle(s).opacity,d=r._merge(p,{to:"translateY("+-y+"px)"}),i.push({element:s,transition:d})):i=nt(ut,s,{from:a,to:w,actualSize:a,dimension:"height",anchorTrailingEdge:!1}),c.style[h.scriptName]="translateY(0px)",l.style[h.scriptName]="translateY(0px)",t.getComputedStyle(c).opacity,t.getComputedStyle(l).opacity,u=[],f=0,tt=i.length;f<tt;f++)u.push(b(i[f].element,i[f].transition));return it=r._merge(p,{to:"translateY("+(v?-y:y)+"px)"}),rt=r._merge(p,{to:"translateY("+(v?k:-k)+"px)"}),u.push(b(c,it)),u.push(b(l,rt)),o.join(u)}})}),t("WinJS/Binding/_BindingParser",["exports","../Core/_Base","../Core/_BaseUtils","../Core/_ErrorFromName","../Core/_Log","../Core/_Resources","../Core/_WriteProfilerMark","../ControlProcessor/_OptionsLexer","../ControlProcessor/_OptionsParser"],function(n,t,i,r,u,f,e,o,s){"use strict";function v(n,t){e("WinJS.Binding:bindingParser,StartTM");var i=h.lexer(n),r=new c.BindingInterpreter(i,n,t||{}),u=r.run();return e("WinJS.Binding:bindingParser,StopTM"),u}function y(n){e("WinJS.Binding:bindingParser,StartTM");var t=h.lexer(n),i=new c.BindingParser(t,n),r=i.run();return e("WinJS.Binding:bindingParser,StopTM"),r}var l={get invalidBinding(){return"Invalid binding:'{0}'. Expected to be '<destProp>:<sourceProp>;'. {1}"},get bindingInitializerNotFound(){return"Initializer not found:'{0}'"}},h=t.Namespace.defineWithParent(null,null,{lexer:t.Namespace._lazy(function(){return o._optionsLexer}),tokenType:t.Namespace._lazy(function(){return o._optionsLexer.tokenType})}),a=i.requireSupportedForProcessing,c=t.Namespace.defineWithParent(null,null,{BindingInterpreter:t.Namespace._lazy(function(){return t.Class.derive(s.optionsParser._BaseInterpreter,function(n,t,i){this._initialize(n,t,i)},{_error:function(n){throw new r("WinJS.Binding.ParseError",f._formatString(l.invalidBinding,this._originalSource,n));},_evaluateInitializerName:function(){if(this._current.type===h.tokenType.identifier){var n=this._evaluateIdentifierExpression();return u.log&&!n&&u.log(f._formatString(l.bindingInitializerNotFound,this._originalSource),"winjs binding","error"),a(n)}return},_evaluateValue:function(){switch(this._current.type){case h.tokenType.stringLiteral:case h.tokenType.numberLiteral:var n=this._current.value;return this._read(),n;default:this._unexpectedToken(h.tokenType.stringLiteral,h.tokenType.numberLiteral);return}},_readBindDeclarations:function(){for(var n=[];;)switch(this._current.type){case h.tokenType.identifier:case h.tokenType.thisKeyword:n.push(this._readBindDeclaration());break;case h.tokenType.semicolon:this._read();break;case h.tokenType.eof:return n;default:this._unexpectedToken(h.tokenType.identifier,h.tokenType.semicolon,h.tokenType.eof);return}},_readBindDeclaration:function(){var i=this._readDestinationPropertyName(),n,t;return this._read(h.tokenType.colon),n=this._readSourcePropertyName(),t=this._evaluateInitializerName(),{destination:i,source:n,initializer:t}},_readDestinationPropertyName:function(){return this._readIdentifierExpression()},_readSourcePropertyName:function(){return this._readIdentifierExpression()},run:function(){return this._readBindDeclarations()}},{supportedForProcessing:!1})}),BindingParser:t.Namespace._lazy(function(){return t.Class.derive(c.BindingInterpreter,function(n,t){this._initialize(n,t,{})},{_readInitializerName:function(){if(this._current.type===h.tokenType.identifier)return this._readIdentifierExpression()},_readBindDeclaration:function(){var i=this._readDestinationPropertyName(),n,t;return this._read(h.tokenType.colon),n=this._readSourcePropertyName(),t=this._readInitializerName(),{destination:i,source:n,initializer:t}}},{supportedForProcessing:!1})})});t.Namespace._moduleDefine(n,"WinJS.Binding",{_bindingParser:v,_bindingParser2:y})}),t("WinJS/Binding/_DomWeakRefTable",["exports","../Core/_Global","../Core/_WinRT","../Core/_Base","../Core/_BaseUtils","../Scheduler"],function(n,t,i,r,u,f){"use strict";function v(){var t,r,n,u,i;for(s===0&&(o=0),t=Object.keys(e),r=Date.now()-l,n=0,u=t.length;n<u;n++)i=t[n],e[i].time<r&&delete e[i];y()}function p(){t.Debug&&t.Debug.debuggerEnabled&&h||o||(s===0?(f.schedule(v,f.Priority.idle,null,"WinJS.Utilities._DOMWeakRefTable.cleanup"),o=1):o=t.setInterval(v,s))}function y(){t.Debug&&t.Debug.debuggerEnabled&&h||(s===0?o||Object.keys(e).length!==0&&(f.schedule(v,f.Priority.idle,null,"WinJS.Utilities._DOMWeakRefTable.cleanup"),o=1):o&&Object.keys(e).length===0&&(t.clearInterval(o),o=0))}function w(n,t){return e[t]={element:n,time:Date.now()},p(),t}function b(n){var r,i;return a?(i=e[n],i?i.element:t.document.getElementById(n)):(r=t.document.getElementById(n),r?(delete e[n],y()):(i=e[n],i&&(i.time=Date.now(),r=i.element)),r)}var c;if(i.Windows.Foundation.Uri&&i.msSetWeakWinRTProperty&&i.msGetWeakWinRTProperty){c=new i.Windows.Foundation.Uri("about://blank");r.Namespace._moduleDefine(n,"WinJS.Utilities",{_createWeakRef:function(n,t){return i.msSetWeakWinRTProperty(c,t,n),t},_getWeakRefElement:function(n){return i.msGetWeakWinRTProperty(c,n)}});return}var s=500,l=1e3,e={},o,h=!0,a=!1;r.Namespace._moduleDefine(n,"WinJS.Utilities",{_DOMWeakRefTable_noTimeoutUnderDebugger:{get:function(){return h},set:function(n){h=n}},_DOMWeakRefTable_sweepPeriod:{get:function(){return s},set:function(n){s=n}},_DOMWeakRefTable_timeout:{get:function(){return l},set:function(n){l=n}},_DOMWeakRefTable_tableSize:{get:function(){return Object.keys(e).length}},_DOMWeakRefTable_fastLoadPath:{get:function(){return a},set:function(n){a=n}},_createWeakRef:w,_getWeakRefElement:b})}),t("WinJS/Binding/_Data",["exports","../Core/_WinRT","../Core/_Base","../Core/_BaseUtils","../Core/_ErrorFromName","../Core/_Log","../Core/_Resources","../Promise","../Scheduler","./_DomWeakRefTable"],function(n,t,i,r,u,f,e,o,s,h){"use strict";var a={get exceptionFromBindingInitializer(){return"Exception thrown from binding initializer: {0}"},get propertyIsUndefined(){return"{0} is undefined"},get unsupportedDataTypeForBinding(){return"Unsupported data type"}},v={_listeners:null,_pendingNotifications:null,_notifyId:0,_getObservable:function(){return this},_cancel:function(n){var r=this._pendingNotifications,f=!1,u,t,i;if(r)for(u=Object.keys(r),t=u.length-1;t>=0;t--)i=r[u[t]],i.target===n&&(i.promise&&(i.promise.cancel(),i.promise=null),delete r[u[t]],f=!0);return f},notify:function(n,t,i){var u=this._listeners&&this._listeners[n],r;if(u){r=this;r._cancel(n);r._pendingNotifications=r._pendingNotifications||{};var c=r._notifyId++,h=r._pendingNotifications[c]={target:n},l=function(){delete r._pendingNotifications[c]};return h.promise=s.schedulePromiseNormal(null,"WinJS.Binding.observableMixin.notify").then(function(){for(var n=0,r=u.length;n<r&&h.promise;n++)try{u[n](t,i)}catch(o){f.log&&f.log(e._formatString(a.exceptionFromBindingInitializer,o.toString()),"winjs binding","error")}return l(),t}),h.promise}return o.as()},bind:function(n,t){var i,u,r,f;for(this._listeners=this._listeners||{},i=this._listeners[n]=this._listeners[n]||[],u=!1,r=0,f=i.length;r<f;r++)if(i[r]===t){u=!0;break}return u||(i.push(t),t(p(this[n]))),this},unbind:function(n,t){var i,f,r,o,u,e;if(this._listeners=this._listeners||{},n&&t){if(i=this._listeners[n],i){for(r=0,o=i.length;r<o;r++)i[r]!==t&&(f=f||[]).push(i[r]);this._listeners[n]=f}}else n?(this._cancel(n),delete this._listeners[n]):(u=this,u._pendingNotifications&&(e=u._pendingNotifications,u._pendingNotifications={},Object.keys(e).forEach(function(n){var t=e[n];t.promise&&t.promise.cancel()})),this._listeners={});return this}},c={_backingData:null,_initObservable:function(n){this._backingData=n||{}},getProperty:function(n){var t=this._backingData[n];return f.log&&t===undefined&&f.log(e._formatString(a.propertyIsUndefined,n),"winjs binding","warn"),l(t)},setProperty:function(n,t){return this.updateProperty(n,t),this},addProperty:function(n,t){return this[n]||Object.defineProperty(this,n,{get:function(){return this.getProperty(n)},set:function(t){this.setProperty(n,t)},enumerable:!0,configurable:!0}),this.setProperty(n,t)},updateProperty:function(n,t){var r=this._backingData[n],i=p(t);return r!==i&&(this._backingData[n]=i,this._backingData[n]===i)?this.notify(n,i,r):o.as()},removeProperty:function(n){var t=this._backingData[n],i;try{delete this._backingData[n]}catch(r){}try{delete this[n]}catch(r){}return this.notify(n,i,t),this}};Object.keys(v).forEach(function(n){c[n]=v[n]});var d=function(n,t){return k(n,t)},g=0,w=function(){return"bindHandler"+g++},b=function(n,i){if(!t.msGetWeakWinRTProperty)return n;var r=w();return h._getWeakRefElement(i)[r]=n,function(n,t){var u=h._getWeakRefElement(i);u&&u[r](n,t)}},k=function(n,t,i){function o(){r&&r.forEach(function(n){n.source.unbind(n.prop,n.listener)});r=null}function e(n){u[n]&&(u[n].complexBind.cancel(),delete u[n])}var f,u,r;return(n=l(n),!n)?{cancel:function(){},empty:!0}:(i||(i=w(),f={},h._createWeakRef(f,i)),u={},r=null,Object.keys(t).forEach(function(o){var s=t[o],h;s instanceof Function?(s=b(s,i),s.bindState=f,r=r||[],r.push({source:n,prop:o,listener:s}),n.bind(o,s)):(h=function(n){var t,r;e(o);t=k(l(n),s,i);t.empty&&(r=function(n){Object.keys(n).forEach(function(t){var i=n[t];i instanceof Function?i(undefined,undefined):r(i)})},r(s));u[o]={source:n,complexBind:t}},h=b(h,i),h.bindState=f,r=r||[],r.push({source:n,prop:o,listener:h}),n.bind(o,h))}),{cancel:function(){o();Object.keys(u).forEach(function(n){e(n)})}})},nt=i.Class.mix(function(n){this._initObservable(n);Object.defineProperties(this,y(n))},c),y=function(n){function i(n){t[n]={get:function(){return this.getProperty(n)},set:function(t){this.setProperty(n,t)},enumerable:!0,configurable:!0}}for(var t={};n&&n!==Object.prototype;)Object.keys(n).forEach(i),n=Object.getPrototypeOf(n);return t},tt=function(n){if(!n||typeof n!="object"||n instanceof Date||Array.isArray(n))if(r.validation)throw new u("WinJS.Binding.UnsupportedDataType",e._formatString(a.unsupportedDataTypeForBinding));else return;return i.Class.mix(function(t){this._initObservable(t||Object.create(n))},c,y(n))},l=function(n){var i,t;return n?(i=typeof n,i!=="object"||n instanceof Date||Array.isArray(n)?n:n._getObservable?n._getObservable():(t=new nt(n),t.backingData=n,Object.defineProperty(n,"_getObservable",{value:function(){return t},enumerable:!1,writable:!1}),t)):n},p=function(n){return n&&n.backingData?n.backingData:n};i.Namespace._moduleDefine(n,"WinJS.Binding",{mixin:{value:c,enumerable:!1,writable:!0,configurable:!0},dynamicObservableMixin:{value:c,enumerable:!0,writable:!0,configurable:!0},observableMixin:{value:v,enumerable:!0,writable:!0,configurable:!0},expandProperties:y,define:tt,as:l,unwrap:p,bind:d})}),t("WinJS/Binding/_Declarative",["exports","../Core/_Global","../Core/_WinRT","../Core/_Base","../Core/_BaseUtils","../Core/_ErrorFromName","../Core/_Log","../Core/_Resources","../Core/_WriteProfilerMark","../Promise","../Utilities/_ElementUtilities","./_BindingParser","./_Data","./_DomWeakRefTable"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v){"use strict";function ht(n,t){var i=n._autoDispose;i&&i.push(t)}function ct(n){n._autoDispose=(n._autoDispose||[]).filter(function(n){return n()})}function g(n,t){if(n){if(n.winBindingToken===t)return n;e.log&&e.log(o._formatString(y.duplicateBindingDetected,n.id),"winjs binding","error")}else return n}function nt(n){if(n.winBindingToken)return n.winBindingToken;var t="_win_bind"+st++;return Object.defineProperty(n,"winBindingToken",{configurable:!1,writable:!1,enumerable:!1,value:t}),t}function lt(n,t,i,r,u,f,e){var o=n.initializer,s;if(o&&(o=o.winControl||o["data-win-control"]||o),o instanceof Function)return s=o(r,n.source,u,n.destination),e&&(s&&s.cancel?e.bindings.push(function(){s.cancel()}):e.nocache=!0),s;o&&o.render&&(f.count++,e&&(e.nocache=!0),p(o.render).call(o,w(r,n.source),u).then(function(){f.checkComplete()}))}function at(n,t,i,r,u,f){var c=!0,s,l=!1,h,a,p;return ct(r),h=function(){if(!l){var i=g(v._getWeakRefElement(n),t);return i||(e.log&&e.log(o._formatString(y.elementNotFound,n),"winjs binding","info"),s&&s.cancel()),i}},a=function(n){var t=h();t&&k(t,u.destination,n);c&&(i.checkComplete(),c=!1)},ht(r,h),s=it(r,u.source,a),s&&(p=s.cancel,s.cancel=function(){return l=!0,p.call(s)},f&&f.bindings.push(function(){s.cancel()})),s}function vt(n,i,r,u,f,e,o){var s;if(u!==t&&(u=a.as(u)),u._getObservable&&(s=u._getObservable()),s)return e.count++,at(i,r,e,s,n,o);k(f,n.destination,w(u,n.source))}function ut(n,t){for(var s,r,i=n.length-1;i>=0;i--)if(s=n[i],r=s.destination,r.length===1&&r[0]==="id"){if(u.validation)throw new f("WinJS.Binding.IdBindingNotSupported",o._formatString(y.idBindingNotSupported,t));e.log&&e.log(o._formatString(y.idBindingNotSupported,t),"winjs binding","error");n.splice(i,1)}return n}function yt(n,i){if(i){var u=i.expressions[n],r;return u||(r=ut(l._bindingParser(n,t),n),i.expressions[n]=r),r||(r=u),r}return ut(l._bindingParser(n,t),n)}function pt(n,i,r,u,f,e){var pt,tt,a,wt,o,b,bt,h,it,kt,k,rt,l,g,ut,et,dt,ht,ot;s("WinJS.Binding:processAll,StartTM");var y={count:0,checkComplete:function(){this.count--;this.count===0&&(s("WinJS.Binding:processAll,StopTM"),e())}},w=n||t.document.body,ct="[data-win-bind],[data-win-control]",at=w.querySelectorAll(ct),st;!r&&(w.getAttribute("data-win-bind")||w.winControl)&&(st=w);y.count++;pt=i||t;v._DOMWeakRefTable_fastLoadPath=!0;try{for(tt=c.data(w),tt.winBindings=tt.winBindings||[],a=st?-1:0,wt=at.length;a<wt;a++)if(o=a<0?st:at[a],o.winControl&&o.winControl.constructor&&o.winControl.constructor.isDeclarativeControlContainer&&(a+=o.querySelectorAll(ct).length,b=o.winControl.constructor.isDeclarativeControlContainer,typeof b=="function"&&(b=p(b),b(o.winControl,function(n){return ft(n,i,!1,u,f)}))),o.hasAttribute("data-win-bind")){if(bt=o.getAttribute("data-win-bind"),h=yt(bt,u),!h.implemented){for(it=0,kt=h.length;it<kt;it++)k=h[it],k.initializer=k.initializer||f,k.implementation=k.initializer?lt:vt;h.implemented=!0}for(y.count++,rt=nt(o),l=d?rt:o.id,l||(o.id=l=rt),v._createWeakRef(o,l),g=c.data(o),g.winBindings=null,u&&u.elements&&(ut=u.elements[l],ut||(u.elements[l]=ut={bindings:[]})),et=0,dt=h.length;et<dt;et++)ht=h[et],ot=ht.implementation(ht,l,rt,pt,o,y,ut),ot&&(g.winBindings=g.winBindings||[],g.winBindings.push(ot),tt.winBindings.push(ot));y.count--}}finally{v._DOMWeakRefTable_fastLoadPath=!1}y.checkComplete()}function ft(n,t,i,r,u){return new h(function(f,e,o){pt(n,t,i,r,u,f,e,o)}).then(null,function(n){return e.log&&e.log(o._formatString(y.errorInitializingBindings,n&&n.message),"winjs binding","error"),h.wrapError(n)})}function et(n){var i=function(i,r,u,f,s){var c=nt(u),h=d?c:u.id,tt,l,b;if(h||(u.id=h=c),v._createWeakRef(u,h),i!==t&&(i=a.as(i)),i._getObservable&&(tt=i._getObservable()),tt)return l=it(a.as(i),r,function(t){var i=g(v._getWeakRefElement(h),c);i?k(i,f,n(p(t))):l&&(e.log&&e.log(o._formatString(y.elementNotFound,h),"winjs binding","info"),l.cancel())});b=w(i,r);b!==s&&k(u,f,n(b))};return rt(i)}function w(n,i){if(n!==t&&(n=p(n)),i)for(var r=0,u=i.length;r<u&&n!==null&&n!==undefined;r++)n=p(n[i[r]]);return n}function k(n,i,r){var u,s,f;for(p(r),n=p(n),u=0,s=i.length-1;u<s;u++)if(n=p(n[i[u]]),n){if(n instanceof t.Node){e.log&&e.log(o._formatString(y.nestedDOMElementBindingNotSupported,i[u],i.join(".")),"winjs binding","error");return}}else{e.log&&e.log(o._formatString(y.propertyDoesNotExist,i[u],i.join(".")),"winjs binding","error");return}if(i.length===0){e.log&&e.log(y.cannotBindToThis,"winjs binding","error");return}f=i[i.length-1];e.log&&n[f]===undefined&&e.log(o._formatString(y.creatingNewProperty,f,i.join(".")),"winjs binding","warn");n[f]=r}function tt(n,t,i){if(n=p(n),!t||t.length!==1||!t[0]){e.log&&e.log(y.attributeBindingSingleProperty,"winjs binding","error");return}n.setAttribute(t[0],i)}function wt(n,i,r,u,f){var c=nt(r),s=d?c:r.id,l,k,h,b;if(s||(r.id=s=c),v._createWeakRef(r,s),n!==t&&(n=a.as(n)),n._getObservable&&(l=n._getObservable()),l)return k=0,h=it(l,i,function(n){if(++k!=1||n!==f){var t=g(v._getWeakRefElement(s),c);t?tt(t,u,p(n)):h&&(e.log&&e.log(o._formatString(y.elementNotFound,s),"winjs binding","info"),h.cancel())}}),h;b=w(n,i);b!==f&&tt(r,u,b)}function bt(n,t,i,r){return tt(i,r,w(n,t))}function kt(n,t,i){i=p(i);var r=w(n,t);Array.isArray(r)?r.forEach(function(n){c.addClass(i,n)}):r&&c.addClass(i,r)}function gt(n,t,i,r,u){return dt(n,t,i,r,u)}function it(n,t,i){var f,r,u,e;if(t.length>1){for(f={},r=f,u=0,e=t.length-1;u<e;u++)r=r[t[u]]={};return r[t[t.length-1]]=i,a.bind(n,f,!0)}if(t.length===1)return n.bind(t[0],i,!0),{cancel:function(){n.unbind(t[0],i);this.cancel=ot}};i(n)}function ot(){}function ni(n,t,i,r){return k(i,r,w(n,t)),{cancel:ot}}function b(n){return rt(n)}var st=Math.random()*1e3>>0,d=i.msSetWeakWinRTProperty&&i.msGetWeakWinRTProperty,y={get attributeBindingSingleProperty(){return'Attribute binding requires a single destination attribute name, often in the form "this[\'aria-label\']" or "width".'},get cannotBindToThis(){return"Can't bind to 'this'."},get creatingNewProperty(){return"Creating new property {0}. Full path:{1}"},get duplicateBindingDetected(){return"Binding against element with id {0} failed because a duplicate id was detected."},get elementNotFound(){return"Element not found:{0}"},get errorInitializingBindings(){return"Error initializing bindings: {0}"},get propertyDoesNotExist(){return"{0} doesn't exist. Full path:{1}"},get idBindingNotSupported(){return"Declarative binding to ID field is not supported. Initializer: {0}"},get nestedDOMElementBindingNotSupported(){return"Binding through a property {0} of type HTMLElement is not supported, Full path:{1}."}},rt=u.markSupportedForProcessing,p=u.requireSupportedForProcessing,dt=et(function(n){return n});r.Namespace._moduleDefine(n,"WinJS.Binding",{processAll:ft,oneTime:b(ni),defaultBind:b(gt),converter:et,initializer:b,getValue:w,setAttribute:b(wt),setAttributeOneTime:b(bt),addClassOneTime:b(kt)})}),t("WinJS/Binding",["./Binding/_BindingParser","./Binding/_Data","./Binding/_Declarative","./Binding/_DomWeakRefTable"],function(){}),t("WinJS/BindingTemplate/_DataTemplateCompiler",["exports","../Core/_Global","../Core/_Base","../Core/_BaseUtils","../Core/_ErrorFromName","../Core/_Log","../Core/_Resources","../Core/_WriteProfilerMark","../Binding/_BindingParser","../Binding/_Declarative","../ControlProcessor","../ControlProcessor/_OptionsParser","../Fragments","../Promise","../_Signal","../Utilities/_Dispose","../Utilities/_SafeHtml","../Utilities/_ElementUtilities"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b){"use strict";if(t.document){var k={get attributeBindingSingleProperty(){return'Attribute binding requires a single destination attribute name, often in the form "this[\'aria-label\']" or "width".'},get cannotBindToThis(){return"Can't bind to 'this'."},get idBindingNotSupported(){return"Declarative binding to ID field is not supported. Initializer: {0}"}};i.Namespace._moduleDefine(n,"WinJS.Binding",{_TemplateCompiler:i.Namespace._lazy(function(){function or(n,t,i){var r=b.data(n).bindTokens;r&&r.forEach(function(n){n&&n.cancel&&n.cancel()});t&&t.cancel();i&&i.cancel()}function sr(n,t){return function(i){return h.processAll(i,n,!1,null,t)}}function hr(n){return n=it(n),n instanceof t.Node?null:n}function ot(n,t){var i=n.indexOf("\n")!==-1,r=arguments;return n.replace(ar,function(f,e,o,s,h,c,l){var v,y,a;if(h||c)throw new u("Format:MalformedInputString","Did you forget to escape a: "+(h||c)+" at: "+l);if(e)return"{";if(o)return"}";if(y=+s,v=y===+y?r[y+1]:t[s],v===undefined)throw new u("Format:MissingPart","Missing part '"+s+"'");if(i){for(a=l;a>0&&n[--a]===" ";);a>=0&&n[a]==="\n"&&(v=tt(l-a-1,v))}return v})}function tt(n,t){for(var r="",i=0;i<n;i++)r+=" ";return t.split("\n").map(function(n,t){return t?r+n:n}).join("\n")}function rt(n){return n.trim()}function et(n){return n.join(";\n")}function ri(n){return n.join(", ")||"empty"}function st(t){return t.map(function(t){return t.match(bt)?"."+t:+t===t?ot("[{0}]",t):ot("[{0}]",n(t))}).join("")}function ui(t,i,r,u){var i=i.map(function(t){return t.match(bt)?"."+t:(+t===t&&(t=+t),pr(n(t)))}).map(function(n){return ot("{filter}({temp} = {temp}{part})",{filter:u,temp:r,part:n})});return i.unshift(fi(dt(r,t))),i.push(r),fi(i.join(" && "))}function n(n){return JSON.stringify(n)}function kt(n){return n?"new Array("+ +n+")":"[]"}function dt(n,t){return""+n+" = "+t}function fi(n){return"("+n+")"}function pr(n){return"["+n+"]"}function wr(t){return t.match(bt)?t:+t===t?+t:n(t)}function br(n){return n=""+n,n.replace(cr,function(n){return lr[n]||" "})}function ei(n,t,i){return i?new String(""+n+t+"_"+i):new String(""+n+t)}function oi(n){return n.replace(/\\n/g,"\\n\\\n")}function kr(n){return Object.keys(n)}function si(n){return Object.keys(n).map(function(t){return n[t]})}function hi(n,t){return ci([n,t])}function ci(n){for(var e={},r,u,i,s,f,t=0,o=n.length;t<o;t++)for(r=n[t],u=Object.keys(r),i=0,s=u.length;i<s;i++)f=u[i],e[f]=r[f];return e}function dr(n){return n.reduce(function(n,t){return n?it(n[t]):null},t)}function ht(n,t,i,r){var u=n.children,f,e,s,o,h;if(u){for(f=Object.keys(u),t&&i&&i(n,t,f.length),e=0,s=f.length;e<s;e++)o=f[e],h=u[o],ht(h,o,i,r);t&&r&&r(n,t,Object.keys(u).length)}else t&&i&&i(n,t,0),t&&r&&r(n,t,0)}function ft(n){return n.replace(/^\s*$/gm,"").replace(/^(.*[^\s])( *)$/gm,function(n,t){return t})}var bi=v._cancelBlocker,ni=h.defaultBind,at=h.oneTime,ki=h.setAttribute,vt=h.setAttributeOneTime,ti=h.addClassOneTime,di=v.as,it=r.requireSupportedForProcessing,gi=w.insertAdjacentHTMLUnsafe,nr=b.data,tr=p.markDisposable,ir=c.processAll,rr=h.processAll,ur=l._optionsParser,yt=l._CallExpression,pt=l._IdentifierExpression,fr=s._bindingParser2,er=c.scopedSelect,wt=o,bt=/^[A-Za-z]\w*$/,ii=/[^A-Za-z\w$]/g,cr=/[&<>'"]/g,lr={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},ar=/({{)|(}})|{(\w+)}|({)|(})/g,vr=/^\s*;\s*$/,yr=/[A-Z]/g,ct=i.Class.define(function(n,t,i,r,u){var f=this;this.compiler=n;this.kind=i;this.base=new String(t);this.tree={children:{},parent:this.base,reference:function(){return f.base}};this.accessExpression=r;this.filter=u||""},{createPathExpression:function(n,t){if(n.length){var r=this,i=n.reduce(function(n,t){return n.children=n.children||{},n.children[t]=n.children[t]||{parent:n},n.children[t]},this.tree);return i.name=i.name||r.compiler.defineInstance(r.kind,t||"",function(){return r.accessExpression(i.parent.name?i.parent.name:i.parent.reference(),n.slice(-1)[0],i.parent.parent===r.base,r.filter,!0)}),i.name}return this.base},lower:function(){var n=this,t=[],i=function(t,i,r){return n.accessExpression(t.parent.name?t.parent.name:t.parent.reference(),i,t.parent.parent===n.base,n.filter,r)};ht(this.tree,"",function(r,u,f){t.push(u);f>1?(r.name=r.name||n.compiler.defineInstance(n.kind,t.join("_"),i.bind(null,r,u,!0)),r.reference=function(){return r.name}):f===1&&(r.reference=i.bind(null,r,u))},function(){t.pop()})},deadNodeElimination:function(){ht(this.tree,"",null,function(n,t,i){(!n.name||n.name.dead)&&i===0&&n.parent&&n.parent.children&&delete n.parent.children[t]})},definitions:function(){var n=[];return ht(this.tree,"",function(t){t.name&&n.push(t)}),n.map(function(n){return n.name.definition()})}}),ut={capture:"capture",temporary:"temporary",variable:"variable",data:"data",global:"global"},gr={capture:"c",temporary:"t",variable:"iv",data:"d",global:"g"},gt={imported:"import",variable:"variable"},nu={imported:"i",variable:"sv"},g={tree:"tree",text:"text",initializer:"initializer",template:"template",error:"error"},d={attribute:"attribute",booleanAttribute:"booleanAttribute",inlineStyle:"inlineStyle",textContent:"textContent"},li="imports",nt={initial:0,analyze:1,optimze:2,lower:3,compile:4,link:5,done:6},ai=i.Class.define(function(n,i){if(this._stage=nt.initial,this._staticVariables={},this._staticVariablesCount=0,this._instanceVariables={},this._instanceVariablesCount={},this._debugBreak=i.debugBreakOnRender,this._defaultInitializer=it(i.defaultInitializer||ni),this._optimizeTextBindings=!i.disableTextBindingOptimization,this._templateElement=n,this._templateContent=t.document.createElement(n.tagName),this._extractChild=i.extractChild||!1,this._controls=null,this._bindings=null,this._bindTokens=null,this._textBindingPrefix=null,this._textBindingId=0,this._suffix=[],this._htmlProcessors=[],this._profilerMarkIdentifier=i.profilerMarkIdentifier,this._captureCSE=new ct(this,"container",ut.capture,this.generateElementCaptureAccess.bind(this)),this._dataCSE=new ct(this,"data",ut.data,this.generateNormalAccess.bind(this),this.importFunctionSafe("dataSecurityCheck",it)),this._globalCSE=new ct(this,this.importFunctionSafe("global",t),ut.global,this.generateNormalAccess.bind(this),this.importFunctionSafe("globalSecurityCheck",it)),a.renderCopy(this._templateElement,this._templateContent),this._extractChild)while(this._templateContent.childElementCount>1)this._templateContent.removeChild(this._templateContent.lastElementChild)},{addClassOneTimeTextBinding:function(n){var t=this,i=this.createTextBindingHole(n.elementCapture.element.tagName,"class",++this._textBindingId);n.textBindingId=i;n.kind=g.text;n.elementCapture.element.classList.add(i);n.elementCapture.refCount--;n.definition=function(){return t.formatCode("{htmlEscape}({value})",{htmlEscape:t._staticVariables.htmlEscape,value:n.value()})}},addClassOneTimeTreeBinding:function(n){var t=this;n.pathExpression=this.bindingExpression(n);n.value=function(){return n.pathExpression};n.kind=g.tree;n.definition=function(){return t.formatCode("{element}.classList.add({value})",{element:n.elementCapture,value:n.value()})}},analyze:function(){if(this._stage>nt.analyze)throw"Illegal: once we have moved past analyze we cannot revist it";this._stage=nt.analyze;this._controls=this.gatherControls();this._bindings=this.gatherBindings();this._children=this.gatherChildren();this.cleanControlAndBindingAttributes();this.async&&this.createAsyncParts();this.nullableIdentifierAccessTemporary=this.defineInstance(ut.temporary);var t=this._templateContent.innerHTML;this._html=function(){return oi(n(t))};this._html.text=t},bindingExpression:function(n){return this._dataCSE.createPathExpression(n.source,n.source.join("_"))},capture:function(n){var t=n._capture,u,o,e;if(t)return t.refCount++,t;for(var r=[n],i=n.parentNode,f=n.tagName;i!==this._templateContent;)f=i.tagName+"_"+f,r.unshift(i),i=i.parentNode;for(u=0,o=r.length;u<o;u++)e=r[u],r[u]=Array.prototype.indexOf.call(i.children,e),i=e;return t=this._captureCSE.createPathExpression(r,f.toLowerCase()),t.element=n,t.element._capture=t,t.refCount=1,t},cleanControlAndBindingAttributes:function(){for(var i=this._templateContent.querySelectorAll("[data-win-bind],[data-win-control]"),n,t=0,r=i.length;t<r;t++)n=i[t],n.isDeclarativeControlContainer&&(t+=n.querySelectorAll("[data-win-bind],[data-win-control]").length),n.removeAttribute("data-win-bind"),n.removeAttribute("data-win-control"),n.removeAttribute("data-win-options")},compile:function(t,i,r){var u,s,f,o,e,l;if(this._stage>nt.compile)throw"Illegal: once we have moved past compile we cannot revist it";this._stage=nt.compile;u=this;this._returnedElement=this._extractChild?"container.firstElementChild":"container";s=this._controls.map(function(t){var f,r,i;return f=t.async?"{target}.winControl = {target}.winControl || new {SafeConstructor}({target}, {options}, controlDone)":"{target}.winControl = {target}.winControl || new {SafeConstructor}({target}, {options})",r=u.formatCode(f,{target:t.elementCapture,SafeConstructor:t.SafeConstructor,options:u.generateOptionsLiteral(t.optionsParsed,t.elementCapture)}),t.isDeclarativeControlContainer&&typeof t.isDeclarativeControlContainer.imported=="function"?(i=[r],i.push(u.formatCode("{isDeclarativeControlContainer}({target}.winControl, {delayedControlProcessing})",{target:t.elementCapture,isDeclarativeControlContainer:t.isDeclarativeControlContainer,delayedControlProcessing:u._staticVariables.ui_processAll})),i.push(u.formatCode("{isDeclarativeControlContainer}({target}.winControl, {delayedBindingProcessing}(data, {templateDefaultInitializer}))",{target:t.elementCapture,isDeclarativeControlContainer:t.isDeclarativeControlContainer,delayedBindingProcessing:u._staticVariables.delayedBindingProcessing,templateDefaultInitializer:u._staticVariables.templateDefaultInitializer||n(null)})),i.join(";\n")):r});f=this._bindings.map(function(t){switch(t.kind){case g.template:return u.formatCode("({nestedTemplates}[{nestedTemplate}] = {template}.render({path}, {dest}))",{nestedTemplates:u._nestedTemplates,nestedTemplate:n(t.nestedTemplate),template:t.template,path:t.pathExpression,dest:t.elementCapture});case g.initializer:var i;return i=t.initialValue?"({bindTokens}[{bindToken}] = {initializer}(data, {sourceProperties}, {dest}, {destProperties}, {initialValue}))":"({bindTokens}[{bindToken}] = {initializer}(data, {sourceProperties}, {dest}, {destProperties}))",u.formatCode(i,{bindTokens:u._bindTokens,bindToken:n(t.bindToken),initializer:t.initializer,sourceProperties:n(t.source),destProperties:n(t.destination),dest:t.elementCapture,initialValue:t.initialValue});case g.tree:return t.definition();case g.text:break;case g.error:break;default:throw"NYI";}});r?(o=f.filter(function(n,t){return!u._bindings[t].delayable}),e=f.filter(function(n,t){return u._bindings[t].delayable})):(o=f,e=[]);var h=si(this._instanceVariables),a=h.filter(function(n){return n.kind===ut.variable}).map(function(n){return n.definition()}),v=this._captureCSE.definitions(),y=this._globalCSE.definitions(),p=this._dataCSE.definitions(),w=this._children.map(function(n){return u.formatCodeN("{0}.msParentSelectorScope = true",n)}),b=this._suffix.map(function(n){return n()}),c="";return r&&e.length&&(c=u.formatCode(uu,{delayed_binding_processing:et(e)})),l=u.formatCode(t,ci([this._staticVariables,i||{},{profilerMarkIdentifierStart:n("WinJS.Binding.Template:render"+this._profilerMarkIdentifier+",StartTM"),profilerMarkIdentifierStop:n("WinJS.Binding.Template:render"+this._profilerMarkIdentifier+",StopTM"),html:this._html(),tagName:n(this._templateElement.tagName),instance_variable_declarations:ri(h),global_definitions:et(y),data_definitions:et(p),instance_variable_definitions:et(a),capture_definitions:et(v),set_msParentSelectorScope:et(w),debug_break:this.generateDebugBreak(),control_processing:et(s),control_counter:this._controlCounter,binding_processing:et(o),renderComplete:c,suffix_statements:et(b),nestedTemplates:this._nestedTemplates,returnedElement:this._returnedElement},])),this.prettify(l)},createAsyncParts:function(){this._nestedTemplates=this._nestedTemplates||this.defineInstance(ut.variable,"nestedTemplates",function(){return kt(0)});this._controlCounter=this._controlCounter||this.defineInstance(ut.variable,"controlCounter",function(){return n(1)})},createTextBindingHole:function(n,t,i){var r,u;if(!this._textBindingPrefix){for(r="";this._html.text.indexOf("textbinding"+r)!==-1;)r=r||0,r++;this._textBindingPrefix="textbinding"+r;this._textBindingRegex=new RegExp("(#?"+this._textBindingPrefix+"_\\d+)")}return u=this._textBindingPrefix+"_"+i,n==="IMG"&&t==="src"&&(u="#"+u),u},deadCodeElimination:function(){var n=this;Object.keys(this._instanceVariables).forEach(function(t){var i=n._instanceVariables[t];i.kind===ut.capture&&(n._templateContent.contains(i.element)||(i.dead=!0),i.refCount===0&&(i.dead=!0),i.dead&&(i.definition=function(){},i.name=null,delete n._instanceVariables[t]))});this._controls=this._controls.filter(function(n){return!n.elementCapture.dead});this._bindings=this._bindings.filter(function(n){return!n.elementCapture.dead});this._captureCSE.deadNodeElimination()},defineInstance:function(n,t,i){if(this._stage>=nt.compile)throw"Illegal: define instance variable after compilation stage has started";var u=this._instanceVariablesCount[n]||0,f=t?t.replace(ii,"_"):"",r=ei(gr[n],u,f);return r.definition=function(){return dt(r,i())},r.kind=n,this._instanceVariables[r]=r,this._instanceVariablesCount[n]=u+1,r},defineStatic:function(n,t,i){var u,f,r;if(this._stage>=nt.link)throw"Illegal: define static variable after link stage has started";return t&&(u=this._staticVariables[t],u)?u:(f=t?t.replace(ii,"_"):"",r=ei(nu[n],this._staticVariablesCount,f),r.definition=function(){return dt(r,i())},r.kind=n,this._staticVariables[t||r]=r,this._staticVariablesCount++,r)},done:function(){if(this._stage>nt.done)throw"Illegal: once we have moved past done we cannot revist it";this._stage=nt.done},emitScopedSelect:function(t,i){return this.formatCode("{scopedSelect}({selector}, {element})",{scopedSelect:this._staticVariables.scopedSelect,selector:n(t),element:i})},emitOptionsNode:function(t,i,r){var o=this,u,e,f;if(t)switch(typeof t){case"object":if(Array.isArray(t)){for(i.push("["),u=0,e=t.length;u<e;u++)this.emitOptionsNode(t[u],i,r),i.push(",");i.push("]")}else t instanceof yt?i.push(t.target==="select"?this.emitScopedSelect(t.arg0Value,r):n(null)):t instanceof pt&&t.parts[0]instanceof yt?(f=t.parts[0],i.push(ui(f.target==="select"?this.emitScopedSelect(f.arg0Value,r):n(null),t.parts.slice(1),this.nullableIdentifierAccessTemporary,this.importFunctionSafe("requireSupportedForProcessing",it)))):t instanceof pt?i.push(t.pathExpression):(i.push("{"),Object.keys(t).forEach(function(n){i.push(wr(n));i.push(":");o.emitOptionsNode(t[n],i,r);i.push(",")}),i.push("}"));break;default:i.push(n(t))}else i.push(n(null))},findGlobalIdentifierExpressions:function(n,t){t=t||[];var i=this;return Object.keys(n).forEach(function(r){var u=n[r];typeof u=="object"&&(u instanceof pt?u.parts[0]instanceof yt||t.push(u):i.findGlobalIdentifierExpressions(u,t))}),t},formatCodeN:function(){if(this._stage<nt.compile)throw"Illegal: format code at before compilation stage has started";return ot.apply(null,arguments)},formatCode:function(n,t){if(this._stage<nt.compile)throw"Illegal: format code at before compilation stage has started";return ot(n,t)},gatherBindings:function(){for(var u=-1,n=this,f=-1,e=[],l="[data-win-bind],[data-win-control]",a=this._templateContent.querySelectorAll(l),i,o,s,h,c,r=0,v=a.length;r<v;r++)(i=a[r],i.isDeclarativeControlContainer&&(r+=i.querySelectorAll(l).length),i.hasAttribute("data-win-bind"))&&(o=i.getAttribute("data-win-bind"),s=fr(o,t),s.forEach(function(t){if(t.initializer){var e=t.initializer.join("."),r=dr(t.initializer);r.render?(it(r.render),t.template=n.importFunctionSafe(e,r),t.pathExpression=n.bindingExpression(t),t.nestedTemplate=++f,t.kind=g.template):r.winControl&&r.winControl.render?(it(r.winControl.render),t.template=n.importFunctionSafe(e,r.winControl),t.pathExpression=n.bindingExpression(t),t.nestedTemplate=++f,t.kind=g.template):(t.initializer=n.importFunction(e,r),t.bindToken=++u,t.kind=g.initializer)}else t.initializer=n.importFunctionSafe("templateDefaultInitializer",n._defaultInitializer),t.bindToken=++u,t.kind=g.initializer;t.elementCapture=n.capture(i);t.bindingText=o}),e.push.apply(e,s));return h=f+1,h>0&&(this.async=!0,this._nestedTemplates=this.defineInstance(ut.variable,"nestedTemplates",function(){return kt(h)})),c=u+1,c>0&&(this._bindTokens=this.defineInstance(ut.variable,"bindTokens",function(){return kt(c)}),this._suffix.push(function(){return n.formatCode("{utilities_data}(returnedElement).bindTokens = {bindTokens}",{utilities_data:n._staticVariables.utilities_data,bindTokens:n._bindTokens})})),e},gatherChildren:function(){var n=this;return Array.prototype.map.call(this._templateContent.children,function(t){return n.capture(t)})},gatherControls:function(){for(var b=this,s=0,a=[],v="[data-win-control]",y=this._templateContent.querySelectorAll(v),h,c,i,l,w,u=0,p=y.length;u<p;u++){var f=y[u],e=f.getAttribute("data-win-control"),o=r._getMemberFiltered(e.trim(),t,it);o&&(h=f.getAttribute("data-win-options")||n({}),c=o.length>2,c&&(s++,this.async=!0),i=o.isDeclarativeControlContainer,i&&(typeof i=="function"&&(i=this.importFunction(e+"_isDeclarativeControlContainer",i)),f.isDeclarativeControlContainer=i,u+=f.querySelectorAll(v).length),l={elementCapture:this.capture(f),name:e,SafeConstructor:this.importFunctionSafe(e,o),async:c,optionsText:n(h),optionsParsed:ur(h),isDeclarativeControlContainer:i},a.push(l),w=this.findGlobalIdentifierExpressions(l.optionsParsed),w.forEach(function(n){n.pathExpression=b.globalExpression(n.parts)}))}return s>0&&(this._controlCounter=this.defineInstance(ut.variable,"controlCounter",function(){return n(s+1)})),a},generateElementCaptureAccess:function(n,t,i){if(i){var r=""+t=="0"?"":" + "+t;return this.formatCodeN("{0}.children[startIndex{1}]",n,r)}return this.formatCodeN("{0}.children[{1}]",n,t)},generateNormalAccess:function(n,t,i,r,u){var f;return n.indexOf(this.nullableIdentifierAccessTemporary)>=0?(f=u?"{left} && {filter}({temp}{right})":"{left} && ({temp} = {filter}({temp}{right}))",this.formatCode(f,{temp:this.nullableIdentifierAccessTemporary,left:n,right:st([t]),filter:r})):(f=u?"({temp} = {left}) && {filter}({temp}{right})":"({temp} = {left}) && ({temp} = {filter}({temp}{right}))",this.formatCode(f,{temp:this.nullableIdentifierAccessTemporary,left:n,right:st([t]),filter:r}))},generateOptionsLiteral:function(n,t){var i=[];return this.emitOptionsNode(n,i,t),i.join(" ")},generateDebugBreak:function(){if(this._debugBreak){var t=this.defineStatic(gt.variable,"debugCounter",function(){return n(0)});return this.formatCodeN("if (++{0} === 1) {{ debugger; }}",t)}return""},globalExpression:function(n){return this._globalCSE.createPathExpression(n,n.join("_"))},importFunction:function(n,t){return this.importFunctionSafe(n,it(t))},importFunctionSafe:function(n,t){var r=this,i=this.defineStatic(gt.imported,n,function(){return r.formatCodeN("({0}{1})",li,st([n]))});if(i.imported&&i.imported!==t)throw"Duplicate import: '"+n+"'";return i.imported=t,i},importAll:function(n){return Object.keys(n).forEach(function(t){it(n[t])}),this.importAllSafe(n)},importAllSafe:function(n){var t=this;return Object.keys(n).reduce(function(i,r){return i[r]=t.importFunctionSafe(r,n[r]),i},{})},link:function(n){if(this._stage>nt.link)throw"Illegal: once we have moved past link we cannot revist it";this._stage=nt.link;var t=this,r=kr(this._staticVariables).filter(function(n){return t._staticVariables[n].kind===gt.imported}).reduce(function(n,i){return n[i]=t._staticVariables[i].imported,n},{}),i=si(this._staticVariables);return new Function(li,this.formatCode(eu,{static_variable_declarations:ri(i),static_variable_definitions:et(i.map(function(n){return n.definition()})),body:n.trim()}))(r)},lower:function(){if(this._stage>nt.lower)throw"Illegal: once we have moved past lower we cannot revist it";this._stage=nt.lower;this._captureCSE.lower();this._dataCSE.lower();this._globalCSE.lower()},markBindingAsError:function(n){n&&(n.kind=g.error,this.markBindingAsError(n.original))},oneTimeTextBinding:function(t){var e=this,u=this.oneTimeTextBindingAnalyze(t),f,r,i,o;if(u){t.original&&(f=t.original.initialValue);r=this.createTextBindingHole(t.elementCapture.element.tagName,u.attribute,++this._textBindingId);t.textBindingId=r;t.kind=g.text;t.elementCapture.refCount--;t.definition=function(){var n;return n=f?"{htmlEscape}({initialValue})":"{htmlEscape}({getter})",e.formatCode(n,{htmlEscape:e._staticVariables.htmlEscape,getter:t.value(),initialValue:f})};switch(u.kind){case d.attribute:t.elementCapture.element.setAttribute(u.attribute,r);break;case d.booleanAttribute:t.elementCapture.element.setAttribute(u.attribute,r);t.definition=function(){var i;return i=f?'({initialValue} ? {attribute} : "")':'({value} ? {attribute} : "")',e.formatCode(i,{value:t.value(),attribute:n(u.attribute),initialValue:f})};this._htmlProcessors.push(function(n){return n.replace(new RegExp(u.attribute+'="'+r+'"',"i"),r)});break;case d.textContent:t.elementCapture.element.textContent=r;break;case d.inlineStyle:i=t.elementCapture.element;i.msReplaceStyle||(i.msReplaceStyle=i.getAttribute("style")||"",i.msReplaceStyle!==""&&i.msReplaceStyle[i.msReplaceStyle.length-1]!==";"&&(i.msReplaceStyle=i.msReplaceStyle+";"),i.setAttribute("style","msReplaceStyle:'"+r+"'"),o=i.getAttribute("style"),this._htmlProcessors.push(function(n){return n.replace(o,i.msReplaceStyle)}));i.msReplaceStyle=i.msReplaceStyle+u.property+":"+r+";";break;default:throw"NYI";}}},oneTimeTextBindingAnalyze:function(n){var r=n.elementCapture.element,f=r.tagName,t=n.destination[0],i,u;switch(f){case"A":switch(t){case"href":return{kind:d.attribute,attribute:t}}break;case"IMG":switch(t){case"alt":case"src":case"width":case"height":return{kind:d.attribute,attribute:t}}break;case"SELECT":switch(t){case"disabled":case"multiple":case"required":return{kind:d.booleanAttribute,attribute:t};case"size":return{kind:d.attribute,attribute:t}}break;case"OPTION":switch(t){case"label":case"value":return{kind:d.attribute,attribute:t};case"disabled":case"selected":return{kind:d.booleanAttribute,attribute:t}}break;case"INPUT":switch(t){case"checked":switch(r.type){case"checkbox":case"radio":return{kind:d.booleanAttribute,attribute:t}}break;case"disabled":return{kind:d.booleanAttribute,attribute:t};case"max":case"maxLength":case"min":case"step":case"value":return{kind:d.attribute,attribute:t};case"size":switch(r.type){case"text":case"search":case"tel":case"url":case"email":case"password":return{kind:d.attribute,attribute:t}}break;case"readOnly":switch(r.type){case"hidden":case"range":case"color":case"checkbox":case"radio":case"file":case"button":break;default:return{kind:d.booleanAttribute,attribute:t}}}break;case"BUTTON":switch(t){case"disabled":return{kind:d.booleanAttribute,attribute:t};case"value":return{kind:d.attribute,attribute:t}}break;case"TEXTAREA":switch(t){case"disabled":case"readOnly":case"required":return{kind:d.booleanAttribute,attribute:t};case"cols":case"maxLength":case"placeholder":case"rows":case"wrap":return{kind:d.attribute,attribute:t}}}switch(t){case"className":return{kind:d.attribute,attribute:"class"};case"dir":case"lang":case"name":case"title":case"tabIndex":return{kind:d.attribute,attribute:t};case"style":if(n.destination.length>1){if(i=n.destination[1],i==="cssText")return;if(u=typeof r.style[i]=="string",u)return(i[0]==="m"&&i[1]==="s"||i.substring(0,6)==="webkit")&&(i="-"+i),i=i.replace(yr,function(n){return"-"+n.toLowerCase()}),{kind:d.inlineStyle,property:i,attribute:"style"}}break;case"innerText":case"textContent":return{kind:d.textContent,attribute:"textContent"}}},oneTimeTreeBinding:function(n){if(n.destination.length===1&&n.destination[0]==="id"){if(r.validation)throw new u("WinJS.Binding.IdBindingNotSupported",e._formatString(k.idBindingNotSupported,n.bindingText));f.log&&f.log(e._formatString(k.idBindingNotSupported,n.bindingText),"winjs binding","error");this.markBindingAsError(n);return}if(n.destination.length===0){f.log&&f.log(k.cannotBindToThis,"winjs binding","error");this.markBindingAsError(n);return}var i=this,t;n.pathExpression=this.bindingExpression(n);n.value=function(){return n.pathExpression};n.original&&(t=n.pathExpression,n.original.initialValue=t);n.kind=g.tree;n.definition=function(){var r;return r=t?"({targetPath} || {{}}){prop} = {initialValue}":"({targetPath} || {{}}){prop} = {sourcePath}",i.formatCode(r,{targetPath:ui(n.elementCapture,n.destination.slice(0,-1),i.nullableIdentifierAccessTemporary,i.importFunctionSafe("targetSecurityCheck",hr)),prop:st(n.destination.slice(-1)),sourcePath:n.value(),initialValue:t})}},optimize:function(){var r,f,e,u,i,t;if(this._stage>nt.optimze)throw"Illegal: once we have moved past link we cannot revist it";for(this._stage=nt.optimze,i=0;i<this._bindings.length;i++)if(t=this._bindings[i],!t.template)switch(t.initializer.imported){case ni:r=hi(t,{kind:g.tree,initializer:this.importFunctionSafe("init_oneTime",at),original:t});r.elementCapture.refCount++;this.oneTimeTreeBinding(r);this._bindings.splice(i,0,r);t.delayable=!0;i++;break;case ki:r=hi(t,{kind:g.tree,initializer:this.importFunctionSafe("init_setAttributeOneTime",vt),original:t});r.elementCapture.refCount++;this.setAttributeOneTimeTreeBinding(r);this._bindings.splice(i,0,r);t.delayable=!0;i++;break;case at:this.oneTimeTreeBinding(t);break;case vt:this.setAttributeOneTimeTreeBinding(t);break;case ti:this.addClassOneTimeTreeBinding(t);break;default:t.initializer&&(t.delayable=!!t.initializer.imported.delayable)}if(this._optimizeTextBindings){for(f={},i=0;i<this._bindings.length;i++)if((t=this._bindings[i],!t.template)&&t.kind!==g.error){switch(t.initializer.imported){case at:this.oneTimeTextBinding(t);break;case vt:this.setAttributeOneTimeTextBinding(t);break;case ti:this.addClassOneTimeTextBinding(t)}t.textBindingId&&(f[t.textBindingId]=t)}if(Object.keys(f).length){for(e=this._templateContent.innerHTML,e=this._htmlProcessors.reduce(function(n,t){return t(n)},e),u=e.split(this._textBindingRegex),i=1;i<u.length;i+=2)t=f[u[i]],u[i]=t.definition;this._html=function(){var t=u.map(function(t){return typeof t=="string"?n(t):t()}).join(" + ");return oi(t)}}}},prettify:function(n){var t=n.split("\n");return t.filter(function(n){return!vr.test(n)}).join("\n")},setAttributeOneTimeTextBinding:function(n){var i=this,r=n.destination[0],u=this.createTextBindingHole(n.elementCapture.element.tagName,r,++this._textBindingId),t;n.original&&(t=n.original.initialValue);n.textBindingId=u;n.kind=g.text;n.elementCapture.element.setAttribute(r,u);n.elementCapture.refCount--;n.definition=function(){var r;return r=t?"{htmlEscape}({initialValue})":"{htmlEscape}({value})",i.formatCode(r,{htmlEscape:i._staticVariables.htmlEscape,initialValue:t,value:n.value()})}},setAttributeOneTimeTreeBinding:function(t){if(t.destination.length===1&&t.destination[0]==="id"){if(r.validation)throw new u("WinJS.Binding.IdBindingNotSupported",e._formatString(k.idBindingNotSupported,t.bindingText));f.log&&f.log(e._formatString(k.idBindingNotSupported,t.bindingText),"winjs binding","error");this.markBindingAsError(t);return}if(t.destination.length!==1||!t.destination[0]){f.log&&f.log(k.attributeBindingSingleProperty,"winjs binding","error");this.markBindingAsError(t);return}var o=this,i;t.pathExpression=this.bindingExpression(t);t.value=function(){return t.pathExpression};t.original&&(i=this.defineInstance(ut.variable,"",t.value),t.original.initialValue=i);t.kind=g.tree;t.definition=function(){var r;return r=i?'{element}.setAttribute({attribute}, "" + {initialValue})':'{element}.setAttribute({attribute}, "" + {value})',o.formatCode(r,{element:t.elementCapture,attribute:n(t.destination[0]),initialValue:i,value:t.value()})}}},{_TreeCSE:ct,compile:function(n,i,r){var u,o,f,e,s,h;if(!(i instanceof t.HTMLElement))throw"Illegal";wt("WinJS.Binding.Template:compile"+r.profilerMarkIdentifier+",StartTM");u=new ai(i,r);u.analyze();o=u.importAllSafe({Signal:y,global:t,document:t.document,cancelBlocker:bi,promise_as:di,disposeInstance:or,markDisposable:tr,ui_processAll:ir,binding_processAll:rr,insertAdjacentHTMLUnsafe:gi,promise:v,utilities_data:nr,requireSupportedForProcessing:it,htmlEscape:br,scopedSelect:er,delayedBindingProcessing:sr,writeProfilerMark:wt});u.optimize();u.deadCodeElimination();u.lower();switch(r.target){case"render":f=u.async?iu:tu;e=!1;break;case"renderItem":f=u.async?fu:ru;e=!0}return s=u.compile(f,o,e),h=u.link(s),u.done(),wt("WinJS.Binding.Template:compile"+r.profilerMarkIdentifier+",StopTM"),h}}),lt=ft('container.classList.add("win-template");                                                              \nvar html = {html};                                                                                      \n{insertAdjacentHTMLUnsafe}(container, "beforeend", html);                                             \nreturnedElement = {returnedElement};                                                                    \n                                                                                                        \n// Capture Definitions                                                                                  \n{capture_definitions};                                                                                  \n{set_msParentSelectorScope};                                                                            \n                                                                                                        \n'),vi=ft("// Control Processing                                                                                   \n{control_processing};                                                                                   \n                                                                                                        \n// Binding Processing                                                                                   \n{binding_processing};                                                                                   \n                                                                                                        \nvar result = {promise_as}(returnedElement);                                                             \n"),yi=ft('var controlSignal = new {Signal}();                                                                     \nvar controlDone = function () {{ if (--{control_counter} === 0) {{ controlSignal.complete(); }} }};     \ncontrolDone();                                                                                          \n                                                                                                        \n// Control Processing                                                                                   \n{control_processing};                                                                                   \n                                                                                                        \nvar result = controlSignal.promise.then(function () {{                                                  \n    // Binding Processing                                                                               \n    {binding_processing};                                                                               \n    return {promise}.join({nestedTemplates});                                                           \n}}).then(function () {{                                                                                 \n    return returnedElement;                                                                             \n}}).then(null, function (e) {{                                                                          \n    if (typeof e === "object" && e.name === "Canceled") {{ returnedElement.dispose(); }}            \n    return {promise}.wrapError(e);                                                                      \n}});                                                                                                    \n'),pi=ft("{markDisposable}(returnedElement, function () {{ {disposeInstance}(returnedElement, result); }});       \n{suffix_statements};                                                                                    \n"),tu=ft('function render(data, container) {{                                                                     \n    {debug_break}                                                                                       \n    if (typeof data === "object" && typeof data.then === "function") {{                             \n        // async data + a container falls back to interpreted path                                      \n        if (container) {{                                                                               \n            var result = this._renderInterpreted(data, container);                                      \n            return result.element.then(function () {{ return result.renderComplete; }});                \n        }}                                                                                              \n        return {cancelBlocker}(data).then(function(data) {{ return render(data); }});                   \n    }}                                                                                                  \n                                                                                                        \n    {writeProfilerMark}({profilerMarkIdentifierStart});                                                 \n                                                                                                        \n    // Declarations                                                                                     \n    var {instance_variable_declarations};                                                               \n    var returnedElement;                                                                                \n                                                                                                        \n    // Global Definitions                                                                               \n    {global_definitions};                                                                               \n                                                                                                        \n    // Data Definitions                                                                                 \n    data = (data === {global} ? data : {requireSupportedForProcessing}(data));                          \n    {data_definitions};                                                                                 \n                                                                                                        \n    // Instance Variable Definitions                                                                    \n    {instance_variable_definitions};                                                                    \n                                                                                                        \n    // HTML Processing                                                                                  \n    container = container || {document}.createElement({tagName});                                       \n    var startIndex = container.childElementCount;                                                       \n    '+rt(tt(4,lt))+"                                           \n                                                                                                        \n    "+rt(tt(4,vi))+"                                      \n    "+rt(tt(4,pi))+"                                           \n                                                                                                        \n    {writeProfilerMark}({profilerMarkIdentifierStop});                                                  \n                                                                                                        \n    return result;                                                                                      \n}}                                                                                                      \n"),iu=ft('function render(data, container) {{                                                                     \n    {debug_break}                                                                                       \n    if (typeof data === "object" && typeof data.then === "function") {{                             \n        // async data + a container falls back to interpreted path                                      \n        if (container) {{                                                                               \n            var result = this._renderInterpreted(data, container);                                      \n            return result.element.then(function () {{ return result.renderComplete; }});                \n        }}                                                                                              \n        return {cancelBlocker}(data).then(function(data) {{ return render(data, container); }});        \n    }}                                                                                                  \n                                                                                                        \n    {writeProfilerMark}({profilerMarkIdentifierStart});                                                 \n                                                                                                        \n    // Declarations                                                                                     \n    var {instance_variable_declarations};                                                               \n    var returnedElement;                                                                                \n                                                                                                        \n    // Global Definitions                                                                               \n    {global_definitions};                                                                               \n                                                                                                        \n    // Data Definitions                                                                                 \n    data = (data === {global} ? data : {requireSupportedForProcessing}(data));                          \n    {data_definitions};                                                                                 \n                                                                                                        \n    // Instance Variable Definitions                                                                    \n    {instance_variable_definitions};                                                                    \n                                                                                                        \n    // HTML Processing                                                                                  \n    container = container || {document}.createElement({tagName});                                       \n    var startIndex = container.childElementCount;                                                       \n    '+rt(tt(4,lt))+"                                           \n                                                                                                        \n    "+rt(tt(4,yi))+"                                 \n    "+rt(tt(4,pi))+"                                           \n                                                                                                        \n    {writeProfilerMark}({profilerMarkIdentifierStop});                                                  \n                                                                                                        \n    return result;                                                                                      \n}}                                                                                                      \n"),wi=ft("{markDisposable}(returnedElement, function () {{ {disposeInstance}(returnedElement, result, renderComplete); }});\n{suffix_statements};                                                                                    \n"),ru=ft('function renderItem(itemPromise) {{                                                                     \n    {debug_break}                                                                                       \n    // Declarations                                                                                     \n    var {instance_variable_declarations};                                                               \n    var element, renderComplete, data, returnedElement;                                                 \n                                                                                                        \n    element = itemPromise.then(function renderItem(item) {{                                             \n        if (typeof item.data === "object" && typeof item.data.then === "function") {{               \n            return {cancelBlocker}(item.data).then(function (data) {{ return renderItem({{ data: data }}); }});\n        }}                                                                                              \n                                                                                                        \n        {writeProfilerMark}({profilerMarkIdentifierStart});                                             \n                                                                                                        \n        // Global Definitions                                                                           \n        {global_definitions};                                                                           \n                                                                                                        \n        // Data Definitions                                                                             \n        data = item.data;                                                                               \n        data = (data === {global} ? data : {requireSupportedForProcessing}(data));                      \n        {data_definitions};                                                                             \n                                                                                                        \n        // Instance Variable Definitions                                                                \n        {instance_variable_definitions};                                                                \n                                                                                                        \n        // HTML Processing                                                                              \n        var container = {document}.createElement({tagName});                                            \n        var startIndex = 0;                                                                             \n        '+rt(tt(8,lt))+"                                       \n                                                                                                        \n        "+rt(tt(8,vi))+"                                  \n        "+rt(tt(8,wi))+"                                   \n                                                                                                        \n        {writeProfilerMark}({profilerMarkIdentifierStop});                                              \n                                                                                                        \n        return result;                                                                                  \n    }});                                                                                                \n    {renderComplete};                                                                                   \n    return {{                                                                                           \n        element: element,                                                                               \n        renderComplete: renderComplete || element,                                                      \n    }};                                                                                                 \n}}                                                                                                      \n"),uu=ft("renderComplete = element.then(function () {{                                                            \n    return itemPromise;                                                                                 \n}}).then(function (item) {{                                                                             \n    return item.ready || item;                                                                          \n}}).then(function (item) {{                                                                             \n    {delayed_binding_processing};                                                                       \n    return element;                                                                                     \n}});                                                                                                    \n"),fu=ft('function renderItem(itemPromise) {{                                                                     \n    {debug_break}                                                                                       \n    // Declarations                                                                                     \n    var {instance_variable_declarations};                                                               \n    var element, renderComplete, data, returnedElement;                                                 \n                                                                                                        \n    element = itemPromise.then(function renderItem(item) {{                                             \n        if (typeof item.data === "object" && typeof item.data.then === "function") {{               \n            return {cancelBlocker}(item.data).then(function (data) {{ return renderItem({{ data: data }}); }});\n        }}                                                                                              \n                                                                                                        \n        {writeProfilerMark}({profilerMarkIdentifierStart});                                             \n                                                                                                        \n        // Global Definitions                                                                           \n        {global_definitions};                                                                           \n                                                                                                        \n        // Data Definitions                                                                             \n        data = item.data;                                                                               \n        data = (data === {global} ? data : {requireSupportedForProcessing}(data));                      \n        {data_definitions};                                                                             \n                                                                                                        \n        // Instance Variable Definitions                                                                \n        {instance_variable_definitions};                                                                \n                                                                                                        \n        // HTML Processing                                                                              \n        var container = {document}.createElement({tagName});                                            \n        var startIndex = 0;                                                                             \n        '+rt(tt(8,lt))+"                                       \n                                                                                                        \n        "+rt(tt(8,yi))+"                             \n        "+rt(tt(8,wi))+"                                   \n                                                                                                        \n        {writeProfilerMark}({profilerMarkIdentifierStop});                                              \n                                                                                                        \n        return result;                                                                                  \n    }});                                                                                                \n    {renderComplete};                                                                                   \n    return {{                                                                                           \n        element: element,                                                                               \n        renderComplete: renderComplete || element,                                                      \n    }};                                                                                                 \n}}                                                                                                      \n"),eu=ft('"use strict";                                                                                         \n                                                                                                        \n// statics                                                                                              \nvar {static_variable_declarations};                                                                     \n{static_variable_definitions};                                                                          \n                                                                                                        \n// generated template rendering function                                                                \nreturn {body};                                                                                          \n');return ai})})}}),t("WinJS/BindingTemplate",["exports","./Core/_Global","./Core/_WinRT","./Core/_Base","./Core/_BaseUtils","./Core/_Log","./Core/_WriteProfilerMark","./Binding/_Declarative","./BindingTemplate/_DataTemplateCompiler","./ControlProcessor","./Fragments","./Promise","./Utilities/_Dispose","./Utilities/_ElementUtilities"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v){"use strict";if(t.document){var y=l._cancelBlocker;r.Namespace._moduleDefine(n,"WinJS.Binding",{Template:r.Namespace._lazy(function(){function p(i,r,u){function g(){return v.removeClass(f,"win-loading"),e("WinJS.Binding:templateRender"+i._profilerMarkIdentifier+",StopTM"),b||f}var p,f,s,w,k,b,d,nt;return e("WinJS.Binding:templateRender"+i._profilerMarkIdentifier+",StartTM"),++i._counter==1&&(i.debugBreakOnRender||n._debugBreakOnRender),p=l.wrap(),f=u||t.document.createElement(i.element.tagName),v.addClass(f,"win-template"),v.addClass(f,"win-loading"),s=i,w=f.children.length,d=function(){var n=v.data(f).winBindings;n&&n.forEach(function(n){n.cancel()});p.cancel()},i.extractChild?k=c.renderCopy(s.href||s.element,t.document.createElement(s.element.tagName)).then(function(n){var t=n.firstElementChild;return b=t,a.markDisposable(t,d),f.appendChild(t),t}):(a.markDisposable(f,d),k=c.renderCopy(s.href||s.element,f)),nt=k.then(function(){function v(){return n(h.processAll).then(function(){return y(r)}).then(function(t){return n(o.processAll,t,!b&&!w,s.bindingCache)}).then(null,function(n){return typeof n=="object"&&n.name==="Canceled"&&(b||f).dispose(),l.wrapError(n)})}var n,t,c,e,a,i,u;if(w===0)n=function(n,t,i,r){return n(b||f,t,i,r)};else if(t=f.children,t.length===w+1)n=function(n,i,r,u){return n(t[w],i,r,u)};else{for(c=[],e=w,a=t.length;e<a;e++)c.push(t[e]);n=function(n,t,i,r){var u=[];return c.forEach(function(f){u.push(n(f,t,i,r))}),l.join(u)}}for(i=f.firstElementChild;i;)i.msParentSelectorScope=!0,i=i.nextElementSibling;return u=s.processTimeout,u?(u<0&&(u=0),l.timeout(u).then(function(){return p=v()})):p=v()}).then(g,function(n){return g(),l.wrapError(n)}),{element:k,renderComplete:nt}}var n=r.Class.define(function(n,i){this._element=n||t.document.createElement("div");this._element.winControl=this;this._profilerMarkIdentifier=u._getProfilerMarkIdentifier(this._element);e("WinJS.Binding:newTemplate"+this._profilerMarkIdentifier+",StartTM");var r=this;this._element.renderItem=function(n,t){return r._renderItemImpl(n,t)};i=i||{};this.href=i.href;this.enableRecycling=!!i.enableRecycling;this.processTimeout=i.processTimeout||0;this.bindingInitializer=i.bindingInitializer;this.debugBreakOnRender=i.debugBreakOnRender;this.disableOptimizedProcessing=i.disableOptimizedProcessing;this.extractChild=i.extractChild;this._counter=0;this._compile=!!i._compile;this.href||(this.element.style.display="none");this.bindingCache={expressions:{}};e("WinJS.Binding:newTemplate"+this._profilerMarkIdentifier+",StopTM")},{_shouldCompile:{get:function(){var i=!0;return i=i&&!n._interpretAll,i=i&&!this.disableOptimizedProcessing,i&&(i=i&&this.processTimeout===0,i=i&&(!this.href||this.href instanceof t.HTMLElement),i||f.log&&f.log("Cannot compile templates which use processTimeout or href properties","winjs binding","warn")),i}},bindingInitializer:{get:function(){return this._bindingInitializer},set:function(n){this._bindingInitializer=n;this._reset()}},debugBreakOnRender:{get:function(){return this._debugBreakOnRender},set:function(n){this._debugBreakOnRender=!!n;this._reset()}},disableOptimizedProcessing:{get:function(){return this._disableOptimizedProcessing},set:function(n){this._disableOptimizedProcessing=!!n;this._reset()}},element:{get:function(){return this._element}},extractChild:{get:function(){return this._extractChild},set:function(n){this._extractChild=!!n;this._reset()}},processTimeout:{get:function(){return this._processTimeout||0},set:function(n){this._processTimeout=n;this._reset()}},render:u.markSupportedForProcessing(function(n,t){return this._renderImpl(n,t)}),_renderImpl:function(n,t){if(this._shouldCompile)try{return this._renderImpl=this._compileTemplate({target:"render"}),this._renderImpl(n,t)}catch(r){return l.wrapError(r)}var i=p(this,n,t);return i.element.then(function(){return i.renderComplete})},_renderInterpreted:function(n,t){return p(this,n,t)},renderItem:function(n,t){return this._renderItemImpl(n,t)},_renderItemImpl:function(n,t){var u,i,f,r;if(this._shouldCompile)try{return this._renderItemImpl=this._compileTemplate({target:"renderItem"}),this._renderItemImpl(n)}catch(e){return{element:l.wrapError(e),renderComplete:l.wrapError(e)}}return(u=this,this.enableRecycling&&!this.bindingCache.elements&&(this.bindingCache.elements={}),this.enableRecycling&&t&&t.msOriginalTemplate===this&&(i=this.bindingCache.elements[t.id],f=!0,i&&(i.bindings.forEach(function(n){n()}),i.bindings=[],f=!i.nocache),f))?{element:t,renderComplete:n.then(function(n){return o.processAll(t,n.data,!0,u.bindingCache)})}:(r=p(this,n.then(function(n){return n.data})),r.element=r.element.then(function(n){return n.msOriginalTemplate=u,n}),r)},_compileTemplate:function(t){var u=this,f=s._TemplateCompiler.compile(this,this.href||this.element,{debugBreakOnRender:this.debugBreakOnRender||n._debugBreakOnRender,defaultInitializer:this.bindingInitializer||t.defaultInitializer,disableTextBindingOptimization:t.disableTextBindingOptimization||!1,target:t.target,extractChild:this.extractChild,profilerMarkIdentifier:this._profilerMarkIdentifier}),e=t.resetOnFragmentChange||i.Windows.ApplicationModel.DesignMode.designModeEnabled,r;return e&&(r=new v._MutationObserver(function(){u._reset();r.disconnect()}),r.observe(v.data(this.element).docFragment,{childList:!0,attributes:!0,characterData:!0,subtree:!0})),f},_reset:function(){delete this._renderImpl;delete this._renderItemImpl}},{isDeclarativeControlContainer:{value:!0,writable:!1,configurable:!1},render:{value:function(t,i,r){return new n(null,{href:t}).render(i,r)}}});return n})})}}),t("WinJS/BindingList/_BindingListDataSource",["exports","../Core/_WinRT","../Core/_Base","../Core/_ErrorFromName","../Binding/_DomWeakRefTable","../Promise","../Scheduler","../Utilities/_UI"],function(n,t,i,r,u,f,e,o){"use strict";i.Namespace._moduleDefine(n,"WinJS.Binding",{_BindingListDataSource:i.Namespace._lazy(function(){function c(n,t){for(var r=n.length,i;t<r-1;)if(i=n.getItem(++t),i)return i.key;return null}function l(n,t){while(t>0){var i=n.getItem(--t);if(i)return i.key}return null}function y(n,t){Object.keys(t).forEach(function(i){n.addEventListener(i,t[i])})}function p(n,t){Object.keys(t).forEach(function(i){n.removeEventListener(i,t[i])})}function h(n,t){return t?new w(n,t):new v}function k(n,t,i){return t?new b(n,t,i):new v}function s(n,t,i){return t&&n._annotateWithIndex(t,i)}function g(n,t){return this._list.unshift(t),this.itemFromIndex(0)}function nt(t,i,r){var u=this._list.indexOfKey(r);return u===-1?n.noLongerMeaningful:(this._list.splice(u,0,i),this.itemFromIndex(u))}function tt(t,i,r){var u=this._list.indexOfKey(r);return u===-1?n.noLongerMeaningful:(u+=1,this._list.splice(u,0,i),this.itemFromIndex(u))}function it(n,t){return this._list.push(t),this.itemFromIndex(this._list.length-1)}function rt(t,i){var r=this._list.indexOfKey(t);return r===-1?n.noLongerMeaningful:(this._list.setAt(r,i),this.itemFromIndex(r))}function ut(t){var r=this._list.indexOfKey(t),i;return r===-1?n.noLongerMeaningful:(i=0,this._list.move(r,i),this.itemFromIndex(i))}function ft(t,i){var u=this._list.indexOfKey(t),r=this._list.indexOfKey(i);return u===-1||r===-1?n.noLongerMeaningful:(r=u<r?r-1:r,this._list.move(u,r),this.itemFromIndex(r))}function et(t,i){var u=this._list.indexOfKey(t),r=this._list.indexOfKey(i);return u===-1||r===-1?n.noLongerMeaningful:(r=u<=r?r:r+1,this._list.move(u,r),this.itemFromIndex(r))}function ot(t){var r=this._list.indexOfKey(t),i;return r===-1?n.noLongerMeaningful:(i=this._list.length-1,this._list.move(r,i),this.itemFromIndex(i))}function st(t){var i=this._list.indexOfKey(t);return i===-1?n.noLongerMeaningful:(this._list.splice(i,1),f.wrap())}var n={get noLongerMeaningful(){return f.wrapError(new r(o.EditError.noLongerMeaningful))}},a=f.wrap().constructor,v=i.Class.derive(a,function(){this._value=null},{release:function(){},retain:function(){return this}},{supportedForProcessing:!1}),w=i.Class.derive(a,function(n,t){this._value=t;this._listBinding=n},{handle:{get:function(){return this._value.key}},index:{get:function(){return this._value.index}},release:function(){this._listBinding._release(this._value,this._listBinding._list.indexOfKey(this._value.key))},retain:function(){return this._listBinding._addRef(this._value,this._listBinding._list.indexOfKey(this._value.key)),this}},{supportedForProcessing:!1}),b=i.Class.derive(f,function(n,t,i){var r=this;this._item=t;this._listBinding=n;f.call(this,function(u){e.schedule(function(){if(n._released){r.cancel();return}u(t)},e.Priority.normal,null,"WinJS.Binding.List."+i)})},{handle:{get:function(){return this._item.key}},index:{get:function(){return this._item.index}},release:function(){this._listBinding._release(this._item,this._listBinding._list.indexOfKey(this._item.key))},retain:function(){return this._listBinding._addRef(this._item,this._listBinding._list.indexOfKey(this._item.key)),this}},{supportedForProcessing:!1}),d=i.Class.define(function(n,i,r,f){var s,e;this._dataSource=n;this._list=i;this._editsCount=0;this._notificationHandler=r;this._pos=-1;this._retained=[];this._retained.length=i.length;this._retainedKeys={};this._affectedRange=null;s=null;t.msSetWeakWinRTProperty&&t.msGetWeakWinRTProperty||(s=this);r&&(e=function(n,t){var i=u._getWeakRefElement(f)||s;return i?(i["_"+n](t),!0):!1},this._handlers={itemchanged:function o(n){e("itemchanged",n)||i.removeEventListener("itemchanged",o)},iteminserted:function o(n){e("iteminserted",n)||i.removeEventListener("iteminserted",o)},itemmoved:function o(n){e("itemmoved",n)||i.removeEventListener("itemmoved",o)},itemremoved:function o(n){e("itemremoved",n)||i.removeEventListener("itemremoved",o)},reload:function o(){e("reload")||i.removeEventListener("reload",o)}},y(this._list,this._handlers))},{_itemchanged:function(n){var e=n.detail.key,i=n.detail.index,t,r,u,f;this._updateAffectedRange(i,"changed");t=n.detail.newItem;r=this._retained[i];r?(u=this._notificationHandler,r.index!==i&&(f=r.index,r.index=i,u&&u.indexChanged&&u.indexChanged(t.key,i,f)),t=s(this._list,t,i),t._retainedCount=r._retainedCount,this._retained[i]=t,this._retainedKeys[e]=t,this._beginEdits(this._list.length),u&&u.changed&&u.changed(t,r),this._endEdits()):(this._beginEdits(this._list.length),this._endEdits())},_iteminserted:function(n){var t=n.detail.index,r,i;this._updateAffectedRange(t,"inserted");this._beginEdits(this._list.length-1);t<=this._pos&&(this._pos=Math.min(this._pos+1,this._list.length));r=this._retained;r.splice(t,0,0);delete r[t];(this._shouldNotify(t)||this._list.length===1)&&(i=this._notificationHandler,i&&i.inserted&&i.inserted(h(this,s(this._list,this._list.getItem(t),t)),l(this._list,t),c(this._list,t)));this._endEdits()},_itemmoved:function(n){var r=n.detail.oldIndex,t=n.detail.newIndex,u,i;this._updateAffectedRange(r,"moved");this._updateAffectedRange(t,"moved");this._beginEdits(this._list.length);(r<this._pos||t<=this._pos)&&(t>this._pos?this._pos=Math.max(-1,this._pos-1):r>this._pos&&(this._pos=Math.min(this._pos+1,this._list.length)));u=this._retained;i=u.splice(r,1)[0];u.splice(t,0,i);i||(delete u[t],i=s(this._list,this._list.getItem(t),t));i._moved=!0;this._addRef(i,t);this._endEdits()},_itemremoved:function(n){var r=n.detail.key,t=n.detail.index,i;this._updateAffectedRange(t,"removed");this._beginEdits(this._list.length+1);t<this._pos&&(this._pos=Math.max(-1,this._pos-1));var u=this._retained,f=this._retainedKeys,e=t in u;u.splice(t,1);delete f[r];i=this._notificationHandler;e&&i&&i.removed&&i.removed(r,!1);this._endEdits()},_reload:function(){this._retained=[];this._retainedKeys={};var n=this._notificationHandler;n&&n.reload&&n.reload()},_addRef:function(n,t){t in this._retained?this._retained[t]._retainedCount++:(this._retained[t]=n,this._retainedKeys[n.key]=n,n._retainedCount=1)},_release:function(n,t){var i=this._retained[t];i&&(i._retainedCount===1?(delete this._retained[t],delete this._retainedKeys[i.key]):i._retainedCount--)},_shouldNotify:function(n){var t=this._retained;return n in t||n+1 in t||n-1 in t},_updateAffectedRange:function(n,t){if(this._notificationHandler.affectedRange){var i=n,r=t!=="removed"?n+1:n;if(this._affectedRange){switch(t){case"inserted":n<=this._affectedRange.end&&++this._affectedRange.end;break;case"removed":n<this._affectedRange.end&&--this._affectedRange.end}this._affectedRange.start=Math.min(this._affectedRange.start,i);this._affectedRange.end=Math.max(this._affectedRange.end,r)}else this._affectedRange={start:i,end:r}}},_notifyAffectedRange:function(){this._affectedRange&&(this._notificationHandler&&this._notificationHandler.affectedRange&&this._notificationHandler.affectedRange(this._affectedRange),this._affectedRange=null)},_notifyCountChanged:function(){var t=this._countAtBeginEdits,i=this._list.length,n;t!==i&&(n=this._notificationHandler,n&&n.countChanged&&n.countChanged(i,t))},_notifyIndicesChanged:function(){for(var u=this._retained,t,r,e,i,n=0,f=u.length;n<f;n++)t=u[n],t&&t.index!==n&&(r=n,e=t.index,t.index=r,i=this._notificationHandler,i&&i.indexChanged&&i.indexChanged(t.key,r,e))},_notifyMoved:function(){for(var r=this._retained,t,i,n=0,u=r.length;n<u;n++)t=r[n],t&&t._moved&&(t._moved=!1,this._release(t,n),this._shouldNotify(n)&&(i=this._notificationHandler,i&&i.moved&&i.moved(h(this,t),l(this._list,n),c(this._list,n))))},_beginEdits:function(n,t){var i,r;this._editsCount++;i=this._notificationHandler;this._editsCount===1&&i&&(t||(this._editsCount++,r=this,e.schedule(function(){r._endEdits()},e.Priority.high,null,"WinJS.Binding.List._endEdits")),i.beginNotifications&&i.beginNotifications(),this._countAtBeginEdits=n)},_endEdits:function(){this._editsCount--;var n=this._notificationHandler;this._editsCount===0&&n&&(this._notifyIndicesChanged(),this._notifyMoved(),this._notifyCountChanged(),this._notifyAffectedRange(),n.endNotifications&&n.endNotifications())},jumpToItem:function(n){var t=this._list.indexOfKey(n.handle);return t===-1?f.wrap(null):(this._pos=t,this.current())},current:function(){return this.fromIndex(this._pos)},previous:function(){return this._pos=Math.max(-1,this._pos-1),this._fromIndex(this._pos,!0,"previous")},next:function(){return this._pos=Math.min(this._pos+1,this._list.length),this._fromIndex(this._pos,!0,"next")},releaseItem:function(n){n.release?n.release():this._release(n,this._list.indexOfKey(n.key))},release:function(){this._notificationHandler&&p(this._list,this._handlers);this._notificationHandler=null;this._dataSource._releaseBinding(this);this._released=!0},first:function(){return this.fromIndex(0)},last:function(){return this.fromIndex(this._list.length-1)},fromKey:function(n){var t=this._retainedKeys,i;return i=n in t?t[n]:s(this._list,this._list.getItemFromKey(n),this._list.indexOfKey(n)),h(this,i)},fromIndex:function(n){return this._fromIndex(n,!1,"fromIndex")},_fromIndex:function(n,t,i){var u=this._retained,r;return r=n in u?u[n]:s(this._list,this._list.getItem(n),n),t?k(this,r,i):h(this,r)}},{supportedForProcessing:!1}),ht=0;return i.Class.define(function(n){this._usingWeakRef=t.msSetWeakWinRTProperty&&t.msGetWeakWinRTProperty;this._bindings={};this._list=n;n.unshift&&(this.insertAtStart=g);n.push&&(this.insertAtEnd=it);n.setAt&&(this.change=rt);n.splice&&(this.insertAfter=tt,this.insertBefore=nt,this.remove=st);n.move&&(this.moveAfter=et,this.moveBefore=ft,this.moveToEnd=ot,this.moveToStart=ut)},{_releaseBinding:function(n){delete this._bindings[n._id]},addEventListener:function(){},removeEventListener:function(){},createListBinding:function(n){var t="ds_"+ ++ht,i=new d(this,this._list,n,t);return i._id=t,this._usingWeakRef?(u._createWeakRef(i,t),this._bindings[t]=t):this._bindings[t]=i,i},getCount:function(){return f.wrap(this._list.length)},itemFromKey:function(n){var t=this._list,i=s(t,t.getItemFromKey(n),-1);return Object.defineProperty(i,"index",{get:function(){return t.indexOfKey(n)},enumerable:!1,configurable:!0}),f.wrap(i)},itemFromIndex:function(n){return f.wrap(s(this._list,this._list.getItem(n),n))},list:{get:function(){return this._list}},beginEdits:function(){var n=this._list.length;this._forEachBinding(function(t){t._beginEdits(n,!0)})},endEdits:function(){this._forEachBinding(function(n){n._endEdits()})},_forEachBinding:function(n){var t,i,r,f;if(this._usingWeakRef)for(t=[],Object.keys(this._bindings).forEach(function(i){var r=u._getWeakRefElement(i);r?n(r):t.push(i)}),i=0,r=t.length;i<r;i++)delete this._bindings[t[i]];else f=this,Object.keys(this._bindings).forEach(function(t){n(f._bindings[t])})},invalidateAll:function(){return f.wrap()},moveAfter:undefined,moveBefore:undefined,moveToEnd:undefined,moveToStart:undefined},{supportedForProcessing:!1})})})}),t("WinJS/BindingList",["exports","./Core/_Base","./Core/_BaseUtils","./Core/_ErrorFromName","./Core/_Events","./Core/_Resources","./Binding/_Data","./BindingList/_BindingListDataSource"],function(n,t,i,r,u,f,e,o){"use strict";function l(n){return Array.prototype.slice.call(n,0)}function c(n){return{handle:n.handle,key:n.key,data:n.data,groupKey:n.groupKey,groupSize:n.groupSize,firstItemKey:n.firstItemKey,firstItemIndexHint:n.firstItemIndexHint}}function s(n){return n===undefined?undefined:+n}function p(n,t){function u(t,r){for(;t<r;t++)n[t]=i[t]}function r(n,t){if(!(t-n<2)){var i=Math.floor((t+n)/2);r(n,i);r(i,t);f(n,i,t);u(n,t)}}function f(r,u,f){for(var e=r,o=u,s=r;s<f;s++)e<u&&(o>=f||t(n[e],n[o])<=0)?(i[s]=n[e],e++):(i[s]=n[o],o++)}var i=new Array(n.length);return r(0,n.length),n}var v={get sparseArrayNotSupported(){return"Sparse arrays are not supported with proxy: true"},get illegalListLength(){return"List length must be assigned a finite positive number"}},a=u._createEventProperty,y={},h=t.Namespace.defineWithParent(null,null,{ListBase:t.Namespace._lazy(function(){var n=t.Class.define(null,{_annotateWithIndex:function(n,t){var i=c(n);return i.index=t,i},onitemchanged:a("itemchanged"),oniteminserted:a("iteminserted"),onitemmoved:a("itemmoved"),onitemmutated:a("itemmutated"),onitemremoved:a("itemremoved"),onreload:a("reload"),_notifyItemChanged:function(n,t,i,r,u,f){this._listeners&&this._listeners.itemchanged&&this.dispatchEvent("itemchanged",{key:n,index:t,oldValue:i,newValue:r,oldItem:u,newItem:f})},_notifyItemInserted:function(n,t,i){this._listeners&&this._listeners.iteminserted&&this.dispatchEvent("iteminserted",{key:n,index:t,value:i});var r=this.length;r!==this._lastNotifyLength&&(this.notify("length",r,this._lastNotifyLength),this._lastNotifyLength=r)},_notifyItemMoved:function(n,t,i,r){this._listeners&&this._listeners.itemmoved&&this.dispatchEvent("itemmoved",{key:n,oldIndex:t,newIndex:i,value:r})},_notifyItemMutated:function(n,t,i){this._listeners&&this._listeners.itemmutated&&this.dispatchEvent("itemmutated",{key:n,value:t,item:i})},_notifyItemRemoved:function(n,t,i,r){this._listeners&&this._listeners.itemremoved&&this.dispatchEvent("itemremoved",{key:n,index:t,value:i,item:r});var u=this.length;u!==this._lastNotifyLength&&(this.notify("length",u,this._lastNotifyLength),this._lastNotifyLength=u)},_notifyReload:function(){if(this._listeners&&this._listeners.reload&&this.dispatchEvent("reload"),n!==this._lastNotifyLength){var n=this.length;this.notify("length",n,this._lastNotifyLength);this._lastNotifyLength=n}},_normalizeIndex:function(n){return n=s(n),n<0?this.length+n:n},_notifyMutatedFromKey:function(n){var t=this.getItemFromKey(n);this._notifyItemMutated(n,t.data,t)},notifyReload:function(){this._notifyReload()},getAt:function(n){n=s(n);var t=this.getItem(n);return t&&t.data},_getArray:function(){for(var i=new Array(this.length),t,n=0,r=this.length;n<r;n++)t=this.getItem(n),t&&(i[n]=t.data);return i},_getFromKey:function(n){var t=this.getItemFromKey(n);return t&&t.data},_getKey:function(n){n=s(n);var t=this.getItem(n);return t&&t.key},concat:function(){var n=this._getArray();return n.concat.apply(n,arguments)},join:function(n){return this._getArray().join(n||",")},slice:function(n,t){return this._getArray().slice(n,t)},indexOf:function(n,t){var i,u,r;for(t=s(t),t=Math.max(0,this._normalizeIndex(t)||0),i=t,u=this.length;i<u;i++)if(r=this.getItem(i),r&&r.data===n)return i;return-1},lastIndexOf:function(n,t){var r,i,u;for(t=s(t),r=this.length,t=Math.min(this._normalizeIndex(t!==undefined?t:r),r-1),i=t;i>=0;i--)if(u=this.getItem(i),u&&u.data===n)return i;return-1},every:function(n,t){return this._getArray().every(n,t)},filter:function(n,t){return this._getArray().filter(n,t)},forEach:function(n,t){this._getArray().forEach(n,t)},map:function(n,t){return this._getArray().map(n,t)},some:function(n,t){return this._getArray().some(n,t)},reduce:function(n,t){return arguments.length>1?this._getArray().reduce(n,t):this._getArray().reduce(n)},reduceRight:function(n,t){return arguments.length>1?this._getArray().reduceRight(n,t):this._getArray().reduceRight(n)},createFiltered:function(n){return new h.FilteredListProjection(this,n)},createGrouped:function(n,t,i){return new h.GroupedSortedListProjection(this,n,t,i)},createSorted:function(n){return new h.SortedListProjection(this,n)},dataSource:{get:function(){return this._dataSource=this._dataSource||new o._BindingListDataSource(this)}}},{supportedForProcessing:!1});return t.Class.mix(n,e.observableMixin),t.Class.mix(n,u.eventMixin),n}),ListBaseWithMutators:t.Namespace._lazy(function(){return t.Class.derive(h.ListBase,null,{pop:function(){return this.splice(-1,1)[0]},push:function(n){if(arguments.length===1)return this.splice(this.length,0,n),this.length;var t=l(arguments);return t.splice(0,0,this.length,0),this.splice.apply(this,t),this.length},shift:function(){return this.splice(0,1)[0]},unshift:function(n){if(arguments.length===1)this.splice(0,0,n);else{var t=l(arguments);t.splice(0,0,0,0);this.splice.apply(this,t)}return this.length}},{supportedForProcessing:!1})}),ListProjection:t.Namespace._lazy(function(){return t.Class.derive(h.ListBaseWithMutators,null,{_list:null,_myListeners:null,_addListListener:function(n,t){var i={name:n,handler:t.bind(this)};this._myListeners=this._myListeners||[];this._myListeners.push(i);this._list.addEventListener(n,i.handler)},dispose:function(){var f=this._list,r=this._myListeners,t,u,i;for(this._myListeners=[],t=0,u=r.length;t<u;t++)i=r[t],f.removeEventListener(i.name,i.handler);this._list=new n.List;this._listReload()},getItemFromKey:function(n){return this._list.getItemFromKey(n)},move:function(n,t){(n=s(n),t=s(t),n===t||n<0||t<0||n>=this.length||t>=this.length)||(n=this._list.indexOfKey(this._getKey(n)),t=this._list.indexOfKey(this._getKey(t)),this._list.move(n,t))},_notifyMutatedFromKey:function(n){this._list._notifyMutatedFromKey(n)},splice:function(n){n=s(n);n=Math.max(0,this._normalizeIndex(n));var t=l(arguments);return n===this.length?(t[0]=this._list.length,this._list.splice.apply(this._list,t)):(t[0]=this._getKey(n),this._spliceFromKey.apply(this,t))},_setAtKey:function(n,t){this._list._setAtKey(n,t)}},{supportedForProcessing:!1})}),FilteredListProjection:t.Namespace._lazy(function(){return t.Class.derive(h.ListProjection,function(n,t){this._list=n;this._addListListener("itemchanged",this._listItemChanged);this._addListListener("iteminserted",this._listItemInserted);this._addListListener("itemmutated",this._listItemMutated);this._addListListener("itemmoved",this._listItemMoved);this._addListListener("itemremoved",this._listItemRemoved);this._addListListener("reload",this._listReload);this._filter=t;this._initFilteredKeys()},{_filter:null,_filteredKeys:null,_initFilteredKeys:function(){for(var f=this._filter,i=this._list,r=[],t,n=0,u=i.length;n<u;n++)t=i.getItem(n),t&&f(t.data)&&r.push(t.key);this._filteredKeys=r},_findInsertionPosition:function(n,t){for(var e=this._filter,r,i,u,f;--t>=0;)if(i=this._list.getItem(t),i&&e(i.data)){r=i.key;break}return u=this._filteredKeys,f=r?u.indexOf(r)+1:0,f},_listItemChanged:function(n){var t=n.detail.key,e=n.detail.index,i=n.detail.oldValue,r=n.detail.newValue,o=n.detail.oldItem,l=n.detail.newItem,s=this._filter,u=s(i),f=s(r),h,c;u&&f?(h=this._filteredKeys,c=h.indexOf(t),this._notifyItemChanged(t,c,i,r,o,l)):u&&!f?this._listItemRemoved({detail:{key:t,index:e,value:i,item:o}}):!u&&f&&this._listItemInserted({detail:{key:t,index:e,value:r}})},_listItemInserted:function(n){var t=n.detail.key,f=n.detail.index,r=n.detail.value,e=this._filter,i,u;e(r)&&(i=this._findInsertionPosition(t,f),u=this._filteredKeys,u.splice(i,0,t),this._notifyItemInserted(t,i,r))},_listItemMoved:function(n){var t=n.detail.key,f=n.detail.newIndex,e=n.detail.value,i=this._filteredKeys,r=i.indexOf(t),u;r!==-1&&(i.splice(r,1),u=this._findInsertionPosition(t,f),i.splice(u,0,t),this._notifyItemMoved(t,r,u,e))},_listItemMutated:function(n){var t=n.detail.key,i=n.detail.value,e=n.detail.item,s=this._filter,o=this._filteredKeys,r=o.indexOf(t),u=r!==-1,f=s(i);u&&f?this._notifyItemMutated(t,i,e):u&&!f?(o.splice(r,1),this._notifyItemRemoved(t,r,i,e)):!u&&f&&this._listItemInserted({detail:{key:t,index:this._list.indexOfKey(t),value:i}})},_listItemRemoved:function(n){var i=n.detail.key,u=n.detail.value,f=n.detail.item,r=this._filteredKeys,t=r.indexOf(i);t!==-1&&(r.splice(t,1),this._notifyItemRemoved(i,t,u,f))},_listReload:function(){this._initFilteredKeys();this._notifyReload()},length:{get:function(){return this._filteredKeys.length},set:function(n){if(typeof n=="number"&&n>=0){var t=this.length;t>n&&this.splice(n,t-n)}else throw new r("WinJS.Binding.List.IllegalLength",v.illegalListLength);}},getItem:function(n){return n=s(n),this.getItemFromKey(this._filteredKeys[n])},indexOfKey:function(n){return this._filteredKeys.indexOf(n)},notifyMutated:function(n){return n=s(n),this._notifyMutatedFromKey(this._filteredKeys[n])},setAt:function(n,t){n=s(n);this._setAtKey(this._filteredKeys[n],t)},_spliceFromKey:function(n,t){var r,u,i,s,n,h;if(arguments.length>2&&(r=l(arguments),r[1]=0,this._list._spliceFromKey.apply(this._list,r)),u=[],t){var e=[],f=this._filteredKeys,o=f.indexOf(n);for(i=o,s=f.length;i<s&&i-o<t;i++)n=f[i],e.push(n);h=this;e.forEach(function(n){u.push(h._list._spliceFromKey(n,1)[0])})}return u}},{supportedForProcessing:!1})}),SortedListProjection:t.Namespace._lazy(function(){return t.Class.derive(h.ListProjection,function(n,t){this._list=n;this._addListListener("itemchanged",this._listItemChanged);this._addListListener("iteminserted",this._listItemInserted);this._addListListener("itemmoved",this._listItemMoved);this._addListListener("itemmutated",this._listItemMutated);this._addListListener("itemremoved",this._listItemRemoved);this._addListListener("reload",this._listReload);this._sortFunction=t;this._initSortedKeys()},{_sortFunction:null,_sortedKeys:null,_initSortedKeys:function(){for(var t=this._list,r=[],i,f,e,n=0,u=t.length;n<u;n++)i=t.getItem(n),i&&(r[n]=i.key);f=this._sortFunction;e=p(r,function(n,i){return n=t.getItemFromKey(n).data,i=t.getItemFromKey(i).data,f(n,i)});this._sortedKeys=e},_findInsertionPos:function(n,t,i,r,u){for(var a=this._sortFunction,c=this._sortedKeys,f=Math.max(0,r||-1),o=Math.min(c.length,u||Number.MAX_VALUE),e=f,s,l,h;f<=o;){if(e=(f+o)/2>>>0,s=c[e],!s)break;if(l=this.getItemFromKey(s),h=a(l.data,i),h<0)f=e+1;else{if(h===0)return this._findStableInsertionPos(n,t,f,o,e,i);o=e-1}}return f},_findBeginningOfGroup:function(n,t,i,r,u){for(var f=0,e=n;f<=e;){n=(f+e)/2>>>0;var o=r[n],s=i.getItemFromKey(o),h=t(s.data,u);h<0?f=n+1:e=n-1}return f},_findEndOfGroup:function(n,t,i,r,u){for(var f=n,e=r.length,o,s,h;f<=e;){if(n=(f+e)/2>>>0,o=r[n],!o)return r.length;s=i.getItemFromKey(o);h=t(s.data,u);h<=0?f=n+1:e=n-1}return f},_findStableInsertionPos:function(n,t,i,r,u,f){var h=this._list,c=h.length,l=this._sortFunction,s=this._sortedKeys,e,o;if(t<c/2){for(e=t-1;e>=0;e--)if(o=h.getItem(e),l(o.data,f)===0)return c-i>r?s.indexOf(o.key,i)+1:s.lastIndexOf(o.key,r)+1;return this._findBeginningOfGroup(u,l,h,s,f)}for(e=t+1;e<c;e++)if(o=h.getItem(e),l(o.data,f)===0)return c-i>r?s.indexOf(o.key,i):s.lastIndexOf(o.key,r);return this._findEndOfGroup(u,l,h,s,f)},_listItemChanged:function(n){var t=n.detail.key,i=n.detail.newValue,r=n.detail.oldValue,f=this._sortFunction,u;f(r,i)===0?(u=this.indexOfKey(t),this._notifyItemChanged(t,u,r,i,n.detail.oldItem,n.detail.newItem)):(this._listItemRemoved({detail:{key:t,index:n.detail.index,value:n.detail.oldValue,item:n.detail.oldItem}}),this._listItemInserted({detail:{key:t,index:n.detail.index,value:n.detail.newValue}}))},_listItemInserted:function(n,t,i){var r=n.detail.key,e=n.detail.index,u=n.detail.value,f=this._findInsertionPos(r,e,u,t,i);this._sortedKeys.splice(f,0,r);this._notifyItemInserted(r,f,u)},_listItemMoved:function(n,t,i){var r=n.detail.key,s=n.detail.newIndex,o=n.detail.value,f=this._sortedKeys,e=f.indexOf(r,t),u;f.splice(e,1);u=this._findInsertionPos(r,s,o,t,i);f.splice(u,0,r);u!==e&&this._notifyItemMoved(r,e,u,o)},_listItemMutated:function(n){var t=n.detail.key,i=n.detail.value,f=n.detail.item,r=this._list.indexOfKey(t),u=this._sortedKeys.indexOf(t),e;if(this._sortedKeys.splice(u,1),e=this._findInsertionPos(t,r,i),this._sortedKeys.splice(u,0,t),u===e){this._notifyItemMutated(t,i,f);return}this._listItemRemoved({detail:{key:t,index:r,value:i,item:f}});this._listItemInserted({detail:{key:t,index:r,value:i}})},_listItemRemoved:function(n,t){var i=n.detail.key,f=n.detail.value,e=n.detail.item,r=this._sortedKeys,u=r.indexOf(i,t);r.splice(u,1);this._notifyItemRemoved(i,u,f,e)},_listReload:function(){this._initSortedKeys();this._notifyReload()},length:{get:function(){return this._sortedKeys.length},set:function(n){if(typeof n=="number"&&n>=0){var t=this.length;t>n&&this.splice(n,t-n)}else throw new r("WinJS.Binding.List.IllegalLength",v.illegalListLength);}},getItem:function(n){return n=s(n),this.getItemFromKey(this._sortedKeys[n])},indexOfKey:function(n){return this._sortedKeys.indexOf(n)},notifyMutated:function(n){n=s(n);this._notifyMutatedFromKey(this._sortedKeys[n])},setAt:function(n,t){n=s(n);this._setAtKey(this._sortedKeys[n],t)},_spliceFromKey:function(n,t){var r,u,i,s,h;if(arguments.length>2&&(r=l(arguments),r[1]=0,this._list._spliceFromKey.apply(this._list,r)),u=[],t){var e=[],f=this._sortedKeys,o=f.indexOf(n);for(i=o,s=f.length;i<s&&i-o<t;i++)e.push(f[i]);h=this;e.forEach(function(n){u.push(h._list._spliceFromKey(n,1)[0])})}return u}},{supportedForProcessing:!1})}),GroupedSortedListProjection:t.Namespace._lazy(function(){return t.Class.derive(h.SortedListProjection,function(n,t,i,r){this._list=n;this._addListListener("itemchanged",this._listGroupedItemChanged);this._addListListener("iteminserted",this._listGroupedItemInserted);this._addListListener("itemmoved",this._listGroupedItemMoved);this._addListListener("itemmutated",this._listGroupedItemMutated);this._addListListener("itemremoved",this._listGroupedItemRemoved);this._addListListener("reload",this._listReload);this._sortFunction=function(n,i){return n=t(n),i=t(i),r?r(n,i):n<i?-1:n===i?0:1};this._groupKeyOf=t;this._groupDataOf=i;this._initSortedKeys();this._initGroupedItems()},{_groupKeyOf:null,_groupDataOf:null,_groupedItems:null,_initGroupedItems:function(){for(var i={},r=this._list,f=this._groupKeyOf,n,t=0,u=r.length;t<u;t++)n=c(r.getItem(t)),n.groupKey=f(n.data),i[n.key]=n;this._groupedItems=i},_groupsProjection:null,_listGroupedItemChanged:function(n){var i=n.detail.key,e=n.detail.oldValue,r=n.detail.newValue,o=this._groupedItems,u=o[i],t=c(u),f;t.data=r;t.groupKey=this._groupKeyOf(r);o[i]=t;u.groupKey===t.groupKey?(f=this.indexOfKey(i),this._notifyItemChanged(i,f,e,r,u,t)):(f=n.detail.index,this._listItemChanged({detail:{key:i,index:f,oldValue:e,newValue:r,oldItem:u,newItem:t}}))},_listGroupedItemInserted:function(n){var i=n.detail.key,u=n.detail.value,f=this._groupKeyOf(u),r,e,t;this._groupedItems[i]={handle:i,key:i,data:u,groupKey:f};this._groupsProjection&&(t=this._groupsProjection._groupItems[f],t&&(r=t.firstItemIndexHint,e=r+t.groupSize));this._listItemInserted(n,r,e)},_listGroupedItemMoved:function(n){var t,r,u=this._groupedItems[n.detail.key].groupKey,i;this._groupsProjection&&(i=this._groupsProjection._groupItems[u],t=i.firstItemIndexHint,r=t+i.groupSize);this._listItemMoved(n,t,r)},_listGroupedItemMutated:function(n){var t=n.detail.key,i=n.detail.value,e=this._groupedItems,r=e[t],o=this._groupKeyOf(i),u,f;r.groupKey===o?this._notifyItemMutated(t,i,r):(u=c(r),u.groupKey=o,e[t]=u,f=this._list.indexOfKey(t),this._listItemRemoved({detail:{key:t,index:f,value:i,item:r}}),this._listItemInserted({detail:{key:t,index:f,value:i}}))},_listGroupedItemRemoved:function(n){var t=n.detail.key,o=n.detail.index,s=n.detail.value,u=this._groupedItems,f=u[t],i,e,r;delete u[t];this._groupsProjection&&(r=this._groupsProjection._groupItems[f.groupKey],i=r.firstItemIndexHint,e=i+r.groupSize);this._listItemRemoved({detail:{key:t,index:o,value:s,item:f}},i,e)},_listReload:function(){this._initGroupedItems();h.SortedListProjection.prototype._listReload.call(this)},groups:{get:function(){return this._groupsProjection===null&&(this._groupsProjection=new h.GroupsListProjection(this,this._groupKeyOf,this._groupDataOf)),this._groupsProjection}},getItemFromKey:function(n){return this._groupedItems[n]}},{supportedForProcessing:!1})}),GroupsListProjection:t.Namespace._lazy(function(){return t.Class.derive(h.ListBase,function(n,t,i){this._list=n;this._addListListener("itemchanged",this._listItemChanged);this._addListListener("iteminserted",this._listItemInserted);this._addListListener("itemmoved",this._listItemMoved);this._addListListener("itemremoved",this._listItemRemoved);this._addListListener("reload",this._listReload);this._groupKeyOf=t;this._groupDataOf=i;this._initGroupKeysAndItems()},{_list:null,_addListListener:function(n,t){this._list.addEventListener(n,t.bind(this))},_groupDataOf:null,_groupKeyOf:null,_groupOf:function(n){return this.getItemFromKey(this._groupKeyOf(n.data))},_groupKeys:null,_groupItems:null,_initGroupKeysAndItems:function(){for(var c=this._groupDataOf,f=this._list,e={},o=[],s=null,t=null,r,u,n,i=0,h=f.length;i<h;i++)u=f.getItem(i),n=u.groupKey,n!==s?(t&&(t.groupSize=r),r=1,s=n,t={handle:n,key:n,data:c(u.data),firstItemKey:u.key,firstItemIndexHint:i},e[n]=t,o.push(n)):r++;t&&(t.groupSize=r);this._groupKeys=o;this._groupItems=e},_listItemChanged:function(n){var u=n.detail.key,e=n.detail.index,o=n.detail.newValue,s=this._list,i=s.getItemFromKey(u).groupKey,f=this._groupItems,r=f[i],t;r.firstItemIndexHint===e&&(t=c(r),t.data=this._groupDataOf(o),t.firstItemKey=u,f[i]=t,this._notifyItemChanged(i,this._groupKeys.indexOf(i),r.data,t.data,r,t))},_listItemInserted:function(n){var a=n.detail.key,h=n.detail.index,v=n.detail.value,y=this._list,r=y.getItemFromKey(a).groupKey,e=this._groupItems,o=this._groupKeys,f=e[r],s,u,t,i,l;if(f)u=f,t=c(u),t.groupSize++,u.firstItemIndexHint===h&&(t.groupData=this._groupDataOf(v),t.firstItemKey=a,t.firstItemIndexHint=h),e[r]=t,s=o.indexOf(r),this._notifyItemChanged(r,s,u.data,t.data,u,t);else{for(i=0,l=o.length;i<l;i++)if(f=e[o[i]],f.firstItemIndexHint>=h)break;s=i;f={handle:r,key:r,data:this._groupDataOf(v),groupSize:1,firstItemKey:a,firstItemIndexHint:h};o.splice(s,0,r);e[r]=f;this._notifyItemInserted(r,s,f.data)}for(i=s+1,l=o.length;i<l;i++)u=e[o[i]],t=c(u),t.firstItemIndexHint++,e[t.key]=t,this._notifyItemChanged(t.key,i,u.data,t.data,u,t)},_listItemMoved:function(n){var o=n.detail.key,s=n.detail.oldIndex,h=n.detail.newIndex,f=this._list,r=f.getItemFromKey(o).groupKey,e=this._groupItems,t=e[r],u,i;(t.firstItemIndexHint===h||t.firstItemIndexHint===s)&&(u=f.getItem(t.firstItemIndexHint),i=c(t),i.data=this._groupDataOf(u.data),i.firstItemKey=u.key,e[r]=i,this._notifyItemChanged(r,this._groupKeys.indexOf(r),t.data,i.data,t,i))},_listItemRemoved:function(n){var l=n.detail.index,v=n.detail.item,u=this._groupItems,o=this._groupKeys,r=v.groupKey,s=u[r],f=o.indexOf(r),i,t,h,e,a;for(s.groupSize===1?(o.splice(f,1),delete u[r],this._notifyItemRemoved(r,f,s.data,s),f--):(i=s,t=c(i),t.groupSize--,i.firstItemIndexHint===l&&(h=this._list.getItem(l),t.data=this._groupDataOf(h.data),t.firstItemKey=h.key),u[r]=t,this._notifyItemChanged(r,f,i.data,t.data,i,t)),e=f+1,a=o.length;e<a;e++)i=u[o[e]],t=c(i),t.firstItemIndexHint--,u[t.key]=t,this._notifyItemChanged(t.key,e,i.data,t.data,i,t)},_listReload:function(){this._initGroupKeysAndItems();this._notifyReload()},length:{get:function(){return this._groupKeys.length}},getItem:function(n){return n=s(n),this._groupItems[this._groupKeys[n]]},getItemFromKey:function(n){return this._groupItems[n]},indexOfKey:function(n){return this._groupKeys.indexOf(n)}},{supportedForProcessing:!1})})});t.Namespace._moduleDefine(n,"WinJS.Binding",{List:t.Namespace._lazy(function(){return t.Class.derive(h.ListBaseWithMutators,function(n,t){var s,f,o;if(this._currentKey=0,this._keys=null,this._keyMap={},t=t||y,this._proxy=t.proxy,this._binding=t.binding,this._proxy){if(Object.keys(n).length!==n.length)throw new r("WinJS.Binding.List.NotSupported",v.sparseArrayNotSupported);this._data=n;this._currentKey=n.length}else if(n){var h=this._keyMap,u=0,i=0;for(s=n.length;i<s;i++)i in n&&(f=n[i],this._binding&&(f=e.as(f)),o=u.toString(),u++,h[o]={handle:o,key:o,data:f});u!==i&&this._initializeKeys();this._currentKey=u}},{_currentKey:0,_keys:null,_keyMap:null,_modifyingData:0,_initializeKeys:function(){var i,f,r,n,o,t,u;if(!this._keys){if(i=[],this._data)for(f=this._keyMap,r=this._data,n=0,o=r.length;n<o;n++)n in r&&(t=n.toString(),i[n]=t,t in f||(u=r[n],this._binding&&(u=e.as(u)),f[t]={handle:t,key:t,data:u}));else Object.keys(this._keyMap).forEach(function(n){i[n>>>0]=n});this._keys=i}},_lazyPopulateEntry:function(n){var t,r,i;if(this._data&&n in this._data)return t=this._data[n],this._binding&&(t=e.as(t)),r=n.toString(),i={handle:r,key:r,data:t},this._keyMap[i.key]=i,i},_assignKey:function(){return(++this._currentKey).toString()},length:{get:function(){return this._data?this._data.length:this._keys?this._keys.length:this._currentKey},set:function(n){if(typeof n=="number"&&n>=0){this._initializeKeys();var t=this.length;if(t>n?this.splice(n,t-n):n=t,this._data){this._modifyingData++;try{this._data.length=n}finally{this._modifyingData--}}this._keys&&(this._keys.length=n)}else throw new r("WinJS.Binding.List.IllegalLength",v.illegalListLength);}},getItem:function(n){var i,t;return n=s(n),this._keys?(t=this._keys[n],i=t&&this._keyMap[t]):(t=n.toString(),i=this._keyMap[t]||this._lazyPopulateEntry(n)),i},getItemFromKey:function(n){return this._keys||!this._data?this._keyMap[n]:this.getItem(n>>>0)},indexOfKey:function(n){var t=-1,i;return this._keys?t=this._keys.indexOf(n):(i=n>>>0,i<this._currentKey&&(t=i)),t},move:function(n,t){var r,i;if(n=s(n),t=s(t),this._initializeKeys(),n!==t&&!(n<0)&&!(t<0)&&!(n>=this.length)&&!(t>=this.length)){if(this._data){this._modifyingData++;try{r=this._data.splice(n,1)[0];this._data.splice(t,0,r)}finally{this._modifyingData--}}i=this._keys.splice(n,1)[0];this._keys.splice(t,0,i);this._notifyItemMoved(i,n,t,this.getItemFromKey(i).data)}},notifyMutated:function(n){n=s(n);var t=this._keys?this._keys[n]:n.toString();this._notifyMutatedFromKey(t)},setAt:function(n,t){var i;if(n=s(n),this._initializeKeys(),i=this.length,n===i)this.push(t);else if(n<i){if(this._data){this._modifyingData++;try{this._data[n]=t}finally{this._modifyingData--}}if(this._binding&&(t=e.as(t)),n in this._keys){var r=this._keys[n],u=this._keyMap[r],f=c(u);f.data=t;this._keyMap[r]=f;this._notifyItemChanged(r,n,u.data,t,u,f)}}},_setAtKey:function(n,t){this.setAt(this.indexOfKey(n),t)},reverse:function(){if(this._initializeKeys(),this._data){this._modifyingData++;try{this._data.reverse()}finally{this._modifyingData--}}return this._keys.reverse(),this._notifyReload(),this},sort:function(n){if(this._initializeKeys(),this._data){this._modifyingData++;try{this._data.sort(n)}finally{this._modifyingData--}}var t=this;return this._keys.sort(function(i,r){return(i=t._keyMap[i],r=t._keyMap[r],n)?n(i.data,r.data):(i=(i&&i.data||"").toString(),r=(i&&r.data||"").toString(),i<r?-1:i===r?0:1)}),this._notifyReload(),this},pop:function(){if(this.length!==0){this._initializeKeys();var n=this._keys.pop(),t=this._keyMap[n],i=t&&t.data;if(this._data){this._modifyingData++;try{this._data.pop()}finally{this._modifyingData--}}return delete this._keyMap[n],this._notifyItemRemoved(n,this._keys.length,i,t),i}},push:function(){var r,t,i,n;for(this._initializeKeys(),r=arguments.length,t=0;t<r;t++){if(i=arguments[t],this._binding&&(i=e.as(i)),n=this._assignKey(),this._keys.push(n),this._data){this._modifyingData++;try{this._data.push(arguments[t])}finally{this._modifyingData--}}this._keyMap[n]={handle:n,key:n,data:i};this._notifyItemInserted(n,this._keys.length-1,i)}return this.length},shift:function(){if(this.length!==0){this._initializeKeys();var n=this._keys.shift(),t=this._keyMap[n],i=t&&t.data;if(this._data){this._modifyingData++;try{this._data.shift()}finally{this._modifyingData--}}return delete this._keyMap[n],this._notifyItemRemoved(n,0,i,t),i}},unshift:function(){var r,t,i,n;for(this._initializeKeys(),r=arguments.length,t=r-1;t>=0;t--){if(i=arguments[t],this._binding&&(i=e.as(i)),n=this._assignKey(),this._keys.unshift(n),this._data){this._modifyingData++;try{this._data.unshift(arguments[t])}finally{this._modifyingData--}}this._keyMap[n]={handle:n,key:n,data:i};this._notifyItemInserted(n,0,i)}return this.length},splice:function(n,t){var o,i,a,u,f,r;for(n=s(n),this._initializeKeys(),n=Math.max(0,this._normalizeIndex(n)),t=Math.max(0,Math.min(t||0,this.length-n)),o=[];t;){var h=this._keys[n],c=this._keyMap[h],l=c&&c.data;if(o.push(l),this._keys.splice(n,1),this._data){this._modifyingData++;try{this._data.splice(n,1)}finally{this._modifyingData--}}delete this._keyMap[h];this._notifyItemRemoved(h,n,l,c);--t}if(arguments.length>2)for(i=2,a=arguments.length;i<a;i++){if(u=arguments[i],this._binding&&(u=e.as(u)),f=Math.min(n+i-2,this.length),r=this._assignKey(),this._keys.splice(f,0,r),this._data){this._modifyingData++;try{this._data.splice(f,0,arguments[i])}finally{this._modifyingData--}}this._keyMap[r]={handle:r,key:r,data:u};this._notifyItemInserted(r,f,u)}return o},_spliceFromKey:function(n){this._initializeKeys();var t=l(arguments);return t[0]=this._keys.indexOf(n),this.splice.apply(this,t)}},{supportedForProcessing:!1})})})}),t("WinJS/Res",["exports","./Core/_Global","./Core/_Base","./Core/_BaseUtils","./Core/_ErrorFromName","./Core/_Resources","./ControlProcessor/_OptionsParser","./Promise"],function(n,t,i,r,u,f,e,o){"use strict";function s(n,i){var i,p,w,y,c,b,f,a,s;if(n=n||t.document.body,i=i||0,i<4){if(i===0&&n.getAttribute&&(p=n.getAttribute("data-win-res"),p&&(s=e.optionsParser(p),h(n,n,s,i))),w="[data-win-res],[data-win-control]",y=n.querySelectorAll(w),y.length===0)return o.as(n);for(c=0,b=y.length;c<b;c++)(f=y[c],f.winControl&&f.winControl.constructor&&f.winControl.constructor.isDeclarativeControlContainer&&(a=f.winControl.constructor.isDeclarativeControlContainer,typeof a=="function"&&(a=l(a),a(f.winControl,v),c+=f.querySelectorAll(w).length)),f.hasAttribute("data-win-res"))&&(s=e.optionsParser(f.getAttribute("data-win-res")),h(f,f,s,i))}else if(r.validation)throw new u("WinJS.Res.NestingExceeded","NestingExceeded");return o.as(n)}function y(n,t){for(var e=Object.keys(t),u=0,o=e.length;u<o;u++){var s=e[u],h=t[s],i=f.getString(h);i&&i.empty?r.validation&&a(h):(n.setAttribute(s,i.value),i.lang!==undefined&&n.lang!==undefined&&n.lang!==i.lang&&(n.lang=i.lang))}}function a(n){throw new u("WinJS.Res.NotFound",f._formatString("NotFound: {0}",n));}function h(n,t,i,u){var p=Object.keys(i),v,w,o,c,e;for(t=l(t),v=0,w=p.length;v<w;v++)o=p[v],c=i[o],typeof c=="string"?(e=f.getString(c),e&&e.empty?r.validation&&a(c):(t[o]=e.value,e.lang!==undefined&&n.lang!==undefined&&n.lang!==e.lang&&(n.lang=e.lang),o==="innerHTML"&&s(t,u+1))):n===t&&o==="attributes"?y(n,c):h(n,t[o],c,u)}function v(n){if(c)try{return s(n)}catch(t){return o.wrapError(t)}else return r.ready().then(function(){return c=!0,s(n)})}var c=!1,l=r.requireSupportedForProcessing;i.Namespace._moduleDefine(n,"WinJS.Resources",{processAll:v})}),t("WinJS/Pages/_BasePage",["exports","../Core/_Global","../Core/_Base","../Core/_BaseUtils","../Core/_WriteProfilerMark","../Promise","../Utilities/_Control","../Utilities/_Dispose","../Utilities/_ElementUtilities"],function(n,t,i,r,u,f,e,o,s){"use strict";function c(n){var i=t.document.createElement("a");return i.href=n,i.href}function l(n){return t.document.location.href.toLowerCase()===n.toLowerCase()}function y(n,o){var y=v(n);return n=c(n),y||(y=i.Class.define(function(i,e,o,h){var c=this,a,p,v,y;this._disposed=!1;this.element=i=i||t.document.createElement("div");s.addClass(i,"win-disposable");i.msSourceLocation=n;this.uri=n;this.selfhost=l(n);i.winControl=this;s.addClass(i,"pagecontrol");a=" uri='"+n+"'"+r._getProfilerMarkIdentifier(this.element);u("WinJS.UI.Pages:createPage"+a+",StartTM");p=f.wrap().then(function(){return c.load(n)});v=p.then(function(n){return f.join({loadResult:n,initResult:c.init(i,e)})}).then(function(n){return c.render(i,e,n.loadResult)});this.elementReady=v.then(function(){return i});this.renderComplete=v.then(function(){return c.process(i,e)}).then(function(){return c.processed(i,e)}).then(function(){return c});y=function(){o&&o(c);u("WinJS.UI.Pages:createPage"+a+",StopTM")};this.renderComplete.then(y,y);this.readyComplete=this.renderComplete.then(function(){return h}).then(function(){return c.ready(i,e),c}).then(null,function(n){return c.error(n)})},a),y=i.Class.mix(y,e.DOMEventMixin),h[n.toLowerCase()]=y),o&&(y=i.Class.mix(y,o)),y.selfhost=l(n),y}function v(n){return n=c(n),h[n.toLowerCase()]}function p(n){n=c(n);delete h[n.toLowerCase()]}var h,a;t.document&&(h={},a={dispose:function(){this._disposed||(this._disposed=!0,o.disposeSubTree(this.element),this.element=null)},load:function(){},init:function(){},process:function(){},processed:function(){},render:function(){},ready:function(){},error:function(n){return f.wrapError(n)}},i.Namespace._moduleDefine(n,null,{abs:c,define:y,get:v,remove:p,viewMap:h}))}),t("WinJS/Pages",["exports","./Core/_Global","./Core/_Base","./Core/_BaseUtils","./ControlProcessor","./Fragments","./Pages/_BasePage","./Promise",],function(n,t,i,r,u,f,e,o){"use strict";function s(n,u){var f=e.get(n);return f||(f=e.define(n,l)),u&&(f=i.Class.mix(f,u)),f.selfhost&&r.ready(function(){c(e.abs(n),t.document.body)},!0),f}function h(n){var t=e.get(n);return t||(t=s(n)),t}function a(n){f.clearCache(e.abs(n));e.remove(n)}function c(n,t,i,r){var f=h(n),u=new f(t,i,null,r);return u.renderComplete.then(null,function(n){return o.wrapError({error:n,page:u})})}if(t.document){var l={load:function(n){if(!this.selfhost)return f.renderCopy(e.abs(n))},process:function(n){return u.processAll(n)},render:function(n,t,i){return this.selfhost||n.appendChild(i),n}};i.Namespace._moduleDefine(n,"WinJS.UI.Pages",{define:s,get:h,_remove:a,render:c,_viewMap:e.viewMap})}}),t("WinJS/Controls/HtmlControl",["exports","../Core/_Global","../Core/_Base","../Pages"],function(n,t,i,r){"use strict";t.document&&i.Namespace._moduleDefine(n,"WinJS.UI",{HtmlControl:i.Class.define(function(n,t,i){r.render(t.uri,n,t).then(i,function(){i()})})})}),t("base",["WinJS/Core/_WinJS","WinJS/Core","WinJS/Promise","WinJS/_Signal","WinJS/Scheduler","WinJS/Utilities","WinJS/XYFocus","WinJS/Fragments","WinJS/Application","WinJS/Navigation","WinJS/Animations","WinJS/Binding","WinJS/BindingTemplate","WinJS/BindingList","WinJS/Res","WinJS/Pages","WinJS/ControlProcessor","WinJS/Controls/HtmlControl",],function(n){"use strict";return n.Namespace.define("WinJS.Utilities",{_require:i,_define:t}),n}),i(["WinJS/Core/_WinJS","base"],function(t){n.WinJS=t;typeof module!="undefined"&&(module.exports=t)}),n.WinJS})})()